{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/icarus/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/insight.js","path":"js/insight.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/avatar.png","path":"css/images/avatar.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/logo.png","path":"css/images/logo.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/thumb-default-small.png","path":"css/images/thumb-default-small.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/whale.png","path":"css/images/whale.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/justified-gallery/justifiedGallery.min.css","path":"libs/justified-gallery/justifiedGallery.min.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/justified-gallery/jquery.justifiedGallery.min.js","path":"libs/justified-gallery/jquery.justifiedGallery.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/styles.css","path":"libs/open-sans/styles.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/source-code-pro/styles.css","path":"libs/source-code-pro/styles.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/favicon.ico","path":"css/images/favicon.ico","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/css/font-awesome.css","path":"libs/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/css/font-awesome.min.css","path":"libs/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-fb-comment-box.css.map","path":"libs/lightgallery/css/lg-fb-comment-box.css.map","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-fb-comment-box.css","path":"libs/lightgallery/css/lg-fb-comment-box.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-fb-comment-box.min.css","path":"libs/lightgallery/css/lg-fb-comment-box.min.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-transitions.css.map","path":"libs/lightgallery/css/lg-transitions.css.map","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-transitions.css","path":"libs/lightgallery/css/lg-transitions.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lightgallery.css","path":"libs/lightgallery/css/lightgallery.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-transitions.min.css","path":"libs/lightgallery/css/lg-transitions.min.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lightgallery.css.map","path":"libs/lightgallery/css/lightgallery.css.map","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/css/lightgallery.min.css","path":"libs/lightgallery/css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/img/loading.gif","path":"libs/lightgallery/img/loading.gif","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/img/video-play.png","path":"libs/lightgallery/img/video-play.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/img/vimeo-play.png","path":"libs/lightgallery/img/vimeo-play.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/img/youtube-play.png","path":"libs/lightgallery/img/youtube-play.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.woff","path":"libs/lightgallery/fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.eot","path":"libs/lightgallery/fonts/lg.eot","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.svg","path":"libs/lightgallery/fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.ttf","path":"libs/lightgallery/fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-autoplay.js","path":"libs/lightgallery/js/lg-autoplay.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-fullscreen.min.js","path":"libs/lightgallery/js/lg-fullscreen.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-autoplay.min.js","path":"libs/lightgallery/js/lg-autoplay.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-fullscreen.js","path":"libs/lightgallery/js/lg-fullscreen.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-hash.js","path":"libs/lightgallery/js/lg-hash.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-pager.min.js","path":"libs/lightgallery/js/lg-pager.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-hash.min.js","path":"libs/lightgallery/js/lg-hash.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-pager.js","path":"libs/lightgallery/js/lg-pager.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-share.js","path":"libs/lightgallery/js/lg-share.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-share.min.js","path":"libs/lightgallery/js/lg-share.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-thumbnail.js","path":"libs/lightgallery/js/lg-thumbnail.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-thumbnail.min.js","path":"libs/lightgallery/js/lg-thumbnail.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-video.js","path":"libs/lightgallery/js/lg-video.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-video.min.js","path":"libs/lightgallery/js/lg-video.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-zoom.js","path":"libs/lightgallery/js/lg-zoom.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-zoom.min.js","path":"libs/lightgallery/js/lg-zoom.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/K88pR3goAWT7BTt32Z01mxJtnKITppOI_IvcXXDNrsc.woff2","path":"libs/open-sans/fonts/K88pR3goAWT7BTt32Z01mxJtnKITppOI_IvcXXDNrsc.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/59ZRklaO5bWGqF5A9baEERJtnKITppOI_IvcXXDNrsc.woff2","path":"libs/open-sans/fonts/59ZRklaO5bWGqF5A9baEERJtnKITppOI_IvcXXDNrsc.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lightgallery.min.js","path":"libs/lightgallery/js/lightgallery.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/lightgallery/js/lightgallery.js","path":"libs/lightgallery/js/lightgallery.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/LWCjsQkB6EMdfHrEVqA1KRJtnKITppOI_IvcXXDNrsc.woff2","path":"libs/open-sans/fonts/LWCjsQkB6EMdfHrEVqA1KRJtnKITppOI_IvcXXDNrsc.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNShWV49_lSm1NYrwo-zkhivY.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNShWV49_lSm1NYrwo-zkhivY.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSj0LW-43aMEzIO6XUTLjad8.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSj0LW-43aMEzIO6XUTLjad8.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSpX5f-9o1vgP2EXwfjgl7AY.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSpX5f-9o1vgP2EXwfjgl7AY.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSqaRobkAwv3vxw3jMhVENGA.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSqaRobkAwv3vxw3jMhVENGA.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSq-j2U0lmluP9RWlSytm3ho.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSq-j2U0lmluP9RWlSytm3ho.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSugdm0LZdjqr5-oayXSOefg.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSugdm0LZdjqr5-oayXSOefg.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSv8zf_FOSsgRmwsS7Aa9k2w.woff2","path":"libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSv8zf_FOSsgRmwsS7Aa9k2w.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/RjgO7rYTmqiVp7vzi-Q5URJtnKITppOI_IvcXXDNrsc.woff2","path":"libs/open-sans/fonts/RjgO7rYTmqiVp7vzi-Q5URJtnKITppOI_IvcXXDNrsc.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/cJZKeOuBrn4kERxqtaUH3VtXRa8TVwTICgirnJhmVJw.woff2","path":"libs/open-sans/fonts/cJZKeOuBrn4kERxqtaUH3VtXRa8TVwTICgirnJhmVJw.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/u-WUoqrET9fUeobQW7jkRRJtnKITppOI_IvcXXDNrsc.woff2","path":"libs/open-sans/fonts/u-WUoqrET9fUeobQW7jkRRJtnKITppOI_IvcXXDNrsc.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBiYE0-AqJ3nfInTTiDXDjU4.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBiYE0-AqJ3nfInTTiDXDjU4.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBkbcKLIaa1LC45dFaAfauRA.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBkbcKLIaa1LC45dFaAfauRA.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjTOQ_MqJVwkKsUn0wKzc2I.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjTOQ_MqJVwkKsUn0wKzc2I.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjUj_cnvWIuuBMVgbX098Mw.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjUj_cnvWIuuBMVgbX098Mw.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBmo_sUJ8uO4YLWRInS22T3Y.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBmo_sUJ8uO4YLWRInS22T3Y.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xozscpT2726on7jbcb_pAhJtnKITppOI_IvcXXDNrsc.woff2","path":"libs/open-sans/fonts/xozscpT2726on7jbcb_pAhJtnKITppOI_IvcXXDNrsc.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBr6up8jxqWt8HVA3mDhkV_0.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBr6up8jxqWt8HVA3mDhkV_0.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBo4P5ICox8Kq3LLUNMylGO4.woff2","path":"libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBo4P5ICox8Kq3LLUNMylGO4.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasD9V_2ngZ8dMf8fLgjYEouxg.woff2","path":"libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasD9V_2ngZ8dMf8fLgjYEouxg.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasDy2Q8seG17bfDXYR_jUsrzg.woff2","path":"libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasDy2Q8seG17bfDXYR_jUsrzg.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.eot","path":"libs/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/jquery/2.1.3/jquery.min.js","path":"libs/jquery/2.1.3/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.woff","path":"libs/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/fonts/FontAwesome.otf","path":"libs/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.woff2","path":"libs/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.ttf","path":"libs/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.svg","path":"libs/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/profile_pic.jpg","path":"css/images/profile_pic.jpg","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/images/profile_pic.png","path":"css/images/profile_pic.png","modified":0,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"fbaa8154c2fd3a8f1b1e5c7c14b155a4f55a9f66","modified":1489197076000},{"_id":"themes/icarus/LICENSE","hash":"df00918fa95de563927fd92b26f14c7affdc3052","modified":1489077013000},{"_id":"themes/icarus/.DS_Store","hash":"b71975f008908ea64b717e5cda1940ffcd91470d","modified":1489285713000},{"_id":"themes/icarus/README.md","hash":"25c75503f044b817297995a96621c92ce037a098","modified":1489077013000},{"_id":"themes/icarus/_config.yml","hash":"b66215499e97b6b9add609ca000c164df8577a6a","modified":1489749010000},{"_id":"themes/icarus/package.json","hash":"1bc52ef10a33df23e56bd73c927f605019c87d41","modified":1489077013000},{"_id":"source/_posts/.DS_Store","hash":"0bb846f9b016eace43c9a5019cba7b663cde1b0d","modified":1489227340000},{"_id":"source/_posts/HTTPS-with-Letsencrypt.md","hash":"60c00bb6988e6111cc96e0ba291486b2d316a782","modified":1489743113000},{"_id":"source/_posts/image-hosting-and-https.md","hash":"541a3558a018e04c3b559930ad25b08170195cd9","modified":1489743060000},{"_id":"source/_posts/hexo-user-notes.md","hash":"a7f8fb88b536b8378ff728df4e4a53bf1a64b3b3","modified":1489226981000},{"_id":"source/_posts/hexo-icarus-settings.md","hash":"ed3d655bb017826b6bfd2f003595c86a33f40127","modified":1489283884000},{"_id":"source/_posts/rebuild-personal-website-and-blog.md","hash":"8bf6e416b046f15bcd537c2c5673f0f1ea5d4b1b","modified":1489737120000},{"_id":"source/about/index.md","hash":"ec0d2a26bf2c6ac686a4f5c5653ea96afacfbf6a","modified":1489748925000},{"_id":"source/_posts/understand-blockchain-01.md","hash":"07863ce65348f5f9518025ccb22bcbb9e05f4f40","modified":1489284069000},{"_id":"source/categories/index.md","hash":"55bee2cb88da438a2e8b1f29b1d7e954c07a9e60","modified":1489077013000},{"_id":"source/tags/index.md","hash":"e999413d6392c34156b5c6e9273f9069f9e6d92d","modified":1489077013000},{"_id":"themes/icarus/_source/.DS_Store","hash":"08d5f02e78a8b24e4e434dbc57495ed0fc0d00c8","modified":1489195741000},{"_id":"themes/icarus/languages/en.yml","hash":"ade241498b85503a8953a1deca963222f47067a7","modified":1489077013000},{"_id":"themes/icarus/languages/fr.yml","hash":"cb3e597cbec7e8f458858c457bafd1f3a225083d","modified":1489077013000},{"_id":"themes/icarus/languages/es.yml","hash":"d7432219be5bee4cb569331378ade61b749688e0","modified":1489077013000},{"_id":"themes/icarus/languages/id.yml","hash":"70ec9ab2ac04cf882e81377ca5ad15bf8adceca8","modified":1489077013000},{"_id":"themes/icarus/languages/ja.yml","hash":"ff972961e5f468a695d80d21b62c3e9032cdf561","modified":1489077013000},{"_id":"themes/icarus/languages/ko.yml","hash":"7c4ad4577dc0577ad2ca1c0410507f5e5fadf530","modified":1489077013000},{"_id":"themes/icarus/languages/pt-BR.yml","hash":"3c5d5293575593705b9a2dfa9d97b017eb4bc8c3","modified":1489077013000},{"_id":"themes/icarus/languages/ru.yml","hash":"d1aab2b0c939d0c6020f881d664b660a01ee7327","modified":1489077013000},{"_id":"themes/icarus/languages/zh-CN.yml","hash":"3dc8ec524805afd090438be717908750da439204","modified":1489077013000},{"_id":"themes/icarus/languages/zh-TW.yml","hash":"d8d96a0a17c20af11919ce036e87379a6b163db9","modified":1489077013000},{"_id":"themes/icarus/languages/tr.yml","hash":"8b7eb6aec264db50dbabea89f680acca256f4cd1","modified":1489077013000},{"_id":"themes/icarus/layout/archive.ejs","hash":"c1ecf667f40f34d61ab33eed46bab143eb1af36d","modified":1489077013000},{"_id":"themes/icarus/layout/category.ejs","hash":"1d407f9176db84e83062c52ad4755aaea9e74401","modified":1489077013000},{"_id":"themes/icarus/layout/categories.ejs","hash":"aa95629b770cff8cca9d663aeb6b17928f070de5","modified":1489077013000},{"_id":"themes/icarus/layout/.DS_Store","hash":"77a817ec46dc19029a35b00f1ac422f19b0b2c72","modified":1489235297000},{"_id":"themes/icarus/layout/index.ejs","hash":"43e971ebc35657b18e08a049559790348a16666f","modified":1489077013000},{"_id":"themes/icarus/layout/layout.ejs","hash":"11cfe6f0c65d4da9920c78980ea5cb19217e7d26","modified":1489279502000},{"_id":"themes/icarus/layout/page.ejs","hash":"50170783bac99946ae8af483920568de9b2d9801","modified":1489077013000},{"_id":"themes/icarus/layout/post.ejs","hash":"50170783bac99946ae8af483920568de9b2d9801","modified":1489077013000},{"_id":"themes/icarus/scripts/meta.js","hash":"1993754a2f3dffa283fa0538eb8f056385b69ad4","modified":1489077013000},{"_id":"themes/icarus/scripts/thumbnail.js","hash":"e667a611f9baac270281b765832020d50bf8fb7f","modified":1489077013000},{"_id":"themes/icarus/layout/tag.ejs","hash":"f6c220d4e5c231028bc71ddc11aec97d7b5a9943","modified":1489077013000},{"_id":"themes/icarus/layout/tags.ejs","hash":"b0fcea68d7c11e5899bf0375d80997685111653f","modified":1489077013000},{"_id":"themes/icarus/source/.DS_Store","hash":"dc10dfb67dcb4ca441e500dd9a1f5cdcd3e60ca2","modified":1489083910000},{"_id":"source/_posts/hexo-icarus-settings/14891972108134.jpg","hash":"4c2aba52de41e806289c7fd30e33820fc4bb8fad","modified":1489197210000},{"_id":"source/_posts/hexo-icarus-settings/14892366823423.jpg","hash":"b63e1956d21121afc6d8f9f6aeb2481d73ccdfda","modified":1489236682000},{"_id":"source/_posts/hexo-icarus-settings/14892373341062.jpg","hash":"f4c760b730d6ef76b9116ea41a5f48fc7417375d","modified":1489237334000},{"_id":"source/_posts/media/14897372959318.jpg","hash":"17e5166a2171cfa5ebfdbb9c69c558dd3719d87f","modified":1489737295000},{"_id":"source/_posts/media/14891972108134.jpg","hash":"4c2aba52de41e806289c7fd30e33820fc4bb8fad","modified":1489197210000},{"_id":"source/_posts/media/14897373101631.jpg","hash":"f833a415f39b694f8deb6de7f9b0202ac2ffde27","modified":1489737310000},{"_id":"source/_posts/rebuild-personal-website-and-blog/14889387685017.jpg","hash":"c4797b57dc44c82de27a484b7769f2961d4b7c77","modified":1488938768000},{"_id":"source/_posts/rebuild-personal-website-and-blog/14890468705671.jpg","hash":"69166b721ea9317b702f29e416ddd85bc92c4d73","modified":1489046870000},{"_id":"source/_posts/understand-blockchain-01/14834174393360.jpg","hash":"bef7a4300ec9c9a20316c49004f0c3f33f425669","modified":1483417439000},{"_id":"source/_posts/understand-blockchain-01/14834176626345.jpg","hash":"7d167acb1c4e5844f72957001a19f64bd5a680b4","modified":1483417662000},{"_id":"source/_posts/understand-blockchain-01/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1489126785000},{"_id":"source/_posts/understand-blockchain-01/14834271525238.jpg","hash":"394177a4cb3ddbf9ee3144334d6785ea0c752031","modified":1483427152000},{"_id":"source/_posts/understand-blockchain-01/14835023341875.png","hash":"f045ff0849daeb0ad9e199b5fbab7069328088ff","modified":1483502334000},{"_id":"themes/icarus/_source/categories/index.md","hash":"55bee2cb88da438a2e8b1f29b1d7e954c07a9e60","modified":1489077013000},{"_id":"themes/icarus/_source/about/index.md","hash":"2847759c65295fdc47685cc32e10ae30b2f022ae","modified":1489077013000},{"_id":"themes/icarus/_source/tags/index.md","hash":"e999413d6392c34156b5c6e9273f9069f9e6d92d","modified":1489077013000},{"_id":"themes/icarus/layout/comment/disqus.ejs","hash":"1b32a90f400dc580f4b8298de75b94429ca6de68","modified":1489077013000},{"_id":"themes/icarus/layout/comment/counter.ejs","hash":"59abd552086c26cb0a6fd86d18ce380c3b1b3c55","modified":1489077013000},{"_id":"themes/icarus/layout/comment/duoshuo.ejs","hash":"ce46d7410a99b57704da32e9d09071cef6c9fa93","modified":1489077013000},{"_id":"themes/icarus/layout/comment/facebook.ejs","hash":"5ee16430a4435c2fead0275ff83fc98092d73d4c","modified":1489077013000},{"_id":"themes/icarus/layout/comment/isso.ejs","hash":"4f8b81ff5bb418ec11ce080d515f247bfe436014","modified":1489077013000},{"_id":"themes/icarus/layout/comment/index.ejs","hash":"0913444317759c3ff0588ca3aa4a6a89b6595307","modified":1489077013000},{"_id":"themes/icarus/layout/comment/youyan.ejs","hash":"6fe807992832939caf6c3e7651d052df9520d88e","modified":1489077013000},{"_id":"themes/icarus/layout/common/article.ejs","hash":"9c260a551596f71e93177f2289b5cb1c4bc7d96c","modified":1489077013000},{"_id":"themes/icarus/layout/common/footer.ejs","hash":"79ad7f2c8ab0662acfc754ad314522720d010533","modified":1489286644000},{"_id":"themes/icarus/layout/comment/scripts.ejs","hash":"305aa07646ab03e00d8239a811f4ec6f75751e1e","modified":1489077013000},{"_id":"themes/icarus/layout/common/.DS_Store","hash":"b23b477f2ae40596f80e1b691ec002c66835f2c6","modified":1489195825000},{"_id":"themes/icarus/layout/common/head.ejs","hash":"44f30945882afd27c89da2173da501fb1b531488","modified":1489077013000},{"_id":"themes/icarus/layout/common/header.ejs","hash":"738c6a923b2a6de6a81c4892c8a47e03d8b34f88","modified":1489077013000},{"_id":"themes/icarus/layout/common/profile.ejs","hash":"500f05cd15633b004a967ca4802dae9120a2d613","modified":1489200546000},{"_id":"themes/icarus/layout/common/scripts.ejs","hash":"c0a1a9e53f89440c42c325d5bd8c7234652c8937","modified":1489077013000},{"_id":"themes/icarus/layout/common/sidebar.ejs","hash":"6e80fa52d23c9c39bfa357a1e00c26fc8b851b82","modified":1489077013000},{"_id":"themes/icarus/layout/common/thumbnail.ejs","hash":"1b70f8a98cd8650b159bda858dbee38dbdb7f0c5","modified":1489077013000},{"_id":"themes/icarus/layout/common/timeline.ejs","hash":"6420e34e0332c9b6670011519f341340db989343","modified":1489077013000},{"_id":"themes/icarus/layout/plugin/baidu-analytics.ejs","hash":"6a7bee18e666e627e62541a5e30906f87ba1bfe8","modified":1489077013000},{"_id":"themes/icarus/layout/plugin/google-analytics.ejs","hash":"349f08b6521a16e79046b1f94f04317ac74f556e","modified":1489077013000},{"_id":"themes/icarus/layout/plugin/scripts.ejs","hash":"4fdb85e6730530f2d262041b41d1ead1b87dfd88","modified":1489077013000},{"_id":"themes/icarus/layout/search/baidu.ejs","hash":"3e603a702d20c53fd3bcbeb570a16a86d54781ce","modified":1489077013000},{"_id":"themes/icarus/layout/search/index-mobile.ejs","hash":"50a727ac1dfe3073eb6fa6699ba01e66f4ac41c0","modified":1489077013000},{"_id":"themes/icarus/layout/search/insight.ejs","hash":"130fe3d33ac71da0b50f7fee6a87979f30938a1b","modified":1489077013000},{"_id":"themes/icarus/layout/search/index.ejs","hash":"24935e32e61d4706454b174ea3bed0726ae7fb34","modified":1489077013000},{"_id":"themes/icarus/layout/share/bdshare.ejs","hash":"a1e772c5a6f174d585b0c1e574058f75dc8e2898","modified":1489077013000},{"_id":"themes/icarus/layout/search/swiftype.ejs","hash":"379e66d2c13526e72e4120c443f95fccf4edef71","modified":1489077013000},{"_id":"themes/icarus/layout/share/addtoany.ejs","hash":"ac180c4c84b73a04d61b17e7dc18c257e20bf59f","modified":1489077013000},{"_id":"themes/icarus/layout/share/index.ejs","hash":"2a2c0095b95b11e5692bd8ad6a2337aa644189a2","modified":1489077013000},{"_id":"themes/icarus/layout/share/jiathis.ejs","hash":"21ebaa51e828cba2cefbeeaccb01514643565755","modified":1489077013000},{"_id":"themes/icarus/layout/share/default.ejs","hash":"ebfb919dc525b3ed61a6a5ee05ee71410eedc541","modified":1489077013000},{"_id":"themes/icarus/layout/widget/archive.ejs","hash":"d9ebbb7f6ce2f25df5ae25e4a1fef3c08f7054b9","modified":1489077013000},{"_id":"themes/icarus/layout/widget/recent_posts.ejs","hash":"2ca923465275fb38a7ac7d67211d6e94a977e957","modified":1489077013000},{"_id":"themes/icarus/layout/widget/links.ejs","hash":"5e3a4a08ec6c146c14010ca7a03b57fccab6a7f6","modified":1489159963000},{"_id":"themes/icarus/layout/widget/category.ejs","hash":"583bda80cf15b3ef11fefbd1b502897dfff40100","modified":1489077013000},{"_id":"themes/icarus/layout/widget/tag.ejs","hash":"3b8ae5953990436893da9d68f910ebe592005659","modified":1489077013000},{"_id":"themes/icarus/layout/widget/tagcloud.ejs","hash":"ca8c7bf555fb6ce4904f2c59160548405c2c8a82","modified":1489077013000},{"_id":"themes/icarus/source/css/.DS_Store","hash":"7bb409d4f608287ef0f2836bc16912b52b00e804","modified":1489080907000},{"_id":"themes/icarus/source/css/_extend.styl","hash":"9a5c72663c0da1b32ecb6a75773a5ccfb8c467ca","modified":1489077013000},{"_id":"themes/icarus/source/css/_variables.styl","hash":"2d3711e9ee47069c17b91e30285833a65d219ac4","modified":1489328252000},{"_id":"themes/icarus/source/css/style.styl","hash":"86b70409ec457cbaa012328039f2628f70866a82","modified":1489329276000},{"_id":"themes/icarus/source/js/insight.js","hash":"6ee84c42c2b230ff9e9bf605a444bd671d44f9e3","modified":1489077013000},{"_id":"themes/icarus/source/js/main.js","hash":"1faffdc7aa7f0d28e85edbf49c99de3ad0b65753","modified":1489195913000},{"_id":"themes/icarus/source/libs/.DS_Store","hash":"e1fd7351abd3b19a8abe0a99a238a7a32a45c46f","modified":1489234690000},{"_id":"source/_posts/understand-blockchain-01/14834178266616.jpg","hash":"8305c0e12161f1d8b226aa30273bd806e549b76a","modified":1483417826000},{"_id":"source/_posts/understand-blockchain-01/14835028794046.jpg","hash":"9661a1d69879488a09803ffd6059ef6567530bc4","modified":1483502879000},{"_id":"source/_posts/understand-blockchain-01/14839406499597.jpg","hash":"67aa19819d036319b1985833931e8f046da1a883","modified":1483940649000},{"_id":"source/_posts/understand-blockchain-01/14835824591159.jpg","hash":"2fd4dd037861faa664e1902f04382458606fc8a7","modified":1483582459000},{"_id":"source/_posts/understand-blockchain-01/14832797016611.png","hash":"659138f881135ca1c64273fb759c4869c163c563","modified":1483279701000},{"_id":"themes/icarus/layout/common/post/banner.ejs","hash":"47ced3f03525698c79c6b1c07b48383fb6c496b2","modified":1489077013000},{"_id":"themes/icarus/layout/common/post/date.ejs","hash":"45cb0bcad461036cdd1fe2e3fbb5f2f19940025c","modified":1489077013000},{"_id":"themes/icarus/layout/common/post/gallery.ejs","hash":"659f019761116313169148ec61773e7b84abb739","modified":1489077013000},{"_id":"themes/icarus/layout/common/post/category.ejs","hash":"75c9dda2e7ec041943855ca163a6b1c4c8b4f260","modified":1489077013000},{"_id":"themes/icarus/layout/common/post/nav.ejs","hash":"d7cd611e642327f33dff3963ef869c2b46824a11","modified":1489077013000},{"_id":"themes/icarus/layout/common/post/tag.ejs","hash":"2e966216256321aa0c76fe1b9be689601c76ef31","modified":1489077013000},{"_id":"themes/icarus/layout/common/post/title.ejs","hash":"669ddb46fefa100856588351a7a2d30ad996b755","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/archive.styl","hash":"d35088c83ddd7a197d6d94e16a2ce3a7e29fa1dc","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/article.styl","hash":"49159a9d8a42d8478d66b93cf5c6ad20ee71b480","modified":1489281461000},{"_id":"themes/icarus/source/css/_partial/article_backup.styl","hash":"512b9252e1799b93a17c4ad847b0586814a030b4","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/comment.styl","hash":"784646796184d4f27918c22395288a2fafbf9554","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/footer.styl","hash":"484776654e4c1691dc844e6e93786a08855c1c99","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/insight.styl","hash":"19833cd127f26ad90b06c115f8a96a30e0c0e53b","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/sidebar.styl","hash":"f528ca7064d9fcecd737b9b71c9c54601365d7d3","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/profile.styl","hash":"fb0170075dc2a41e01dd11bbfdbccbed544c479a","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/header.styl","hash":"1e351f741144135871a3373fe7e969dc961b65e7","modified":1489077013000},{"_id":"themes/icarus/source/css/_partial/timeline.styl","hash":"c813b98f4fc45b64d2e07e5d944745a654c8c943","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/arduino-light.styl","hash":"15e8572585cd708221c513dea4bdd89d8fe56c10","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/agate.styl","hash":"601eb70448a16b918df132f6fc41e891ae053653","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/androidstudio.styl","hash":"65d09f1b0e81c6a182f549fd3de51e59823c97ae","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/arta.styl","hash":"1a5accc115f41d1b669ed708ac6a29abac876599","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/ascetic.styl","hash":"32cff3bef6fac3760fe78f203096477052a90552","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-cave-dark.styl","hash":"bc647b2c1d971d7cc947aa1ed66e9fd115261921","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-cave-light.styl","hash":"a5be0744a7ecf4a08f600ade4cfd555afc67bc15","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-estuary-light.styl","hash":"344276ca9b27e51d4c907f76afe5d13cf8e60bdf","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-dune-dark.styl","hash":"df50a85a4b14c7ca6e825d665594b91229d0e460","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-dune-light.styl","hash":"931435fbc6f974e8ce9e32722680035d248a9dc1","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-estuary-dark.styl","hash":"d84382bc8298f96730757391d3e761b7e640f406","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-forest-dark.styl","hash":"57c154c6045a038dc7df0a25927853e10bf48c4a","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-heath-light.styl","hash":"8c8c2e445abef85273be966d59770e9ced6aac21","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-forest-light.styl","hash":"95228d9f2102fad425536aac44b80b2cba1f5950","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-heath-dark.styl","hash":"b0cf13b2233e7bc38342032d2d7296591a4c2bcf","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-lakeside-dark.styl","hash":"bb0a8c4ad0dd8e3e7de7122ddf268fc42aa94acb","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-plateau-dark.styl","hash":"09c64f1a7052aec9070c36c0431df25216afaea1","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-plateau-light.styl","hash":"d1a05fdd1ededc9063d181ab25bad55a164aeb4a","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-lakeside-light.styl","hash":"2c54cb9bdb259ae3b5b29f63ac2469ed34b08578","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-savanna-light.styl","hash":"f8244c93711c7cb59dd79d2df966806b30d171ea","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-seaside-light.styl","hash":"0597342da6e2d0c5bdcc7d42dabb07322b1a4177","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-savanna-dark.styl","hash":"a16c919a1ccf2f845488078fb341381bec46b1f3","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-seaside-dark.styl","hash":"ce233a101daea7124cbfcd34add43ccfe2e1e1c7","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-sulphurpool-dark.styl","hash":"414b0cfc142f70afe359c16450b651e28bf7325a","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/brown-paper.styl","hash":"c2326ba20a5020a66ca7895258d18833327d4334","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/atelier-sulphurpool-light.styl","hash":"efa52713efc468abeeb2b9299704371583b857de","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/brown-papersq.png","hash":"3a1332ede3a75a3d24f60b6ed69035b72da5e182","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/codepen-embed.styl","hash":"f4dcc84d8e39f9831a5efe80e51923fc3054feb0","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/color-brewer.styl","hash":"2a439d6214430e2f45dd4939b4dfe1fe1a20aa0f","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/dark.styl","hash":"71ce56d311cc2f3a605f6e2c495ccd7236878404","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/docco.styl","hash":"b1c176378bb275f2e8caa759f36294e42d614bf1","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/darkula.styl","hash":"ad0d5728d21645039c9f199e7a56814170ed3bab","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/far.styl","hash":"d9928010ffe71e80b97a5afcba1a4975efdd7372","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/foundation.styl","hash":"bf8ddc94b4ad995b8b8805b5a4cf95004553fdac","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/github-gist.styl","hash":"48211a03d33e7f7ada0b261162bea06676155a71","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/googlecode.styl","hash":"bda816beee7b439814b514e6869dc678822be1bc","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/github.styl","hash":"3336aeba324c6d34a6fd41fef9b47bc598f7064c","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/grayscale.styl","hash":"bf37d8b8d1e602126c51526f0cc28807440228ed","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/highlightjs.styl","hash":"0e198b7a59191c7a39b641a4ddd22c948edb9358","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/hopscotch.styl","hash":"b374c6550b89b4751aedc8fbc3cf98d95bd70ead","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/hybrid.styl","hash":"ea8d7ddc258b073308746385f5cb85aabb8bfb83","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/idea.styl","hash":"a02967cb51c16a34e0ee895d33ded2b823d35b21","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/ir-black.styl","hash":"693078bbd72a2091ed30f506cc55949600b717af","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/index.styl","hash":"903a1f2c6ec62cf76a44f92a2dbb52178a4ce94a","modified":1489248914000},{"_id":"themes/icarus/source/css/_highlight/magula.styl","hash":"16d323f989b1420a0f72ef989242ece9bf17a456","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/kimbie.dark.styl","hash":"45dbb168f22d739d0109745d2decd66b5f94e786","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/kimbie.light.styl","hash":"61f8baed25be05288c8604d5070afbcd9f183f49","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/monokai-sublime.styl","hash":"25aa2fc1dbe38593e7c7ebe525438a39574d9935","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/mono-blue.styl","hash":"4c89a6ae29de67c0700585af82a60607e85df928","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/obsidian.styl","hash":"55572bbcfee1de6c31ac54681bb00336f5ae826d","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/monokai.styl","hash":"5a4fe9f957fd7a368c21b62a818403db4270452f","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/paraiso-dark.styl","hash":"f1537bd868579fa018ecdbfd2eb922dcf3ba2cac","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/pojoaque.jpg","hash":"c5fe6533b88b21f8d90d3d03954c6b29baa67791","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/paraiso-light.styl","hash":"d224d1df0eb3395d9eea1344cee945c228af2911","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/pojoaque.styl","hash":"77dae9dc41945359d17fe84dbd317f1b40b2ee33","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/railscasts.styl","hash":"acd620f8bb7ff0e3fe5f9a22b4433ceef93a05e6","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/rainbow.styl","hash":"ce73b858fc0aba0e57ef9fb136c083082746bc1d","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/school-book.png","hash":"711ec983c874e093bb89eb77afcbdf6741fa61ee","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/school-book.styl","hash":"d43560fe519a931ce6da7d57416d7aa148441b83","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/solarized-dark.styl","hash":"702b9299a48c90124e3ac1d45f1591042f2beccc","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/solarized-light.styl","hash":"aa0dd3fd25c464183b59c5575c9bee8756b397f2","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/sunburst.styl","hash":"a0b5b5129547a23865d400cfa562ea0ac1ee3958","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/tomorrow-night-blue.styl","hash":"8b3087d4422be6eb800935a22eb11e035341c4ba","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/tomorrow-night-bright.styl","hash":"0ac6af6ecb446b5b60d6226748e4a6532db34f57","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/tomorrow-night-eighties.styl","hash":"fa57b3bb7857a160fc856dbe319b31e30cc5d771","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/tomorrow-night.styl","hash":"19b3080d4b066b40d50d7e7f297472482b5801fd","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/tomorrow.styl","hash":"15779cf6846725c7c35fc56cac39047d7e0aec1c","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/vs.styl","hash":"959a746f4b37aacb5d1d6ff1d57e0c045289d75d","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/xcode.styl","hash":"5e8532ae8366dcf6a4ef5e4813dc3d42ab3d0a50","modified":1489077013000},{"_id":"themes/icarus/source/css/_util/grid.styl","hash":"93fb6f1e2f40cd7d88ad0d56dd73d3f9a7bc853e","modified":1489077013000},{"_id":"themes/icarus/source/css/_highlight/zenburn.styl","hash":"fc5ec840435dad80964d04519d3f882ddc03746a","modified":1489077013000},{"_id":"themes/icarus/source/css/_util/mixin.styl","hash":"c8e1ddfc0fe9108bab592c7a73b73ce9344991fd","modified":1489077013000},{"_id":"themes/icarus/source/css/images/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1489198296000},{"_id":"themes/icarus/source/css/images/avatar.png","hash":"0d8236dcca871735500e9d06bbdbe0853ed6775b","modified":1489077013000},{"_id":"themes/icarus/source/css/images/logo.png","hash":"e606a0584f98268b2fe92303f3254520862ef659","modified":1489077013000},{"_id":"themes/icarus/source/css/images/thumb-default-small.png","hash":"e8403b97ed9251f9f5207765b0ce796c5000b4ba","modified":1489077013000},{"_id":"themes/icarus/source/css/images/whale.png","hash":"5e59a7b7bed8480212a40ee5b0723cbfe9f27c52","modified":1489084199000},{"_id":"themes/icarus/source/libs/justified-gallery/justifiedGallery.min.css","hash":"13fbcba5e97aa88b748d94d3efc4718475279907","modified":1489077013000},{"_id":"themes/icarus/source/libs/justified-gallery/jquery.justifiedGallery.min.js","hash":"b2683e7a872bc109b1756a65188a37cef7d0bd5c","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/.DS_Store","hash":"f373e7b9b6d3b211049d1fdca9ee91d900953168","modified":1489234690000},{"_id":"themes/icarus/source/libs/open-sans/styles.css","hash":"5ca6e111046232bde112d33201a60532aee7d3c4","modified":1489077013000},{"_id":"themes/icarus/source/libs/source-code-pro/.DS_Store","hash":"f373e7b9b6d3b211049d1fdca9ee91d900953168","modified":1489234696000},{"_id":"themes/icarus/source/libs/source-code-pro/styles.css","hash":"93c308012738728f906cd4c5cfdb34189e0c712b","modified":1489077013000},{"_id":"source/_posts/understand-blockchain-01/14839471054639.png","hash":"9366a84e418767eb817a3575171dd7037d6175b8","modified":1483947105000},{"_id":"themes/icarus/source/css/images/favicon.ico","hash":"72e198149b2809bc8af629da284399985e9023ec","modified":1373527418000},{"_id":"themes/icarus/source/libs/font-awesome/css/font-awesome.css","hash":"b5020c3860669185ba3f316fa7332cdf5c06f393","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/css/font-awesome.min.css","hash":"7cd5a3384333f95c3d37d9488ad82cd6c4b03761","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-fb-comment-box.css.map","hash":"51e9df39edf0faa3f38c1bab0c1fa6c922b9edcb","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-fb-comment-box.css","hash":"844ce27b8488968bccb3e50bb49184ba2aae0625","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-fb-comment-box.min.css","hash":"05830fadb8454f39dcc98c8686eb4d5c24b71fc0","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-transitions.css.map","hash":"50c3348638b4d82fa08a449c690e8d2bb593005d","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-transitions.css","hash":"7871c28498d74451d6aa438c8d3a1817810a1e19","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lightgallery.css","hash":"bef55316a32e512d5a8940e5d0bfe8bf7a9c5c61","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lg-transitions.min.css","hash":"5c22e2073a4c96d6212c72135391b599e8d1359f","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lightgallery.css.map","hash":"3175b4107078674d25798979f7666f4daf31e624","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/css/lightgallery.min.css","hash":"c9a2e19c932b56f4a2ce30c98910d10b74edb38a","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/img/loading.gif","hash":"607810444094b8619fa4efa6273bc2a7e38dd4b4","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/img/video-play.png","hash":"3ea484cdc04d2e4547f80cbf80001dcf248c94ef","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/img/vimeo-play.png","hash":"6190254f2804904a4a1fa1eb390dfd334e416992","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/img/youtube-play.png","hash":"fea6df9d9d43151f9c9d15f000adb30eb3e26fc4","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.svg","hash":"9a732790adc004b22022cc60fd5f77ec4c8e3e5a","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-autoplay.js","hash":"426bb78b93acfc39d533ea2bab1cec8dc289cf24","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-fullscreen.min.js","hash":"b6b9e4022700b7faf2a5a175ba44a3bd938fdd20","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-autoplay.min.js","hash":"d845741bcaf961579622880eb2a445257efad1ac","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-fullscreen.js","hash":"65c47ac65362854ba44b00a010bb01e3630209d8","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-hash.js","hash":"15d16516c5642d3de1566ff8fc9160136ccaa405","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-pager.min.js","hash":"25caa6ff65b1c6dee09941e795ae2633bdbab211","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-hash.min.js","hash":"43f1e1e720ab0e241c19b83aa26bd6848eab8edc","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-pager.js","hash":"8092c692b244bb26343eb03b91bd97deb9dafc9c","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-share.js","hash":"b7fb5f6474911060a351b0a6fe9dbb9ac3fb22aa","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-share.min.js","hash":"39c615f07c5d3aaa65a2c3068a30fdd6dd5c372d","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-thumbnail.js","hash":"3a6476b6df1d2bef4a21861a78776282a7a11ef1","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-thumbnail.min.js","hash":"18dd7d2909d1bfd6852f031d03e774b4428c512b","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-video.js","hash":"4f99b598f6bb18de9eca8c45c5b4373a03962367","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-video.min.js","hash":"032c001ab045a69856f9c3ed4a2a3bf12a8e310f","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-zoom.js","hash":"a758e2c8fcf710f9ff761da0eea0ab9321f3484d","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lg-zoom.min.js","hash":"15b49f9728439819ece15e4295cce254c87a4f45","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/K88pR3goAWT7BTt32Z01mxJtnKITppOI_IvcXXDNrsc.woff2","hash":"e0350190d720a8fec0557ab47b318ec4e4486448","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/59ZRklaO5bWGqF5A9baEERJtnKITppOI_IvcXXDNrsc.woff2","hash":"c4248ea800bd5608344ce163f5658b57e7ef9410","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lightgallery.min.js","hash":"956ef9b706755318da69ad0b5d7786339d831251","modified":1489077013000},{"_id":"themes/icarus/source/libs/lightgallery/js/lightgallery.js","hash":"3cd19b33ba99efd5ba1d167da91720566d274b2c","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/LWCjsQkB6EMdfHrEVqA1KRJtnKITppOI_IvcXXDNrsc.woff2","hash":"2c5b039b57f62625e88226a938679ec937431ad1","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNShWV49_lSm1NYrwo-zkhivY.woff2","hash":"22413bb8bfb78608c1e25aa1ed5c1f38557df79f","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSj0LW-43aMEzIO6XUTLjad8.woff2","hash":"63eb74ef040aade256f2274a7f31a914edddb0ea","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSpX5f-9o1vgP2EXwfjgl7AY.woff2","hash":"328a22fe3eec71ad9e5ece4d67dd62e79dab6b7f","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSqaRobkAwv3vxw3jMhVENGA.woff2","hash":"415eee05976ab8b2471602a5ddb78a6c58fc21aa","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSq-j2U0lmluP9RWlSytm3ho.woff2","hash":"4dc6d7174ea6d89f4c45e43e1bfc3e03d8ffebaf","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSugdm0LZdjqr5-oayXSOefg.woff2","hash":"a0b0c389cf46d63c850e61fed572485ff0b68183","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSv8zf_FOSsgRmwsS7Aa9k2w.woff2","hash":"c5f29fed6632efe0aa83318369f0d8c4061b775b","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/RjgO7rYTmqiVp7vzi-Q5URJtnKITppOI_IvcXXDNrsc.woff2","hash":"be201d32a9aa5d186723ebb3c538be691aa8c53a","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/cJZKeOuBrn4kERxqtaUH3VtXRa8TVwTICgirnJhmVJw.woff2","hash":"afc44700053c9a28f9ab26f6aec4862ac1d0795d","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/u-WUoqrET9fUeobQW7jkRRJtnKITppOI_IvcXXDNrsc.woff2","hash":"113978181dcac77baecef6115a9121d8f6e4fc3a","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBiYE0-AqJ3nfInTTiDXDjU4.woff2","hash":"5067c81462c15422853c94d21a1726865a61634f","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBkbcKLIaa1LC45dFaAfauRA.woff2","hash":"ae80fb3cd16339aa7b5da280ab53975523dcaac2","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjTOQ_MqJVwkKsUn0wKzc2I.woff2","hash":"b366f2fda2e524eb5ef50058eefff249a3b96e6c","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjUj_cnvWIuuBMVgbX098Mw.woff2","hash":"d22904914469be735490e3c8cb093c7862896dd5","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBmo_sUJ8uO4YLWRInS22T3Y.woff2","hash":"b85efde42fa3a03c32b1d31c6cd74c622fc7916c","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xozscpT2726on7jbcb_pAhJtnKITppOI_IvcXXDNrsc.woff2","hash":"be365eca44760ce3fc9b377c43d4634958479c69","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBr6up8jxqWt8HVA3mDhkV_0.woff2","hash":"d0b40a7848703556c6631f24e961a98ca5829255","modified":1489077013000},{"_id":"themes/icarus/source/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBo4P5ICox8Kq3LLUNMylGO4.woff2","hash":"e75607ba1417181397c700775b84303d5a2957b9","modified":1489077013000},{"_id":"themes/icarus/source/libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasD9V_2ngZ8dMf8fLgjYEouxg.woff2","hash":"942addaec4d3a60af33947a84a3d85f926015947","modified":1489077013000},{"_id":"themes/icarus/source/libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasDy2Q8seG17bfDXYR_jUsrzg.woff2","hash":"b0e0bb5ef78db8b15d430d0b9be9d4329289a310","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1489077013000},{"_id":"themes/icarus/source/libs/jquery/2.1.3/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1489077013000},{"_id":"themes/icarus/source/libs/font-awesome/fonts/fontawesome-webfont.svg","hash":"c0522272bbaef2acb3d341912754d6ea2d0ecfc0","modified":1489077013000},{"_id":"themes/icarus/source/css/images/profile_pic.jpg","hash":"711730ef8fb882aebbfb020ac1e6940b5a071166","modified":1471665932000},{"_id":"themes/icarus/source/css/images/profile_pic.png","hash":"970f83840145140e731826c6947d51f735faf6b4","modified":1489195154000},{"_id":"public/content.json","hash":"7c30604ef698741a820bf10e7216685b9ec08e30","modified":1489744758033},{"_id":"public/about/index.html","hash":"7861830674a421e47ad3e62a4e441226ffa831a7","modified":1489744758175},{"_id":"public/categories/index.html","hash":"c8ace4932c0c6b3e2949236424348904138fcc55","modified":1489744758180},{"_id":"public/tags/index.html","hash":"15ff40ea6bab9755b0b2ac362a44aaae0c2fe030","modified":1489744758181},{"_id":"public/categories/Website-Dev/index.html","hash":"46ef537ab4fb35da5fc292de930d7a500e46c1ba","modified":1489744758181},{"_id":"public/categories/Hexo/index.html","hash":"1504ec6b7f3e2622adf5883ea0a6fc2cfed17786","modified":1489744758181},{"_id":"public/archives/2017/index.html","hash":"e1693cda44bf08cdebaadb4878528edad5a5d925","modified":1489744758181},{"_id":"public/categories/Blockchain/index.html","hash":"7ef481aeb5229ba526ff92167425af05955bdb74","modified":1489744758181},{"_id":"public/archives/2017/03/index.html","hash":"4429f2ebf92dc99e267fd9750f612b4ccc89ea9c","modified":1489744758181},{"_id":"public/archives/index.html","hash":"979f858c42a9330d38968b50794e9b97cea483e0","modified":1489744758181},{"_id":"public/tags/hexo/index.html","hash":"bb8626cceff43ef1266e8f935d9410b6eceebdc9","modified":1489744758181},{"_id":"public/archives/2017/02/index.html","hash":"e789491f2b79c822a75574ba0ef4eb92df604273","modified":1489744758181},{"_id":"public/tags/blockchain/index.html","hash":"8d22c139be080dd8af9e6ca683c700cd561d1ac4","modified":1489744758181},{"_id":"public/2017/03/11/rebuild-personal-website-and-blog/index.html","hash":"fd300a8a8ce99c87907670ae3cd5d28f5cfa562b","modified":1489744758181},{"_id":"public/2017/03/11/hexo-user-notes/index.html","hash":"dffa14d8522b78a94f96534e0079d84832a6ab01","modified":1489744758181},{"_id":"public/2017/03/10/hexo-icarus-settings/index.html","hash":"249f082ad17dc35b2d796009badcbc73d2bbbca4","modified":1489744758181},{"_id":"public/2017/03/17/image-hosting-and-https/index.html","hash":"8754b0cf92cac4199742b03c421728ca16cb5143","modified":1489744758181},{"_id":"public/2017/03/17/HTTPS-with-Letsencrypt/index.html","hash":"b3fae3ff75b068cfe45be8f8ac23ca702b39926a","modified":1489744758182},{"_id":"public/2017/02/10/understand-blockchain-01/index.html","hash":"55d1b00d06984445207675b5e95d9ecdeb1ee8a7","modified":1489744758182},{"_id":"public/index.html","hash":"2b3bc1e718e8ac9bfe925c966888a96258ec9d72","modified":1489744758182},{"_id":"public/tags/website-dev/index.html","hash":"2ce62f567a922c7914a8125acd7c7a1b8657f19b","modified":1489744758197},{"_id":"public/css/images/avatar.png","hash":"0d8236dcca871735500e9d06bbdbe0853ed6775b","modified":1489744758211},{"_id":"public/css/images/logo.png","hash":"e606a0584f98268b2fe92303f3254520862ef659","modified":1489744758211},{"_id":"public/css/images/thumb-default-small.png","hash":"e8403b97ed9251f9f5207765b0ce796c5000b4ba","modified":1489744758211},{"_id":"public/css/images/whale.png","hash":"5e59a7b7bed8480212a40ee5b0723cbfe9f27c52","modified":1489744758211},{"_id":"public/libs/lightgallery/css/lg-fb-comment-box.css.map","hash":"51e9df39edf0faa3f38c1bab0c1fa6c922b9edcb","modified":1489744758211},{"_id":"public/libs/lightgallery/css/lg-transitions.css.map","hash":"50c3348638b4d82fa08a449c690e8d2bb593005d","modified":1489744758211},{"_id":"public/libs/lightgallery/css/lightgallery.css.map","hash":"3175b4107078674d25798979f7666f4daf31e624","modified":1489744758211},{"_id":"public/libs/lightgallery/img/loading.gif","hash":"607810444094b8619fa4efa6273bc2a7e38dd4b4","modified":1489744758212},{"_id":"public/libs/lightgallery/img/video-play.png","hash":"3ea484cdc04d2e4547f80cbf80001dcf248c94ef","modified":1489744758212},{"_id":"public/libs/lightgallery/img/vimeo-play.png","hash":"6190254f2804904a4a1fa1eb390dfd334e416992","modified":1489744758212},{"_id":"public/libs/lightgallery/img/youtube-play.png","hash":"fea6df9d9d43151f9c9d15f000adb30eb3e26fc4","modified":1489744758212},{"_id":"public/libs/lightgallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1489744758212},{"_id":"public/libs/lightgallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1489744758212},{"_id":"public/libs/lightgallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1489744758212},{"_id":"public/libs/lightgallery/fonts/lg.svg","hash":"9a732790adc004b22022cc60fd5f77ec4c8e3e5a","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/K88pR3goAWT7BTt32Z01mxJtnKITppOI_IvcXXDNrsc.woff2","hash":"e0350190d720a8fec0557ab47b318ec4e4486448","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/59ZRklaO5bWGqF5A9baEERJtnKITppOI_IvcXXDNrsc.woff2","hash":"c4248ea800bd5608344ce163f5658b57e7ef9410","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/LWCjsQkB6EMdfHrEVqA1KRJtnKITppOI_IvcXXDNrsc.woff2","hash":"2c5b039b57f62625e88226a938679ec937431ad1","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNShWV49_lSm1NYrwo-zkhivY.woff2","hash":"22413bb8bfb78608c1e25aa1ed5c1f38557df79f","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSj0LW-43aMEzIO6XUTLjad8.woff2","hash":"63eb74ef040aade256f2274a7f31a914edddb0ea","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSpX5f-9o1vgP2EXwfjgl7AY.woff2","hash":"328a22fe3eec71ad9e5ece4d67dd62e79dab6b7f","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSqaRobkAwv3vxw3jMhVENGA.woff2","hash":"415eee05976ab8b2471602a5ddb78a6c58fc21aa","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSq-j2U0lmluP9RWlSytm3ho.woff2","hash":"4dc6d7174ea6d89f4c45e43e1bfc3e03d8ffebaf","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSugdm0LZdjqr5-oayXSOefg.woff2","hash":"a0b0c389cf46d63c850e61fed572485ff0b68183","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/MTP_ySUJH_bn48VBG8sNSv8zf_FOSsgRmwsS7Aa9k2w.woff2","hash":"c5f29fed6632efe0aa83318369f0d8c4061b775b","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/RjgO7rYTmqiVp7vzi-Q5URJtnKITppOI_IvcXXDNrsc.woff2","hash":"be201d32a9aa5d186723ebb3c538be691aa8c53a","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/cJZKeOuBrn4kERxqtaUH3VtXRa8TVwTICgirnJhmVJw.woff2","hash":"afc44700053c9a28f9ab26f6aec4862ac1d0795d","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/u-WUoqrET9fUeobQW7jkRRJtnKITppOI_IvcXXDNrsc.woff2","hash":"113978181dcac77baecef6115a9121d8f6e4fc3a","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBiYE0-AqJ3nfInTTiDXDjU4.woff2","hash":"5067c81462c15422853c94d21a1726865a61634f","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBkbcKLIaa1LC45dFaAfauRA.woff2","hash":"ae80fb3cd16339aa7b5da280ab53975523dcaac2","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjTOQ_MqJVwkKsUn0wKzc2I.woff2","hash":"b366f2fda2e524eb5ef50058eefff249a3b96e6c","modified":1489744758212},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBjUj_cnvWIuuBMVgbX098Mw.woff2","hash":"d22904914469be735490e3c8cb093c7862896dd5","modified":1489744758213},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBmo_sUJ8uO4YLWRInS22T3Y.woff2","hash":"b85efde42fa3a03c32b1d31c6cd74c622fc7916c","modified":1489744758213},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBr6up8jxqWt8HVA3mDhkV_0.woff2","hash":"d0b40a7848703556c6631f24e961a98ca5829255","modified":1489744758213},{"_id":"public/libs/open-sans/fonts/xozscpT2726on7jbcb_pAhJtnKITppOI_IvcXXDNrsc.woff2","hash":"be365eca44760ce3fc9b377c43d4634958479c69","modified":1489744758213},{"_id":"public/libs/open-sans/fonts/xjAJXh38I15wypJXxuGMBo4P5ICox8Kq3LLUNMylGO4.woff2","hash":"e75607ba1417181397c700775b84303d5a2957b9","modified":1489744758213},{"_id":"public/libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasD9V_2ngZ8dMf8fLgjYEouxg.woff2","hash":"942addaec4d3a60af33947a84a3d85f926015947","modified":1489744758213},{"_id":"public/libs/source-code-pro/fonts/mrl8jkM18OlOQN8JLgasDy2Q8seG17bfDXYR_jUsrzg.woff2","hash":"b0e0bb5ef78db8b15d430d0b9be9d4329289a310","modified":1489744758213},{"_id":"public/css/images/favicon.ico","hash":"72e198149b2809bc8af629da284399985e9023ec","modified":1489744759182},{"_id":"public/libs/font-awesome/fonts/fontawesome-webfont.eot","hash":"965ce8f688fedbeed504efd498bc9c1622d12362","modified":1489744759185},{"_id":"public/libs/font-awesome/fonts/fontawesome-webfont.woff","hash":"6d7e6a5fc802b13694d8820fc0138037c0977d2e","modified":1489744759186},{"_id":"public/libs/font-awesome/fonts/FontAwesome.otf","hash":"1b22f17fdc38070de50e6d1ab3a32da71aa2d819","modified":1489744759186},{"_id":"public/libs/font-awesome/fonts/fontawesome-webfont.woff2","hash":"97e438cc545714309882fbceadbf344fcaddcec5","modified":1489744759186},{"_id":"public/js/insight.js","hash":"6ee84c42c2b230ff9e9bf605a444bd671d44f9e3","modified":1489744759196},{"_id":"public/js/main.js","hash":"1faffdc7aa7f0d28e85edbf49c99de3ad0b65753","modified":1489744759196},{"_id":"public/libs/justified-gallery/justifiedGallery.min.css","hash":"13fbcba5e97aa88b748d94d3efc4718475279907","modified":1489744759196},{"_id":"public/libs/open-sans/styles.css","hash":"5ca6e111046232bde112d33201a60532aee7d3c4","modified":1489744759196},{"_id":"public/libs/source-code-pro/styles.css","hash":"93c308012738728f906cd4c5cfdb34189e0c712b","modified":1489744759196},{"_id":"public/libs/lightgallery/css/lg-fb-comment-box.css","hash":"844ce27b8488968bccb3e50bb49184ba2aae0625","modified":1489744759197},{"_id":"public/libs/lightgallery/css/lg-fb-comment-box.min.css","hash":"05830fadb8454f39dcc98c8686eb4d5c24b71fc0","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-autoplay.js","hash":"426bb78b93acfc39d533ea2bab1cec8dc289cf24","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-fullscreen.min.js","hash":"b6b9e4022700b7faf2a5a175ba44a3bd938fdd20","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-autoplay.min.js","hash":"d845741bcaf961579622880eb2a445257efad1ac","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-fullscreen.js","hash":"65c47ac65362854ba44b00a010bb01e3630209d8","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-hash.js","hash":"15d16516c5642d3de1566ff8fc9160136ccaa405","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-pager.min.js","hash":"25caa6ff65b1c6dee09941e795ae2633bdbab211","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-hash.min.js","hash":"43f1e1e720ab0e241c19b83aa26bd6848eab8edc","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-pager.js","hash":"8092c692b244bb26343eb03b91bd97deb9dafc9c","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-share.js","hash":"b7fb5f6474911060a351b0a6fe9dbb9ac3fb22aa","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-share.min.js","hash":"39c615f07c5d3aaa65a2c3068a30fdd6dd5c372d","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-thumbnail.min.js","hash":"18dd7d2909d1bfd6852f031d03e774b4428c512b","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-video.js","hash":"4f99b598f6bb18de9eca8c45c5b4373a03962367","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-video.min.js","hash":"032c001ab045a69856f9c3ed4a2a3bf12a8e310f","modified":1489744759197},{"_id":"public/libs/lightgallery/js/lg-zoom.min.js","hash":"15b49f9728439819ece15e4295cce254c87a4f45","modified":1489744759197},{"_id":"public/css/style.css","hash":"e3a66973bc45e0aa5f187bcf79da43d08a745340","modified":1489744759197},{"_id":"public/libs/justified-gallery/jquery.justifiedGallery.min.js","hash":"b2683e7a872bc109b1756a65188a37cef7d0bd5c","modified":1489744759197},{"_id":"public/libs/font-awesome/css/font-awesome.css","hash":"b5020c3860669185ba3f316fa7332cdf5c06f393","modified":1489744759197},{"_id":"public/libs/font-awesome/css/font-awesome.min.css","hash":"7cd5a3384333f95c3d37d9488ad82cd6c4b03761","modified":1489744759197},{"_id":"public/libs/lightgallery/css/lightgallery.css","hash":"bef55316a32e512d5a8940e5d0bfe8bf7a9c5c61","modified":1489744759198},{"_id":"public/libs/lightgallery/css/lg-transitions.css","hash":"7871c28498d74451d6aa438c8d3a1817810a1e19","modified":1489744759198},{"_id":"public/libs/lightgallery/css/lg-transitions.min.css","hash":"5c22e2073a4c96d6212c72135391b599e8d1359f","modified":1489744759198},{"_id":"public/libs/lightgallery/css/lightgallery.min.css","hash":"c9a2e19c932b56f4a2ce30c98910d10b74edb38a","modified":1489744759198},{"_id":"public/libs/lightgallery/js/lg-thumbnail.js","hash":"3a6476b6df1d2bef4a21861a78776282a7a11ef1","modified":1489744759198},{"_id":"public/libs/lightgallery/js/lg-zoom.js","hash":"a758e2c8fcf710f9ff761da0eea0ab9321f3484d","modified":1489744759198},{"_id":"public/libs/lightgallery/js/lightgallery.js","hash":"3cd19b33ba99efd5ba1d167da91720566d274b2c","modified":1489744759198},{"_id":"public/libs/lightgallery/js/lightgallery.min.js","hash":"956ef9b706755318da69ad0b5d7786339d831251","modified":1489744759198},{"_id":"public/libs/jquery/2.1.3/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1489744759198},{"_id":"public/libs/font-awesome/fonts/fontawesome-webfont.ttf","hash":"61d8d967807ef12598d81582fa95b9f600c3ee01","modified":1489744759198},{"_id":"public/libs/font-awesome/fonts/fontawesome-webfont.svg","hash":"c0522272bbaef2acb3d341912754d6ea2d0ecfc0","modified":1489744759207},{"_id":"public/css/images/profile_pic.jpg","hash":"711730ef8fb882aebbfb020ac1e6940b5a071166","modified":1489744759213},{"_id":"public/css/images/profile_pic.png","hash":"970f83840145140e731826c6947d51f735faf6b4","modified":1489744759216}],"Category":[{"name":"Website Dev","_id":"cj0dnkbi200048kkhtch1fwmx"},{"name":"Hexo","_id":"cj0dnkbil000f8kkhfxb5bjr5"},{"name":"Blockchain","_id":"cj0dnkbis000p8kkhtgw71ro8"}],"Data":[],"Page":[{"title":"About","layout":"page","_content":"\n## Welcome ;)\n\n<p style=\"font-size:16px\"> Glad you are here. 😉 </p> <p style=\"font-size:16px\">My name is Pei Yingchi (裴英池), a final year student majoring in Business Analytics at National University of Singapore. If nothing goes wrong, I will join DataSpark as a junior data scientist in July 2017. You can find more about my experience on my [home page](www.peiyingchi.com). </p> <p style=\"font-size:16px\">I created this place to record down my learning notes and random thoughts. \nFeel free to drop me an email and talk about anything. I'd love to hear from you. </p>\n\n\n","source":"about/index.md","raw":"title: \"About\"\nlayout: \"page\"\n---\n\n## Welcome ;)\n\n<p style=\"font-size:16px\"> Glad you are here. 😉 </p> <p style=\"font-size:16px\">My name is Pei Yingchi (裴英池), a final year student majoring in Business Analytics at National University of Singapore. If nothing goes wrong, I will join DataSpark as a junior data scientist in July 2017. You can find more about my experience on my [home page](www.peiyingchi.com). </p> <p style=\"font-size:16px\">I created this place to record down my learning notes and random thoughts. \nFeel free to drop me an email and talk about anything. I'd love to hear from you. </p>\n\n\n","date":"2017-03-17T11:08:45.000Z","updated":"2017-03-17T11:08:45.000Z","path":"about/index.html","_id":"cj0dnkbhy00018kkhe95pgylu","comments":1,"content":"<h2 id=\"Welcome\"><a href=\"#Welcome\" class=\"headerlink\" title=\"Welcome ;)\"></a>Welcome ;)</h2><p style=\"font-size:16px\"> Glad you are here. 😉 </p> <p style=\"font-size:16px\">My name is Pei Yingchi (裴英池), a final year student majoring in Business Analytics at National University of Singapore. If nothing goes wrong, I will join DataSpark as a junior data scientist in July 2017. You can find more about my experience on my <a href=\"www.peiyingchi.com\">home page</a>. </p> <p style=\"font-size:16px\">I created this place to record down my learning notes and random thoughts.<br>Feel free to drop me an email and talk about anything. I’d love to hear from you. </p>\n\n\n","excerpt":"","more":"<h2 id=\"Welcome\"><a href=\"#Welcome\" class=\"headerlink\" title=\"Welcome ;)\"></a>Welcome ;)</h2><p style=\"font-size:16px\"> Glad you are here. 😉 </p> <p style=\"font-size:16px\">My name is Pei Yingchi (裴英池), a final year student majoring in Business Analytics at National University of Singapore. If nothing goes wrong, I will join DataSpark as a junior data scientist in July 2017. You can find more about my experience on my <a href=\"www.peiyingchi.com\">home page</a>. </p> <p style=\"font-size:16px\">I created this place to record down my learning notes and random thoughts.<br>Feel free to drop me an email and talk about anything. I’d love to hear from you. </p>\n\n\n"},{"title":"Categories","layout":"categories","_content":"","source":"categories/index.md","raw":"title: \"Categories\"\nlayout: \"categories\"\n---\n","date":"2017-03-10T06:41:36.000Z","updated":"2017-03-09T16:30:13.000Z","path":"categories/index.html","comments":1,"_id":"cj0dnkbi100038kkh9v9za0io","content":"","excerpt":"","more":""},{"title":"Tags","layout":"tags","_content":"","source":"tags/index.md","raw":"title: \"Tags\"\nlayout: \"tags\"\n---\n","date":"2017-03-10T06:41:36.000Z","updated":"2017-03-09T16:30:13.000Z","path":"tags/index.html","comments":1,"_id":"cj0dnkbi900078kkh2x6m3dto","content":"","excerpt":"","more":""}],"Post":[{"title":"Setup HTTPS Using Letsencrypt|用Let's Encrypt实现HTTPS","date":"2017-03-17T07:48:02.000Z","comments":1,"toc":true,"thumbnail":null,"banner":null,"_content":"\nHow to use HTTPS for my personal website. Nginx server and Ubuntun 16.04.\n<!-- more -->\n\n### My environment:\n\n- Web server: Nginx\n- Operating System: Ubuntu 16.04 \n\nThe steps are mainly following this Digital Ocean Tutorial:\n[How To Secure Nginx with Let's Encrypt on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04), but with some modifications for subdomain settings.\n\n### Step 1: Install Let's Encrypt Client\nRun the following command on your Ubuntu server:\n\n```bash\nsudo apt-get update\nsudo apt-get install letsencrypt\n```\n### Step 2: Obtain an SSL Certificate\n\nChange the Nginx conf files to enable access to `/.well-known` folder:\n\n```bash\nsudo nano /etc/nginx/sites-available/peiyingchi.com\n```\nAdd the following line inside the `server` block:\n\n```yml\n    location ~ /.well-known {\n        allow all;\n    }\n```\n\nIf you want to add the SSL cert to multiple domains or other subdomains, please do the same for all the nginx conf files.\n\nAfter changing the nginx conf files for the domains you want to setup HTTPS in, run the following:\n\n```bash\nsudo letsencrypt certonly -a webroot --webroot-path=/var/www/peiyingchi.com/html -d peiyingchi.com -d www.peiyingchi.com\n```\n\nTo setup for subdomains together:\n\n```bash\nsudo letsencrypt certonly --webroot -w /var/www/peiyingchi.com/html/ -d www.peiyingchi.com -d peiyingchi.com -w /var/www/blog.peiyingchi.com/html -d blog.peiyingchi.com\n```\nYou will be prompted to enter your contact email and agree some terms and conditions.\n\nMy cert files are at :\n\n```bash\n$ yingchi@yingchi-site:~$ sudo ls -l /etc/letsencrypt/live/peiyingchi.com\n\ntotal 0\nlrwxrwxrwx 1 root root 38 Mar 17 01:48 cert.pem -> ../../archive/peiyingchi.com/cert1.pem\nlrwxrwxrwx 1 root root 39 Mar 17 01:48 chain.pem -> ../../archive/peiyingchi.com/chain1.pem\nlrwxrwxrwx 1 root root 43 Mar 17 01:48 fullchain.pem -> ../../archive/peiyingchi.com/fullchain1.pem\nlrwxrwxrwx 1 root root 41 Mar 17 01:48 privkey.pem -> ../../archive/peiyingchi.com/privkey1.pem\n```\n\nAfter obtaining the cert, you will have the following PEM-encoded files:\n\n- `cert.pem`: Your domain's certificate\n- `chain.pem`: The Let's Encrypt chain certificate\n- `fullchain.pem`: `cert.pem` and `chain.pem` combined\n- `privkey.pem`: Your certificate's private key\n\nTo further increase security, you should also generate a strong **Diffie-Hellman group**. To generate a 2048-bit group, use this command:\n\n```bash\nsudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048\n```\n\n### Step 3: Configure TLS/SSL on Web Server (Nginx)\nNow that you have an SSL certificate, you need to configure your Nginx web server to use it.\n\nWe will make a few adjustments to our configuration:\n\n1. We will create a configuration snippet containing our SSL key and certificate file locations.\n2. We will create a configuration snippet containing strong SSL settings that can be used with any certificates in the future.\n3. We will adjust the Nginx server blocks to handle SSL requests and use the two snippets above.\n\nFirst, let's create a new Nginx configuration snippet in the `/etc/nginx/snippets` directory.\n\nTo properly distinguish the purpose of this file, we will name it `ssl-` followed by our domain name, followed by `.conf` on the end:\n\n```bash\nsudo nano /etc/nginx/snippets/ssl-peiyingchi.com.conf\n```\n\n```conf ssl-peiyingchi.com.conf\nssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\nssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n```\n\nNext, we will create another snippet that will define some SSL settings. This will set Nginx up with a strong SSL cipher suite and enable some advanced features that will help keep our server secure.\n\nThe parameters we will set can be reused in future Nginx configurations, so we will give the file a generic name:\n\n```bash\nsudo nano /etc/nginx/snippets/ssl-params.conf\n```\n\n```conf ssl-params.conf\n# from https://cipherli.st/\n# and https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html\n\nssl_protocols TLSv1 TLSv1.1 TLSv1.2;\nssl_prefer_server_ciphers on;\nssl_ciphers \"EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH\";\nssl_ecdh_curve secp384r1;\nssl_session_cache shared:SSL:10m;\nssl_session_tickets off;\nssl_stapling on;\nssl_stapling_verify on;\nresolver 8.8.8.8 8.8.4.4 valid=300s;\nresolver_timeout 5s;\n# Disable preloading HSTS for now.  You can use the commented out header line that includes\n# the \"preload\" directive if you understand the implications.\n#add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\nadd_header Strict-Transport-Security \"max-age=63072000; includeSubdomains\";\nadd_header X-Frame-Options DENY;\nadd_header X-Content-Type-Options nosniff;\n\nssl_dhparam /etc/ssl/certs/dhparam.pem;\n```\n\n> If you are interested, you can take take a moment to read up on [HTTP Strict Transport Security, or HSTS](https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security), and specifically about the [\"preload\"](https://hstspreload.appspot.com/) functionality. Preloading HSTS provides increased security, but can have far reaching consequences if accidentally enabled or enabled incorrectly. In this guide, we will not preload the settings, but you can modify that if you are sure you understand the implications\n\nNow that we have our snippets, we can adjust our Nginx configuration to enable SSL.\n\nBefore we go any further, let's back up our current server block file:\n\n```bash\nsudo cp /etc/nginx/sites-available/peiyingchi.com /etc/nginx/sites-available/peiyingchi.com.bak\n```\nNow, open the server block file to make adjustments.\nBlow are the 2 conf files for my top-level domain and my subdomain:\n\n```bash\nsudo nano /etc/nginx/sites-available/peiyingchi.com\n```\n\n```js peiyingchi.com\nserver {\n\tlisten 80;\n\tlisten [::]:80;\n\n\tserver_name peiyingchi.com www.peiyingchi.com;\n\treturn 301 https://$server_name$request_uri;\n}\n\nserver {\n\n\t# SSL configuration\n\tlisten 443 ssl http2 default_server;\n\tlisten [::]:443 ssl http2 default_server;\n\tinclude snippets/ssl-peiyingchi.com.conf;\n\tinclude snippets/ssl-params.conf;\n\t\n\troot /var/www/peiyingchi.com/html;\n\n    # Add index.php to the list if you are using PHP\n\tindex index.html index.php;\n\t\n\tserver_name peiyingchi.com www.peiyingchi.com;\n\t\n        location / {\n            try_files $uri $uri/ =404;\n        }\n\n        location ~ /.well-known {\n            allow all;\n        }\n\n}\n```\n\n```js blog.peiyingchi.com\nserver {\n\tlisten 80;\n\tlisten [::]:80;\n\n\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;\n\treturn 301 https://$server_name$request_uri;\n}\n\nserver {\n\t# SSL configuration\n\n\tlisten 443 ssl http2;\n\tlisten [::]:443 ssl http2;\n\tinclude snippets/ssl-peiyingchi.com.conf; # NOTE: the same file as the top level domain\n\tinclude snippets/ssl-params.conf;\t\n\t\n\troot /var/www/blog.peiyingchi.com/html;\n\tindex index.html;\n\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;\n\t\n\tlocation / {\n\t\ttry_files $uri $uri/ =404;\n\t}\n\tlocation ~ /.well-known {\n\t\tallow all;\n\t}\n}\n```\n\n### Step 4: Adjust the Firewall\nIf you have the `ufw` firewall enabled, as recommended by the prerequisite guides, you'll need to adjust the settings to allow for SSL traffic.\n\nYou can see the current setting by typing:\n\n```bash\nsudo ufw status\n```\n\nTo additionally let in HTTPS traffic, we can allow the \"Nginx Full\" profile and then delete the redundant \"Nginx HTTP\" profile allowance:\n\n```bash\nsudo ufw allow 'Nginx Full'\nsudo ufw delete allow 'Nginx HTTP'\n```\n\n### Step 5: Enabling the Changes in Nginx\nFirst, we should check to make sure that there are no syntax errors in our files. We can do this by typing:\n\n```bash\nsudo nginx -t\n```\n\nIf your output matches the above, your configuration file has no syntax errors. We can safely restart Nginx to implement our changes:\n\n```bash\nsudo systemctl restart nginx\n```\nYou can use the Qualys SSL Labs Report to see how your server configuration scores:\nEnter the following to your web browser:\n\nhttps://www.ssllabs.com/ssltest/analyze.html?d=<span style=\"color:red\">example.com</span>\n\n### Step 6: Set Up Auto Renewal\nFrom Let's Encrypt's [official documentation](https://certbot.eff.org/#ubuntuxenial-nginx), you can run the following to test the renew function:\n\n```bash\nsudo letsencrypt renew --dry-run --agree-tos\n```\n> Do not worry for the 'Registering without email!' warning. It does not hurt anything.\n\nIf that appears to be working correctly, you can arrange for automatic renewal by adding a cron or systemd job which runs `letsencrypt renew`\n\nSince the renewal first checks for the expiration date and only executes the renewal if the certificate is less than 30 days away from expiration, it is safe to create a cron job that runs every week or even every day, for instance.\n\nLet's edit the crontab to create a new job that will run the renewal command every week. To edit the crontab for the root user, run:\n\n```bash\nsudo crontab -e\n```\n\nAdd the following lines:\n\n```sh crontab entry\n30 2 * * 1 /usr/bin/letsencrypt renew >> /var/log/le-renew.log\n35 2 * * 1 /bin/systemctl reload nginx\n```\nThis will create a new cron job that will execute the letsencrypt-auto renew command every Monday at 2:30 am, and reload Nginx at 2:35am (so the renewed certificate will be used). The output produced by the command will be piped to a log file located at `/var/log/le-renewal.log`.\n\n\n","source":"_posts/HTTPS-with-Letsencrypt.md","raw":"---\ntitle: Setup HTTPS Using Letsencrypt|用Let's Encrypt实现HTTPS\ndate: 2017-03-17 15:48:02\ntags: website dev\ncategories: Website Dev\ncomments:\ntoc: true\nthumbnail:\nbanner:\n---\n\nHow to use HTTPS for my personal website. Nginx server and Ubuntun 16.04.\n<!-- more -->\n\n### My environment:\n\n- Web server: Nginx\n- Operating System: Ubuntu 16.04 \n\nThe steps are mainly following this Digital Ocean Tutorial:\n[How To Secure Nginx with Let's Encrypt on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04), but with some modifications for subdomain settings.\n\n### Step 1: Install Let's Encrypt Client\nRun the following command on your Ubuntu server:\n\n```bash\nsudo apt-get update\nsudo apt-get install letsencrypt\n```\n### Step 2: Obtain an SSL Certificate\n\nChange the Nginx conf files to enable access to `/.well-known` folder:\n\n```bash\nsudo nano /etc/nginx/sites-available/peiyingchi.com\n```\nAdd the following line inside the `server` block:\n\n```yml\n    location ~ /.well-known {\n        allow all;\n    }\n```\n\nIf you want to add the SSL cert to multiple domains or other subdomains, please do the same for all the nginx conf files.\n\nAfter changing the nginx conf files for the domains you want to setup HTTPS in, run the following:\n\n```bash\nsudo letsencrypt certonly -a webroot --webroot-path=/var/www/peiyingchi.com/html -d peiyingchi.com -d www.peiyingchi.com\n```\n\nTo setup for subdomains together:\n\n```bash\nsudo letsencrypt certonly --webroot -w /var/www/peiyingchi.com/html/ -d www.peiyingchi.com -d peiyingchi.com -w /var/www/blog.peiyingchi.com/html -d blog.peiyingchi.com\n```\nYou will be prompted to enter your contact email and agree some terms and conditions.\n\nMy cert files are at :\n\n```bash\n$ yingchi@yingchi-site:~$ sudo ls -l /etc/letsencrypt/live/peiyingchi.com\n\ntotal 0\nlrwxrwxrwx 1 root root 38 Mar 17 01:48 cert.pem -> ../../archive/peiyingchi.com/cert1.pem\nlrwxrwxrwx 1 root root 39 Mar 17 01:48 chain.pem -> ../../archive/peiyingchi.com/chain1.pem\nlrwxrwxrwx 1 root root 43 Mar 17 01:48 fullchain.pem -> ../../archive/peiyingchi.com/fullchain1.pem\nlrwxrwxrwx 1 root root 41 Mar 17 01:48 privkey.pem -> ../../archive/peiyingchi.com/privkey1.pem\n```\n\nAfter obtaining the cert, you will have the following PEM-encoded files:\n\n- `cert.pem`: Your domain's certificate\n- `chain.pem`: The Let's Encrypt chain certificate\n- `fullchain.pem`: `cert.pem` and `chain.pem` combined\n- `privkey.pem`: Your certificate's private key\n\nTo further increase security, you should also generate a strong **Diffie-Hellman group**. To generate a 2048-bit group, use this command:\n\n```bash\nsudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048\n```\n\n### Step 3: Configure TLS/SSL on Web Server (Nginx)\nNow that you have an SSL certificate, you need to configure your Nginx web server to use it.\n\nWe will make a few adjustments to our configuration:\n\n1. We will create a configuration snippet containing our SSL key and certificate file locations.\n2. We will create a configuration snippet containing strong SSL settings that can be used with any certificates in the future.\n3. We will adjust the Nginx server blocks to handle SSL requests and use the two snippets above.\n\nFirst, let's create a new Nginx configuration snippet in the `/etc/nginx/snippets` directory.\n\nTo properly distinguish the purpose of this file, we will name it `ssl-` followed by our domain name, followed by `.conf` on the end:\n\n```bash\nsudo nano /etc/nginx/snippets/ssl-peiyingchi.com.conf\n```\n\n```conf ssl-peiyingchi.com.conf\nssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\nssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n```\n\nNext, we will create another snippet that will define some SSL settings. This will set Nginx up with a strong SSL cipher suite and enable some advanced features that will help keep our server secure.\n\nThe parameters we will set can be reused in future Nginx configurations, so we will give the file a generic name:\n\n```bash\nsudo nano /etc/nginx/snippets/ssl-params.conf\n```\n\n```conf ssl-params.conf\n# from https://cipherli.st/\n# and https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html\n\nssl_protocols TLSv1 TLSv1.1 TLSv1.2;\nssl_prefer_server_ciphers on;\nssl_ciphers \"EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH\";\nssl_ecdh_curve secp384r1;\nssl_session_cache shared:SSL:10m;\nssl_session_tickets off;\nssl_stapling on;\nssl_stapling_verify on;\nresolver 8.8.8.8 8.8.4.4 valid=300s;\nresolver_timeout 5s;\n# Disable preloading HSTS for now.  You can use the commented out header line that includes\n# the \"preload\" directive if you understand the implications.\n#add_header Strict-Transport-Security \"max-age=63072000; includeSubdomains; preload\";\nadd_header Strict-Transport-Security \"max-age=63072000; includeSubdomains\";\nadd_header X-Frame-Options DENY;\nadd_header X-Content-Type-Options nosniff;\n\nssl_dhparam /etc/ssl/certs/dhparam.pem;\n```\n\n> If you are interested, you can take take a moment to read up on [HTTP Strict Transport Security, or HSTS](https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security), and specifically about the [\"preload\"](https://hstspreload.appspot.com/) functionality. Preloading HSTS provides increased security, but can have far reaching consequences if accidentally enabled or enabled incorrectly. In this guide, we will not preload the settings, but you can modify that if you are sure you understand the implications\n\nNow that we have our snippets, we can adjust our Nginx configuration to enable SSL.\n\nBefore we go any further, let's back up our current server block file:\n\n```bash\nsudo cp /etc/nginx/sites-available/peiyingchi.com /etc/nginx/sites-available/peiyingchi.com.bak\n```\nNow, open the server block file to make adjustments.\nBlow are the 2 conf files for my top-level domain and my subdomain:\n\n```bash\nsudo nano /etc/nginx/sites-available/peiyingchi.com\n```\n\n```js peiyingchi.com\nserver {\n\tlisten 80;\n\tlisten [::]:80;\n\n\tserver_name peiyingchi.com www.peiyingchi.com;\n\treturn 301 https://$server_name$request_uri;\n}\n\nserver {\n\n\t# SSL configuration\n\tlisten 443 ssl http2 default_server;\n\tlisten [::]:443 ssl http2 default_server;\n\tinclude snippets/ssl-peiyingchi.com.conf;\n\tinclude snippets/ssl-params.conf;\n\t\n\troot /var/www/peiyingchi.com/html;\n\n    # Add index.php to the list if you are using PHP\n\tindex index.html index.php;\n\t\n\tserver_name peiyingchi.com www.peiyingchi.com;\n\t\n        location / {\n            try_files $uri $uri/ =404;\n        }\n\n        location ~ /.well-known {\n            allow all;\n        }\n\n}\n```\n\n```js blog.peiyingchi.com\nserver {\n\tlisten 80;\n\tlisten [::]:80;\n\n\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;\n\treturn 301 https://$server_name$request_uri;\n}\n\nserver {\n\t# SSL configuration\n\n\tlisten 443 ssl http2;\n\tlisten [::]:443 ssl http2;\n\tinclude snippets/ssl-peiyingchi.com.conf; # NOTE: the same file as the top level domain\n\tinclude snippets/ssl-params.conf;\t\n\t\n\troot /var/www/blog.peiyingchi.com/html;\n\tindex index.html;\n\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;\n\t\n\tlocation / {\n\t\ttry_files $uri $uri/ =404;\n\t}\n\tlocation ~ /.well-known {\n\t\tallow all;\n\t}\n}\n```\n\n### Step 4: Adjust the Firewall\nIf you have the `ufw` firewall enabled, as recommended by the prerequisite guides, you'll need to adjust the settings to allow for SSL traffic.\n\nYou can see the current setting by typing:\n\n```bash\nsudo ufw status\n```\n\nTo additionally let in HTTPS traffic, we can allow the \"Nginx Full\" profile and then delete the redundant \"Nginx HTTP\" profile allowance:\n\n```bash\nsudo ufw allow 'Nginx Full'\nsudo ufw delete allow 'Nginx HTTP'\n```\n\n### Step 5: Enabling the Changes in Nginx\nFirst, we should check to make sure that there are no syntax errors in our files. We can do this by typing:\n\n```bash\nsudo nginx -t\n```\n\nIf your output matches the above, your configuration file has no syntax errors. We can safely restart Nginx to implement our changes:\n\n```bash\nsudo systemctl restart nginx\n```\nYou can use the Qualys SSL Labs Report to see how your server configuration scores:\nEnter the following to your web browser:\n\nhttps://www.ssllabs.com/ssltest/analyze.html?d=<span style=\"color:red\">example.com</span>\n\n### Step 6: Set Up Auto Renewal\nFrom Let's Encrypt's [official documentation](https://certbot.eff.org/#ubuntuxenial-nginx), you can run the following to test the renew function:\n\n```bash\nsudo letsencrypt renew --dry-run --agree-tos\n```\n> Do not worry for the 'Registering without email!' warning. It does not hurt anything.\n\nIf that appears to be working correctly, you can arrange for automatic renewal by adding a cron or systemd job which runs `letsencrypt renew`\n\nSince the renewal first checks for the expiration date and only executes the renewal if the certificate is less than 30 days away from expiration, it is safe to create a cron job that runs every week or even every day, for instance.\n\nLet's edit the crontab to create a new job that will run the renewal command every week. To edit the crontab for the root user, run:\n\n```bash\nsudo crontab -e\n```\n\nAdd the following lines:\n\n```sh crontab entry\n30 2 * * 1 /usr/bin/letsencrypt renew >> /var/log/le-renew.log\n35 2 * * 1 /bin/systemctl reload nginx\n```\nThis will create a new cron job that will execute the letsencrypt-auto renew command every Monday at 2:30 am, and reload Nginx at 2:35am (so the renewed certificate will be used). The output produced by the command will be piped to a log file located at `/var/log/le-renewal.log`.\n\n\n","slug":"HTTPS-with-Letsencrypt","published":1,"updated":"2017-03-17T09:31:53.000Z","layout":"post","photos":[],"link":"","_id":"cj0dnkbhu00008kkh93ghrz0j","content":"<p>How to use HTTPS for my personal website. Nginx server and Ubuntun 16.04.<br><a id=\"more\"></a></p>\n<h3 id=\"My-environment\"><a href=\"#My-environment\" class=\"headerlink\" title=\"My environment:\"></a>My environment:</h3><ul>\n<li>Web server: Nginx</li>\n<li>Operating System: Ubuntu 16.04 </li>\n</ul>\n<p>The steps are mainly following this Digital Ocean Tutorial:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04\" target=\"_blank\" rel=\"external\">How To Secure Nginx with Let’s Encrypt on Ubuntu 16.04</a>, but with some modifications for subdomain settings.</p>\n<h3 id=\"Step-1-Install-Let’s-Encrypt-Client\"><a href=\"#Step-1-Install-Let’s-Encrypt-Client\" class=\"headerlink\" title=\"Step 1: Install Let’s Encrypt Client\"></a>Step 1: Install Let’s Encrypt Client</h3><p>Run the following command on your Ubuntu server:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get update</div><div class=\"line\">sudo apt-get install letsencrypt</div></pre></td></tr></table></figure>\n<h3 id=\"Step-2-Obtain-an-SSL-Certificate\"><a href=\"#Step-2-Obtain-an-SSL-Certificate\" class=\"headerlink\" title=\"Step 2: Obtain an SSL Certificate\"></a>Step 2: Obtain an SSL Certificate</h3><p>Change the Nginx conf files to enable access to <code>/.well-known</code> folder:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/sites-available/peiyingchi.com</div></pre></td></tr></table></figure>\n<p>Add the following line inside the <code>server</code> block:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">location</span> <span class=\"string\">~</span> <span class=\"string\">/.well-known</span> <span class=\"string\">&#123;</span></div><div class=\"line\">    <span class=\"string\">allow</span> <span class=\"string\">all;</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div></pre></td></tr></table></figure>\n<p>If you want to add the SSL cert to multiple domains or other subdomains, please do the same for all the nginx conf files.</p>\n<p>After changing the nginx conf files for the domains you want to setup HTTPS in, run the following:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo letsencrypt certonly <span class=\"_\">-a</span> webroot --webroot-path=/var/www/peiyingchi.com/html <span class=\"_\">-d</span> peiyingchi.com <span class=\"_\">-d</span> www.peiyingchi.com</div></pre></td></tr></table></figure>\n<p>To setup for subdomains together:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo letsencrypt certonly --webroot -w /var/www/peiyingchi.com/html/ <span class=\"_\">-d</span> www.peiyingchi.com <span class=\"_\">-d</span> peiyingchi.com -w /var/www/blog.peiyingchi.com/html <span class=\"_\">-d</span> blog.peiyingchi.com</div></pre></td></tr></table></figure>\n<p>You will be prompted to enter your contact email and agree some terms and conditions.</p>\n<p>My cert files are at :</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ yingchi@yingchi-site:~$ sudo ls <span class=\"_\">-l</span> /etc/letsencrypt/live/peiyingchi.com</div><div class=\"line\"></div><div class=\"line\">total 0</div><div class=\"line\">lrwxrwxrwx 1 root root 38 Mar 17 01:48 cert.pem -&gt; ../../archive/peiyingchi.com/cert1.pem</div><div class=\"line\">lrwxrwxrwx 1 root root 39 Mar 17 01:48 chain.pem -&gt; ../../archive/peiyingchi.com/chain1.pem</div><div class=\"line\">lrwxrwxrwx 1 root root 43 Mar 17 01:48 fullchain.pem -&gt; ../../archive/peiyingchi.com/fullchain1.pem</div><div class=\"line\">lrwxrwxrwx 1 root root 41 Mar 17 01:48 privkey.pem -&gt; ../../archive/peiyingchi.com/privkey1.pem</div></pre></td></tr></table></figure>\n<p>After obtaining the cert, you will have the following PEM-encoded files:</p>\n<ul>\n<li><code>cert.pem</code>: Your domain’s certificate</li>\n<li><code>chain.pem</code>: The Let’s Encrypt chain certificate</li>\n<li><code>fullchain.pem</code>: <code>cert.pem</code> and <code>chain.pem</code> combined</li>\n<li><code>privkey.pem</code>: Your certificate’s private key</li>\n</ul>\n<p>To further increase security, you should also generate a strong <strong>Diffie-Hellman group</strong>. To generate a 2048-bit group, use this command:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048</div></pre></td></tr></table></figure>\n<h3 id=\"Step-3-Configure-TLS-SSL-on-Web-Server-Nginx\"><a href=\"#Step-3-Configure-TLS-SSL-on-Web-Server-Nginx\" class=\"headerlink\" title=\"Step 3: Configure TLS/SSL on Web Server (Nginx)\"></a>Step 3: Configure TLS/SSL on Web Server (Nginx)</h3><p>Now that you have an SSL certificate, you need to configure your Nginx web server to use it.</p>\n<p>We will make a few adjustments to our configuration:</p>\n<ol>\n<li>We will create a configuration snippet containing our SSL key and certificate file locations.</li>\n<li>We will create a configuration snippet containing strong SSL settings that can be used with any certificates in the future.</li>\n<li>We will adjust the Nginx server blocks to handle SSL requests and use the two snippets above.</li>\n</ol>\n<p>First, let’s create a new Nginx configuration snippet in the <code>/etc/nginx/snippets</code> directory.</p>\n<p>To properly distinguish the purpose of this file, we will name it <code>ssl-</code> followed by our domain name, followed by <code>.conf</code> on the end:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/snippets/ssl-peiyingchi.com.conf</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>ssl-peiyingchi.com.conf</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</div><div class=\"line\">ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;</div></pre></td></tr></table></figure>\n<p>Next, we will create another snippet that will define some SSL settings. This will set Nginx up with a strong SSL cipher suite and enable some advanced features that will help keep our server secure.</p>\n<p>The parameters we will set can be reused in future Nginx configurations, so we will give the file a generic name:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/snippets/ssl-params.conf</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>ssl-params.conf</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"># from https://cipherli.st/</div><div class=\"line\"># and https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html</div><div class=\"line\"></div><div class=\"line\">ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</div><div class=\"line\">ssl_prefer_server_ciphers on;</div><div class=\"line\">ssl_ciphers &quot;EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH&quot;;</div><div class=\"line\">ssl_ecdh_curve secp384r1;</div><div class=\"line\">ssl_session_cache shared:SSL:10m;</div><div class=\"line\">ssl_session_tickets off;</div><div class=\"line\">ssl_stapling on;</div><div class=\"line\">ssl_stapling_verify on;</div><div class=\"line\">resolver 8.8.8.8 8.8.4.4 valid=300s;</div><div class=\"line\">resolver_timeout 5s;</div><div class=\"line\"># Disable preloading HSTS for now.  You can use the commented out header line that includes</div><div class=\"line\"># the &quot;preload&quot; directive if you understand the implications.</div><div class=\"line\">#add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;;</div><div class=\"line\">add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains&quot;;</div><div class=\"line\">add_header X-Frame-Options DENY;</div><div class=\"line\">add_header X-Content-Type-Options nosniff;</div><div class=\"line\"></div><div class=\"line\">ssl_dhparam /etc/ssl/certs/dhparam.pem;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>If you are interested, you can take take a moment to read up on <a href=\"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security\" target=\"_blank\" rel=\"external\">HTTP Strict Transport Security, or HSTS</a>, and specifically about the <a href=\"https://hstspreload.appspot.com/\" target=\"_blank\" rel=\"external\">“preload”</a> functionality. Preloading HSTS provides increased security, but can have far reaching consequences if accidentally enabled or enabled incorrectly. In this guide, we will not preload the settings, but you can modify that if you are sure you understand the implications</p>\n</blockquote>\n<p>Now that we have our snippets, we can adjust our Nginx configuration to enable SSL.</p>\n<p>Before we go any further, let’s back up our current server block file:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo cp /etc/nginx/sites-available/peiyingchi.com /etc/nginx/sites-available/peiyingchi.com.bak</div></pre></td></tr></table></figure>\n<p>Now, open the server block file to make adjustments.<br>Blow are the 2 conf files for my top-level domain and my subdomain:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/sites-available/peiyingchi.com</div></pre></td></tr></table></figure>\n<figure class=\"highlight\"><figcaption><span>peiyingchi.com</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">\tlisten 80;</div><div class=\"line\">\tlisten [::]:80;</div><div class=\"line\"></div><div class=\"line\">\tserver_name peiyingchi.com www.peiyingchi.com;</div><div class=\"line\">\treturn 301 https://$server_name$request_uri;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">server &#123;</div><div class=\"line\"></div><div class=\"line\">\t# SSL configuration</div><div class=\"line\">\tlisten 443 ssl http2 default_server;</div><div class=\"line\">\tlisten [::]:443 ssl http2 default_server;</div><div class=\"line\">\tinclude snippets/ssl-peiyingchi.com.conf;</div><div class=\"line\">\tinclude snippets/ssl-params.conf;</div><div class=\"line\">\t</div><div class=\"line\">\troot /var/www/peiyingchi.com/html;</div><div class=\"line\"></div><div class=\"line\">    # Add index.php to the list if you are using PHP</div><div class=\"line\">\tindex index.html index.php;</div><div class=\"line\">\t</div><div class=\"line\">\tserver_name peiyingchi.com www.peiyingchi.com;</div><div class=\"line\">\t</div><div class=\"line\">        location / &#123;</div><div class=\"line\">            try_files $uri $uri/ =404;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        location ~ /.well-known &#123;</div><div class=\"line\">            allow all;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight\"><figcaption><span>blog.peiyingchi.com</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">\tlisten 80;</div><div class=\"line\">\tlisten [::]:80;</div><div class=\"line\"></div><div class=\"line\">\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;</div><div class=\"line\">\treturn 301 https://$server_name$request_uri;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">server &#123;</div><div class=\"line\">\t# SSL configuration</div><div class=\"line\"></div><div class=\"line\">\tlisten 443 ssl http2;</div><div class=\"line\">\tlisten [::]:443 ssl http2;</div><div class=\"line\">\tinclude snippets/ssl-peiyingchi.com.conf; # NOTE: the same file as the top level domain</div><div class=\"line\">\tinclude snippets/ssl-params.conf;\t</div><div class=\"line\">\t</div><div class=\"line\">\troot /var/www/blog.peiyingchi.com/html;</div><div class=\"line\">\tindex index.html;</div><div class=\"line\">\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;</div><div class=\"line\">\t</div><div class=\"line\">\tlocation / &#123;</div><div class=\"line\">\t\ttry_files $uri $uri/ =404;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\tlocation ~ /.well-known &#123;</div><div class=\"line\">\t\tallow all;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Step-4-Adjust-the-Firewall\"><a href=\"#Step-4-Adjust-the-Firewall\" class=\"headerlink\" title=\"Step 4: Adjust the Firewall\"></a>Step 4: Adjust the Firewall</h3><p>If you have the <code>ufw</code> firewall enabled, as recommended by the prerequisite guides, you’ll need to adjust the settings to allow for SSL traffic.</p>\n<p>You can see the current setting by typing:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo ufw status</div></pre></td></tr></table></figure>\n<p>To additionally let in HTTPS traffic, we can allow the “Nginx Full” profile and then delete the redundant “Nginx HTTP” profile allowance:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo ufw allow <span class=\"string\">'Nginx Full'</span></div><div class=\"line\">sudo ufw delete allow <span class=\"string\">'Nginx HTTP'</span></div></pre></td></tr></table></figure>\n<h3 id=\"Step-5-Enabling-the-Changes-in-Nginx\"><a href=\"#Step-5-Enabling-the-Changes-in-Nginx\" class=\"headerlink\" title=\"Step 5: Enabling the Changes in Nginx\"></a>Step 5: Enabling the Changes in Nginx</h3><p>First, we should check to make sure that there are no syntax errors in our files. We can do this by typing:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nginx -t</div></pre></td></tr></table></figure>\n<p>If your output matches the above, your configuration file has no syntax errors. We can safely restart Nginx to implement our changes:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo systemctl restart nginx</div></pre></td></tr></table></figure>\n<p>You can use the Qualys SSL Labs Report to see how your server configuration scores:<br>Enter the following to your web browser:</p>\n<p><a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=\" target=\"_blank\" rel=\"external\">https://www.ssllabs.com/ssltest/analyze.html?d=</a><span style=\"color:red\">example.com</span></p>\n<h3 id=\"Step-6-Set-Up-Auto-Renewal\"><a href=\"#Step-6-Set-Up-Auto-Renewal\" class=\"headerlink\" title=\"Step 6: Set Up Auto Renewal\"></a>Step 6: Set Up Auto Renewal</h3><p>From Let’s Encrypt’s <a href=\"https://certbot.eff.org/#ubuntuxenial-nginx\" target=\"_blank\" rel=\"external\">official documentation</a>, you can run the following to test the renew function:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo letsencrypt renew --dry-run --agree-tos</div></pre></td></tr></table></figure>\n<blockquote>\n<p>Do not worry for the ‘Registering without email!’ warning. It does not hurt anything.</p>\n</blockquote>\n<p>If that appears to be working correctly, you can arrange for automatic renewal by adding a cron or systemd job which runs <code>letsencrypt renew</code></p>\n<p>Since the renewal first checks for the expiration date and only executes the renewal if the certificate is less than 30 days away from expiration, it is safe to create a cron job that runs every week or even every day, for instance.</p>\n<p>Let’s edit the crontab to create a new job that will run the renewal command every week. To edit the crontab for the root user, run:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo crontab <span class=\"_\">-e</span></div></pre></td></tr></table></figure>\n<p>Add the following lines:</p>\n<figure class=\"highlight sh\"><figcaption><span>crontab entry</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">30 2 * * 1 /usr/bin/letsencrypt renew &gt;&gt; /var/<span class=\"built_in\">log</span>/le-renew.log</div><div class=\"line\">35 2 * * 1 /bin/systemctl reload nginx</div></pre></td></tr></table></figure>\n<p>This will create a new cron job that will execute the letsencrypt-auto renew command every Monday at 2:30 am, and reload Nginx at 2:35am (so the renewed certificate will be used). The output produced by the command will be piped to a log file located at <code>/var/log/le-renewal.log</code>.</p>\n","excerpt":"<p>How to use HTTPS for my personal website. Nginx server and Ubuntun 16.04.<br>","more":"</p>\n<h3 id=\"My-environment\"><a href=\"#My-environment\" class=\"headerlink\" title=\"My environment:\"></a>My environment:</h3><ul>\n<li>Web server: Nginx</li>\n<li>Operating System: Ubuntu 16.04 </li>\n</ul>\n<p>The steps are mainly following this Digital Ocean Tutorial:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04\">How To Secure Nginx with Let’s Encrypt on Ubuntu 16.04</a>, but with some modifications for subdomain settings.</p>\n<h3 id=\"Step-1-Install-Let’s-Encrypt-Client\"><a href=\"#Step-1-Install-Let’s-Encrypt-Client\" class=\"headerlink\" title=\"Step 1: Install Let’s Encrypt Client\"></a>Step 1: Install Let’s Encrypt Client</h3><p>Run the following command on your Ubuntu server:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo apt-get update</div><div class=\"line\">sudo apt-get install letsencrypt</div></pre></td></tr></table></figure>\n<h3 id=\"Step-2-Obtain-an-SSL-Certificate\"><a href=\"#Step-2-Obtain-an-SSL-Certificate\" class=\"headerlink\" title=\"Step 2: Obtain an SSL Certificate\"></a>Step 2: Obtain an SSL Certificate</h3><p>Change the Nginx conf files to enable access to <code>/.well-known</code> folder:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/sites-available/peiyingchi.com</div></pre></td></tr></table></figure>\n<p>Add the following line inside the <code>server</code> block:</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">location</span> <span class=\"string\">~</span> <span class=\"string\">/.well-known</span> <span class=\"string\">&#123;</span></div><div class=\"line\">    <span class=\"string\">allow</span> <span class=\"string\">all;</span></div><div class=\"line\"><span class=\"string\">&#125;</span></div></pre></td></tr></table></figure>\n<p>If you want to add the SSL cert to multiple domains or other subdomains, please do the same for all the nginx conf files.</p>\n<p>After changing the nginx conf files for the domains you want to setup HTTPS in, run the following:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo letsencrypt certonly <span class=\"_\">-a</span> webroot --webroot-path=/var/www/peiyingchi.com/html <span class=\"_\">-d</span> peiyingchi.com <span class=\"_\">-d</span> www.peiyingchi.com</div></pre></td></tr></table></figure>\n<p>To setup for subdomains together:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo letsencrypt certonly --webroot -w /var/www/peiyingchi.com/html/ <span class=\"_\">-d</span> www.peiyingchi.com <span class=\"_\">-d</span> peiyingchi.com -w /var/www/blog.peiyingchi.com/html <span class=\"_\">-d</span> blog.peiyingchi.com</div></pre></td></tr></table></figure>\n<p>You will be prompted to enter your contact email and agree some terms and conditions.</p>\n<p>My cert files are at :</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ yingchi@yingchi-site:~$ sudo ls <span class=\"_\">-l</span> /etc/letsencrypt/live/peiyingchi.com</div><div class=\"line\"></div><div class=\"line\">total 0</div><div class=\"line\">lrwxrwxrwx 1 root root 38 Mar 17 01:48 cert.pem -&gt; ../../archive/peiyingchi.com/cert1.pem</div><div class=\"line\">lrwxrwxrwx 1 root root 39 Mar 17 01:48 chain.pem -&gt; ../../archive/peiyingchi.com/chain1.pem</div><div class=\"line\">lrwxrwxrwx 1 root root 43 Mar 17 01:48 fullchain.pem -&gt; ../../archive/peiyingchi.com/fullchain1.pem</div><div class=\"line\">lrwxrwxrwx 1 root root 41 Mar 17 01:48 privkey.pem -&gt; ../../archive/peiyingchi.com/privkey1.pem</div></pre></td></tr></table></figure>\n<p>After obtaining the cert, you will have the following PEM-encoded files:</p>\n<ul>\n<li><code>cert.pem</code>: Your domain’s certificate</li>\n<li><code>chain.pem</code>: The Let’s Encrypt chain certificate</li>\n<li><code>fullchain.pem</code>: <code>cert.pem</code> and <code>chain.pem</code> combined</li>\n<li><code>privkey.pem</code>: Your certificate’s private key</li>\n</ul>\n<p>To further increase security, you should also generate a strong <strong>Diffie-Hellman group</strong>. To generate a 2048-bit group, use this command:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048</div></pre></td></tr></table></figure>\n<h3 id=\"Step-3-Configure-TLS-SSL-on-Web-Server-Nginx\"><a href=\"#Step-3-Configure-TLS-SSL-on-Web-Server-Nginx\" class=\"headerlink\" title=\"Step 3: Configure TLS/SSL on Web Server (Nginx)\"></a>Step 3: Configure TLS/SSL on Web Server (Nginx)</h3><p>Now that you have an SSL certificate, you need to configure your Nginx web server to use it.</p>\n<p>We will make a few adjustments to our configuration:</p>\n<ol>\n<li>We will create a configuration snippet containing our SSL key and certificate file locations.</li>\n<li>We will create a configuration snippet containing strong SSL settings that can be used with any certificates in the future.</li>\n<li>We will adjust the Nginx server blocks to handle SSL requests and use the two snippets above.</li>\n</ol>\n<p>First, let’s create a new Nginx configuration snippet in the <code>/etc/nginx/snippets</code> directory.</p>\n<p>To properly distinguish the purpose of this file, we will name it <code>ssl-</code> followed by our domain name, followed by <code>.conf</code> on the end:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/snippets/ssl-peiyingchi.com.conf</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>ssl-peiyingchi.com.conf</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;</div><div class=\"line\">ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;</div></pre></td></tr></table></figure>\n<p>Next, we will create another snippet that will define some SSL settings. This will set Nginx up with a strong SSL cipher suite and enable some advanced features that will help keep our server secure.</p>\n<p>The parameters we will set can be reused in future Nginx configurations, so we will give the file a generic name:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/snippets/ssl-params.conf</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><figcaption><span>ssl-params.conf</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"># from https://cipherli.st/</div><div class=\"line\"># and https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html</div><div class=\"line\"></div><div class=\"line\">ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</div><div class=\"line\">ssl_prefer_server_ciphers on;</div><div class=\"line\">ssl_ciphers &quot;EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH&quot;;</div><div class=\"line\">ssl_ecdh_curve secp384r1;</div><div class=\"line\">ssl_session_cache shared:SSL:10m;</div><div class=\"line\">ssl_session_tickets off;</div><div class=\"line\">ssl_stapling on;</div><div class=\"line\">ssl_stapling_verify on;</div><div class=\"line\">resolver 8.8.8.8 8.8.4.4 valid=300s;</div><div class=\"line\">resolver_timeout 5s;</div><div class=\"line\"># Disable preloading HSTS for now.  You can use the commented out header line that includes</div><div class=\"line\"># the &quot;preload&quot; directive if you understand the implications.</div><div class=\"line\">#add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;;</div><div class=\"line\">add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains&quot;;</div><div class=\"line\">add_header X-Frame-Options DENY;</div><div class=\"line\">add_header X-Content-Type-Options nosniff;</div><div class=\"line\"></div><div class=\"line\">ssl_dhparam /etc/ssl/certs/dhparam.pem;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>If you are interested, you can take take a moment to read up on <a href=\"https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security\">HTTP Strict Transport Security, or HSTS</a>, and specifically about the <a href=\"https://hstspreload.appspot.com/\">“preload”</a> functionality. Preloading HSTS provides increased security, but can have far reaching consequences if accidentally enabled or enabled incorrectly. In this guide, we will not preload the settings, but you can modify that if you are sure you understand the implications</p>\n</blockquote>\n<p>Now that we have our snippets, we can adjust our Nginx configuration to enable SSL.</p>\n<p>Before we go any further, let’s back up our current server block file:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo cp /etc/nginx/sites-available/peiyingchi.com /etc/nginx/sites-available/peiyingchi.com.bak</div></pre></td></tr></table></figure>\n<p>Now, open the server block file to make adjustments.<br>Blow are the 2 conf files for my top-level domain and my subdomain:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nano /etc/nginx/sites-available/peiyingchi.com</div></pre></td></tr></table></figure>\n<figure class=\"highlight\"><figcaption><span>peiyingchi.com</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">\tlisten 80;</div><div class=\"line\">\tlisten [::]:80;</div><div class=\"line\"></div><div class=\"line\">\tserver_name peiyingchi.com www.peiyingchi.com;</div><div class=\"line\">\treturn 301 https://$server_name$request_uri;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">server &#123;</div><div class=\"line\"></div><div class=\"line\">\t# SSL configuration</div><div class=\"line\">\tlisten 443 ssl http2 default_server;</div><div class=\"line\">\tlisten [::]:443 ssl http2 default_server;</div><div class=\"line\">\tinclude snippets/ssl-peiyingchi.com.conf;</div><div class=\"line\">\tinclude snippets/ssl-params.conf;</div><div class=\"line\">\t</div><div class=\"line\">\troot /var/www/peiyingchi.com/html;</div><div class=\"line\"></div><div class=\"line\">    # Add index.php to the list if you are using PHP</div><div class=\"line\">\tindex index.html index.php;</div><div class=\"line\">\t</div><div class=\"line\">\tserver_name peiyingchi.com www.peiyingchi.com;</div><div class=\"line\">\t</div><div class=\"line\">        location / &#123;</div><div class=\"line\">            try_files $uri $uri/ =404;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        location ~ /.well-known &#123;</div><div class=\"line\">            allow all;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight\"><figcaption><span>blog.peiyingchi.com</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">\tlisten 80;</div><div class=\"line\">\tlisten [::]:80;</div><div class=\"line\"></div><div class=\"line\">\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;</div><div class=\"line\">\treturn 301 https://$server_name$request_uri;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">server &#123;</div><div class=\"line\">\t# SSL configuration</div><div class=\"line\"></div><div class=\"line\">\tlisten 443 ssl http2;</div><div class=\"line\">\tlisten [::]:443 ssl http2;</div><div class=\"line\">\tinclude snippets/ssl-peiyingchi.com.conf; # NOTE: the same file as the top level domain</div><div class=\"line\">\tinclude snippets/ssl-params.conf;\t</div><div class=\"line\">\t</div><div class=\"line\">\troot /var/www/blog.peiyingchi.com/html;</div><div class=\"line\">\tindex index.html;</div><div class=\"line\">\tserver_name blog.peiyingchi.com www.blog.peiyingchi.com;</div><div class=\"line\">\t</div><div class=\"line\">\tlocation / &#123;</div><div class=\"line\">\t\ttry_files $uri $uri/ =404;</div><div class=\"line\">\t&#125;</div><div class=\"line\">\tlocation ~ /.well-known &#123;</div><div class=\"line\">\t\tallow all;</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Step-4-Adjust-the-Firewall\"><a href=\"#Step-4-Adjust-the-Firewall\" class=\"headerlink\" title=\"Step 4: Adjust the Firewall\"></a>Step 4: Adjust the Firewall</h3><p>If you have the <code>ufw</code> firewall enabled, as recommended by the prerequisite guides, you’ll need to adjust the settings to allow for SSL traffic.</p>\n<p>You can see the current setting by typing:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo ufw status</div></pre></td></tr></table></figure>\n<p>To additionally let in HTTPS traffic, we can allow the “Nginx Full” profile and then delete the redundant “Nginx HTTP” profile allowance:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo ufw allow <span class=\"string\">'Nginx Full'</span></div><div class=\"line\">sudo ufw delete allow <span class=\"string\">'Nginx HTTP'</span></div></pre></td></tr></table></figure>\n<h3 id=\"Step-5-Enabling-the-Changes-in-Nginx\"><a href=\"#Step-5-Enabling-the-Changes-in-Nginx\" class=\"headerlink\" title=\"Step 5: Enabling the Changes in Nginx\"></a>Step 5: Enabling the Changes in Nginx</h3><p>First, we should check to make sure that there are no syntax errors in our files. We can do this by typing:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo nginx -t</div></pre></td></tr></table></figure>\n<p>If your output matches the above, your configuration file has no syntax errors. We can safely restart Nginx to implement our changes:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo systemctl restart nginx</div></pre></td></tr></table></figure>\n<p>You can use the Qualys SSL Labs Report to see how your server configuration scores:<br>Enter the following to your web browser:</p>\n<p><a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=\">https://www.ssllabs.com/ssltest/analyze.html?d=</a><span style=\"color:red\">example.com</span></p>\n<h3 id=\"Step-6-Set-Up-Auto-Renewal\"><a href=\"#Step-6-Set-Up-Auto-Renewal\" class=\"headerlink\" title=\"Step 6: Set Up Auto Renewal\"></a>Step 6: Set Up Auto Renewal</h3><p>From Let’s Encrypt’s <a href=\"https://certbot.eff.org/#ubuntuxenial-nginx\">official documentation</a>, you can run the following to test the renew function:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo letsencrypt renew --dry-run --agree-tos</div></pre></td></tr></table></figure>\n<blockquote>\n<p>Do not worry for the ‘Registering without email!’ warning. It does not hurt anything.</p>\n</blockquote>\n<p>If that appears to be working correctly, you can arrange for automatic renewal by adding a cron or systemd job which runs <code>letsencrypt renew</code></p>\n<p>Since the renewal first checks for the expiration date and only executes the renewal if the certificate is less than 30 days away from expiration, it is safe to create a cron job that runs every week or even every day, for instance.</p>\n<p>Let’s edit the crontab to create a new job that will run the renewal command every week. To edit the crontab for the root user, run:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo crontab <span class=\"_\">-e</span></div></pre></td></tr></table></figure>\n<p>Add the following lines:</p>\n<figure class=\"highlight sh\"><figcaption><span>crontab entry</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">30 2 * * 1 /usr/bin/letsencrypt renew &gt;&gt; /var/<span class=\"built_in\">log</span>/le-renew.log</div><div class=\"line\">35 2 * * 1 /bin/systemctl reload nginx</div></pre></td></tr></table></figure>\n<p>This will create a new cron job that will execute the letsencrypt-auto renew command every Monday at 2:30 am, and reload Nginx at 2:35am (so the renewed certificate will be used). The output produced by the command will be piped to a log file located at <code>/var/log/le-renewal.log</code>.</p>"},{"title":"Image Hosting and HTTPS|图床与HTTPS","date":"2017-03-17T07:53:45.000Z","comments":1,"toc":true,"thumbnail":null,"banner":null,"_content":"Use images hosting service with HTTPS connections.\n把图片放到支持HTTPS链接的图床平台上。\n\n<!-- more -->\n## 前言：\n前几天把网站改到用HTTPS安全链接。\n![](https://i.niupic.com/images/2017/03/17/jTJp2c.jpg)\n![](https://i.niupic.com/images/2017/03/17/j5dYqp.jpg)\n\n又想到一个任务是把博客的图片从Hexo `asset folder`加载模式改到用图床模式。这样一来有两个好处：\n\n- 博客文章越来越多的时候hexo文件数会减半。因为之前的方式会给每篇post新建一个folder来放所有的图片等媒体\n- 不会占用Digital Ocean的空间。购买的贫农级服务空间有限，能少用就少用点吧。\n\n哦当然，要是用免费的图床服务啊。。有可能图床提供商整个服务崩掉。。那就没有然后了。。\n\n#### Https 与小绿锁\n\n按照前一篇笔记的流程给网站加了证书之后，浏览器中并不一定会显示可爱的小绿锁。为什么？因为网站可以还引用了别的 HTTP 资源，比如 js、css、图片、等等。必须全站资源均是 HTTPS，才会在浏览器地址显示小绿锁。（我当时主页面用`http://fonts...`\n来引用Google Fonts，就不行。在文件里把链接改为`://fonts...`之后就好了。）\n\n#### 图床选择\n所以之前看到很多网上攻略用七牛的图床，但是经过多看多查，发现七牛的免费流量只支持HTTP，而HTTPS流量是要付费的。\n来搜集一下支持HTTPS的免费图床：\n\n- [imgur](https://imgur.com/)\n- [sm.ms](https://sm.ms/) （5MB limit）\n- [postimage.io](https://postimage.io/)\n- [牛图网](https://www.niupic.com/) （无需注册）\n\n\n","source":"_posts/image-hosting-and-https.md","raw":"---\ntitle: Image Hosting and HTTPS|图床与HTTPS\ndate: 2017-03-17 15:53:45\ntags: website dev\ncategories: Website Dev\ncomments:\ntoc: true\nthumbnail:\nbanner:\n---\nUse images hosting service with HTTPS connections.\n把图片放到支持HTTPS链接的图床平台上。\n\n<!-- more -->\n## 前言：\n前几天把网站改到用HTTPS安全链接。\n![](https://i.niupic.com/images/2017/03/17/jTJp2c.jpg)\n![](https://i.niupic.com/images/2017/03/17/j5dYqp.jpg)\n\n又想到一个任务是把博客的图片从Hexo `asset folder`加载模式改到用图床模式。这样一来有两个好处：\n\n- 博客文章越来越多的时候hexo文件数会减半。因为之前的方式会给每篇post新建一个folder来放所有的图片等媒体\n- 不会占用Digital Ocean的空间。购买的贫农级服务空间有限，能少用就少用点吧。\n\n哦当然，要是用免费的图床服务啊。。有可能图床提供商整个服务崩掉。。那就没有然后了。。\n\n#### Https 与小绿锁\n\n按照前一篇笔记的流程给网站加了证书之后，浏览器中并不一定会显示可爱的小绿锁。为什么？因为网站可以还引用了别的 HTTP 资源，比如 js、css、图片、等等。必须全站资源均是 HTTPS，才会在浏览器地址显示小绿锁。（我当时主页面用`http://fonts...`\n来引用Google Fonts，就不行。在文件里把链接改为`://fonts...`之后就好了。）\n\n#### 图床选择\n所以之前看到很多网上攻略用七牛的图床，但是经过多看多查，发现七牛的免费流量只支持HTTP，而HTTPS流量是要付费的。\n来搜集一下支持HTTPS的免费图床：\n\n- [imgur](https://imgur.com/)\n- [sm.ms](https://sm.ms/) （5MB limit）\n- [postimage.io](https://postimage.io/)\n- [牛图网](https://www.niupic.com/) （无需注册）\n\n\n","slug":"image-hosting-and-https","published":1,"updated":"2017-03-17T09:31:00.000Z","layout":"post","photos":[],"link":"","_id":"cj0dnkbhz00028kkh5a05dn2k","content":"<p>Use images hosting service with HTTPS connections.<br>把图片放到支持HTTPS链接的图床平台上。</p>\n<a id=\"more\"></a>\n<h2 id=\"前言：\"><a href=\"#前言：\" class=\"headerlink\" title=\"前言：\"></a>前言：</h2><p>前几天把网站改到用HTTPS安全链接。<br><img src=\"https://i.niupic.com/images/2017/03/17/jTJp2c.jpg\" alt=\"\"><br><img src=\"https://i.niupic.com/images/2017/03/17/j5dYqp.jpg\" alt=\"\"></p>\n<p>又想到一个任务是把博客的图片从Hexo <code>asset folder</code>加载模式改到用图床模式。这样一来有两个好处：</p>\n<ul>\n<li>博客文章越来越多的时候hexo文件数会减半。因为之前的方式会给每篇post新建一个folder来放所有的图片等媒体</li>\n<li>不会占用Digital Ocean的空间。购买的贫农级服务空间有限，能少用就少用点吧。</li>\n</ul>\n<p>哦当然，要是用免费的图床服务啊。。有可能图床提供商整个服务崩掉。。那就没有然后了。。</p>\n<h4 id=\"Https-与小绿锁\"><a href=\"#Https-与小绿锁\" class=\"headerlink\" title=\"Https 与小绿锁\"></a>Https 与小绿锁</h4><p>按照前一篇笔记的流程给网站加了证书之后，浏览器中并不一定会显示可爱的小绿锁。为什么？因为网站可以还引用了别的 HTTP 资源，比如 js、css、图片、等等。必须全站资源均是 HTTPS，才会在浏览器地址显示小绿锁。（我当时主页面用<code>http://fonts...</code><br>来引用Google Fonts，就不行。在文件里把链接改为<code>://fonts...</code>之后就好了。）</p>\n<h4 id=\"图床选择\"><a href=\"#图床选择\" class=\"headerlink\" title=\"图床选择\"></a>图床选择</h4><p>所以之前看到很多网上攻略用七牛的图床，但是经过多看多查，发现七牛的免费流量只支持HTTP，而HTTPS流量是要付费的。<br>来搜集一下支持HTTPS的免费图床：</p>\n<ul>\n<li><a href=\"https://imgur.com/\" target=\"_blank\" rel=\"external\">imgur</a></li>\n<li><a href=\"https://sm.ms/\" target=\"_blank\" rel=\"external\">sm.ms</a> （5MB limit）</li>\n<li><a href=\"https://postimage.io/\" target=\"_blank\" rel=\"external\">postimage.io</a></li>\n<li><a href=\"https://www.niupic.com/\" target=\"_blank\" rel=\"external\">牛图网</a> （无需注册）</li>\n</ul>\n","excerpt":"<p>Use images hosting service with HTTPS connections.<br>把图片放到支持HTTPS链接的图床平台上。</p>","more":"<h2 id=\"前言：\"><a href=\"#前言：\" class=\"headerlink\" title=\"前言：\"></a>前言：</h2><p>前几天把网站改到用HTTPS安全链接。<br><img src=\"https://i.niupic.com/images/2017/03/17/jTJp2c.jpg\" alt=\"\"><br><img src=\"https://i.niupic.com/images/2017/03/17/j5dYqp.jpg\" alt=\"\"></p>\n<p>又想到一个任务是把博客的图片从Hexo <code>asset folder</code>加载模式改到用图床模式。这样一来有两个好处：</p>\n<ul>\n<li>博客文章越来越多的时候hexo文件数会减半。因为之前的方式会给每篇post新建一个folder来放所有的图片等媒体</li>\n<li>不会占用Digital Ocean的空间。购买的贫农级服务空间有限，能少用就少用点吧。</li>\n</ul>\n<p>哦当然，要是用免费的图床服务啊。。有可能图床提供商整个服务崩掉。。那就没有然后了。。</p>\n<h4 id=\"Https-与小绿锁\"><a href=\"#Https-与小绿锁\" class=\"headerlink\" title=\"Https 与小绿锁\"></a>Https 与小绿锁</h4><p>按照前一篇笔记的流程给网站加了证书之后，浏览器中并不一定会显示可爱的小绿锁。为什么？因为网站可以还引用了别的 HTTP 资源，比如 js、css、图片、等等。必须全站资源均是 HTTPS，才会在浏览器地址显示小绿锁。（我当时主页面用<code>http://fonts...</code><br>来引用Google Fonts，就不行。在文件里把链接改为<code>://fonts...</code>之后就好了。）</p>\n<h4 id=\"图床选择\"><a href=\"#图床选择\" class=\"headerlink\" title=\"图床选择\"></a>图床选择</h4><p>所以之前看到很多网上攻略用七牛的图床，但是经过多看多查，发现七牛的免费流量只支持HTTP，而HTTPS流量是要付费的。<br>来搜集一下支持HTTPS的免费图床：</p>\n<ul>\n<li><a href=\"https://imgur.com/\">imgur</a></li>\n<li><a href=\"https://sm.ms/\">sm.ms</a> （5MB limit）</li>\n<li><a href=\"https://postimage.io/\">postimage.io</a></li>\n<li><a href=\"https://www.niupic.com/\">牛图网</a> （无需注册）</li>\n</ul>"},{"title":"Hexo User Notes|Hexo的基本使用","date":"2017-03-11T00:33:24.000Z","comments":1,"toc":true,"thumbnail":null,"banner":null,"_content":"\n使用Hexo的常用命令和一些格式上的小技巧。\n\n<!--more -->\n\n#### 基本命令\n1. `$ hexo new [layout] <title>` 创建一篇新文章。其中`layout`是可选参数，默认值是`post`。Hexo提供的`layout`在`scaffolds`目录下，也可以在此目录下自建`layout`文件。新建的文件则会保存到 `source/_post`目录下。你也可以更改默认布局的参数，如post布局，你需要打开 `scaffolds/post.md`，增加类别和描述。再新建一篇文章就能看到增加了文章参数。\n\n2. `$ hexo generate` 也可简写为`$ hexo g` 在部署前需要通过该命令把所有的文章做静态化处理，生成相应的html、javascript、css。\n\n3. `$ hexo deploy`也可简写为$ `hexo d` 负责生成静态文件后的发布。在发布到你的服务器之前要先配置好deploy指令，在全局配置文件(`_config.yml`)中找到deploy，并修改属性值。\n\n\n#### 在文章中加入图片\n要在文章中插入图片，有两个选择，一是使用图床，二是将图片与网页文件一起部署。两种方法各有利弊，如果打算部署到GitHub或GitCafe上，个人推荐使用图床。如果是部署到七牛上，则直接使用部署方式。\n\n\n#### 不在主页显示全部文章内容\n我们在编辑内容时，在合适的地方添加一行代码：`<!-- more -->`，在它之上是摘要，是在主页会显示的文字部分。在它之下是余下全文，在主页中会多一个阅读全文的按钮，点击后才会看到全部内容。\n\n#### 文章基本参数\n打开 `scaffolds/post.md` 增加类别和描述，修改默认布局的参数：\n\n```markdown post.md\n---\ntitle: #标题\ndate: #日期时间\ntags: #标签\ncategories: #分类\ncomments: #是否允许评论 true 或 false\ntoc: #是否添加文章目录 true 或 false\nthumbnail: #侧边栏封面图\nbanner: #文章顶部封面图\n---\n```\n在新建一篇文章，你就能看到新建的文章已经新增了这些参数，不用每次自己手打，不需要的值就可以空着。\n\n#### 代码高亮并为代码块添加标题\nMarkdown中插入代码，是通过添加三个反引号（`）或三个波浪号（~）来实现的。如下示例\n\n``` [language] \ncode here \n```\n像大多数的markdown, 如github的markdown都是这种写法。这种写法在[language]后面不能加其它参数，否则会输出不正常。\n\nHexo自带高亮：[Code Block](https://hexo.io/docs/tag-plugins.html#Code-Block)\n\n使用格式如下：\n\n```markdown\n{% codeblock [title] [lang:language] [url] [link text] %}\ncode snippet\n{% endcodeblock %}\n```\n\n注意：如果使用静态的代码高亮，则必须关闭hexo自带高亮，关闭之后，如果以前的.md源文件使用的是hexo第二种插入代码的方式，则会导致`hexo-renderer-marked`渲染异常。\n\n\n#### 关于 Markdown 语法格式\n尽量使用规范的 Markdown 语法格式\n参考：http://www.cirosantilli.com/markdown-style-guide/#code\n\n","source":"_posts/hexo-user-notes.md","raw":"---\ntitle: Hexo User Notes|Hexo的基本使用\ndate: 2017-03-11 08:33:24\ntags: hexo\ncategories: Hexo \ncomments:\ntoc: true\nthumbnail:\nbanner:\n---\n\n使用Hexo的常用命令和一些格式上的小技巧。\n\n<!--more -->\n\n#### 基本命令\n1. `$ hexo new [layout] <title>` 创建一篇新文章。其中`layout`是可选参数，默认值是`post`。Hexo提供的`layout`在`scaffolds`目录下，也可以在此目录下自建`layout`文件。新建的文件则会保存到 `source/_post`目录下。你也可以更改默认布局的参数，如post布局，你需要打开 `scaffolds/post.md`，增加类别和描述。再新建一篇文章就能看到增加了文章参数。\n\n2. `$ hexo generate` 也可简写为`$ hexo g` 在部署前需要通过该命令把所有的文章做静态化处理，生成相应的html、javascript、css。\n\n3. `$ hexo deploy`也可简写为$ `hexo d` 负责生成静态文件后的发布。在发布到你的服务器之前要先配置好deploy指令，在全局配置文件(`_config.yml`)中找到deploy，并修改属性值。\n\n\n#### 在文章中加入图片\n要在文章中插入图片，有两个选择，一是使用图床，二是将图片与网页文件一起部署。两种方法各有利弊，如果打算部署到GitHub或GitCafe上，个人推荐使用图床。如果是部署到七牛上，则直接使用部署方式。\n\n\n#### 不在主页显示全部文章内容\n我们在编辑内容时，在合适的地方添加一行代码：`<!-- more -->`，在它之上是摘要，是在主页会显示的文字部分。在它之下是余下全文，在主页中会多一个阅读全文的按钮，点击后才会看到全部内容。\n\n#### 文章基本参数\n打开 `scaffolds/post.md` 增加类别和描述，修改默认布局的参数：\n\n```markdown post.md\n---\ntitle: #标题\ndate: #日期时间\ntags: #标签\ncategories: #分类\ncomments: #是否允许评论 true 或 false\ntoc: #是否添加文章目录 true 或 false\nthumbnail: #侧边栏封面图\nbanner: #文章顶部封面图\n---\n```\n在新建一篇文章，你就能看到新建的文章已经新增了这些参数，不用每次自己手打，不需要的值就可以空着。\n\n#### 代码高亮并为代码块添加标题\nMarkdown中插入代码，是通过添加三个反引号（`）或三个波浪号（~）来实现的。如下示例\n\n``` [language] \ncode here \n```\n像大多数的markdown, 如github的markdown都是这种写法。这种写法在[language]后面不能加其它参数，否则会输出不正常。\n\nHexo自带高亮：[Code Block](https://hexo.io/docs/tag-plugins.html#Code-Block)\n\n使用格式如下：\n\n```markdown\n{% codeblock [title] [lang:language] [url] [link text] %}\ncode snippet\n{% endcodeblock %}\n```\n\n注意：如果使用静态的代码高亮，则必须关闭hexo自带高亮，关闭之后，如果以前的.md源文件使用的是hexo第二种插入代码的方式，则会导致`hexo-renderer-marked`渲染异常。\n\n\n#### 关于 Markdown 语法格式\n尽量使用规范的 Markdown 语法格式\n参考：http://www.cirosantilli.com/markdown-style-guide/#code\n\n","slug":"hexo-user-notes","published":1,"updated":"2017-03-11T10:09:41.000Z","layout":"post","photos":[],"link":"","_id":"cj0dnkbi800068kkhdadf902s","content":"<p>使用Hexo的常用命令和一些格式上的小技巧。</p>\n<a id=\"more\"></a>\n<h4 id=\"基本命令\"><a href=\"#基本命令\" class=\"headerlink\" title=\"基本命令\"></a>基本命令</h4><ol>\n<li><p><code>$ hexo new [layout] &lt;title&gt;</code> 创建一篇新文章。其中<code>layout</code>是可选参数，默认值是<code>post</code>。Hexo提供的<code>layout</code>在<code>scaffolds</code>目录下，也可以在此目录下自建<code>layout</code>文件。新建的文件则会保存到 <code>source/_post</code>目录下。你也可以更改默认布局的参数，如post布局，你需要打开 <code>scaffolds/post.md</code>，增加类别和描述。再新建一篇文章就能看到增加了文章参数。</p>\n</li>\n<li><p><code>$ hexo generate</code> 也可简写为<code>$ hexo g</code> 在部署前需要通过该命令把所有的文章做静态化处理，生成相应的html、javascript、css。</p>\n</li>\n<li><p><code>$ hexo deploy</code>也可简写为$ <code>hexo d</code> 负责生成静态文件后的发布。在发布到你的服务器之前要先配置好deploy指令，在全局配置文件(<code>_config.yml</code>)中找到deploy，并修改属性值。</p>\n</li>\n</ol>\n<h4 id=\"在文章中加入图片\"><a href=\"#在文章中加入图片\" class=\"headerlink\" title=\"在文章中加入图片\"></a>在文章中加入图片</h4><p>要在文章中插入图片，有两个选择，一是使用图床，二是将图片与网页文件一起部署。两种方法各有利弊，如果打算部署到GitHub或GitCafe上，个人推荐使用图床。如果是部署到七牛上，则直接使用部署方式。</p>\n<h4 id=\"不在主页显示全部文章内容\"><a href=\"#不在主页显示全部文章内容\" class=\"headerlink\" title=\"不在主页显示全部文章内容\"></a>不在主页显示全部文章内容</h4><p>我们在编辑内容时，在合适的地方添加一行代码：<code>&lt;!-- more --&gt;</code>，在它之上是摘要，是在主页会显示的文字部分。在它之下是余下全文，在主页中会多一个阅读全文的按钮，点击后才会看到全部内容。</p>\n<h4 id=\"文章基本参数\"><a href=\"#文章基本参数\" class=\"headerlink\" title=\"文章基本参数\"></a>文章基本参数</h4><p>打开 <code>scaffolds/post.md</code> 增加类别和描述，修改默认布局的参数：</p>\n<figure class=\"highlight markdown\"><figcaption><span>post.md</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">---</div><div class=\"line\">title: #标题</div><div class=\"line\">date: #日期时间</div><div class=\"line\">tags: #标签</div><div class=\"line\">categories: #分类</div><div class=\"line\">comments: #是否允许评论 true 或 false</div><div class=\"line\">toc: #是否添加文章目录 true 或 false</div><div class=\"line\">thumbnail: #侧边栏封面图</div><div class=\"line\"><span class=\"section\">banner: #文章顶部封面图</span></div><div class=\"line\">---</div></pre></td></tr></table></figure>\n<p>在新建一篇文章，你就能看到新建的文章已经新增了这些参数，不用每次自己手打，不需要的值就可以空着。</p>\n<h4 id=\"代码高亮并为代码块添加标题\"><a href=\"#代码高亮并为代码块添加标题\" class=\"headerlink\" title=\"代码高亮并为代码块添加标题\"></a>代码高亮并为代码块添加标题</h4><p>Markdown中插入代码，是通过添加三个反引号（`）或三个波浪号（~）来实现的。如下示例</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">code here</div></pre></td></tr></table></figure>\n<p>像大多数的markdown, 如github的markdown都是这种写法。这种写法在[language]后面不能加其它参数，否则会输出不正常。</p>\n<p>Hexo自带高亮：<a href=\"https://hexo.io/docs/tag-plugins.html#Code-Block\" target=\"_blank\" rel=\"external\">Code Block</a></p>\n<p>使用格式如下：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;% codeblock [title] [lang:language] [url] [link text] %&#125;</div><div class=\"line\">code snippet</div><div class=\"line\">&#123;% endcodeblock %&#125;</div></pre></td></tr></table></figure>\n<p>注意：如果使用静态的代码高亮，则必须关闭hexo自带高亮，关闭之后，如果以前的.md源文件使用的是hexo第二种插入代码的方式，则会导致<code>hexo-renderer-marked</code>渲染异常。</p>\n<h4 id=\"关于-Markdown-语法格式\"><a href=\"#关于-Markdown-语法格式\" class=\"headerlink\" title=\"关于 Markdown 语法格式\"></a>关于 Markdown 语法格式</h4><p>尽量使用规范的 Markdown 语法格式<br>参考：<a href=\"http://www.cirosantilli.com/markdown-style-guide/#code\" target=\"_blank\" rel=\"external\">http://www.cirosantilli.com/markdown-style-guide/#code</a></p>\n","excerpt":"<p>使用Hexo的常用命令和一些格式上的小技巧。</p>","more":"<h4 id=\"基本命令\"><a href=\"#基本命令\" class=\"headerlink\" title=\"基本命令\"></a>基本命令</h4><ol>\n<li><p><code>$ hexo new [layout] &lt;title&gt;</code> 创建一篇新文章。其中<code>layout</code>是可选参数，默认值是<code>post</code>。Hexo提供的<code>layout</code>在<code>scaffolds</code>目录下，也可以在此目录下自建<code>layout</code>文件。新建的文件则会保存到 <code>source/_post</code>目录下。你也可以更改默认布局的参数，如post布局，你需要打开 <code>scaffolds/post.md</code>，增加类别和描述。再新建一篇文章就能看到增加了文章参数。</p>\n</li>\n<li><p><code>$ hexo generate</code> 也可简写为<code>$ hexo g</code> 在部署前需要通过该命令把所有的文章做静态化处理，生成相应的html、javascript、css。</p>\n</li>\n<li><p><code>$ hexo deploy</code>也可简写为$ <code>hexo d</code> 负责生成静态文件后的发布。在发布到你的服务器之前要先配置好deploy指令，在全局配置文件(<code>_config.yml</code>)中找到deploy，并修改属性值。</p>\n</li>\n</ol>\n<h4 id=\"在文章中加入图片\"><a href=\"#在文章中加入图片\" class=\"headerlink\" title=\"在文章中加入图片\"></a>在文章中加入图片</h4><p>要在文章中插入图片，有两个选择，一是使用图床，二是将图片与网页文件一起部署。两种方法各有利弊，如果打算部署到GitHub或GitCafe上，个人推荐使用图床。如果是部署到七牛上，则直接使用部署方式。</p>\n<h4 id=\"不在主页显示全部文章内容\"><a href=\"#不在主页显示全部文章内容\" class=\"headerlink\" title=\"不在主页显示全部文章内容\"></a>不在主页显示全部文章内容</h4><p>我们在编辑内容时，在合适的地方添加一行代码：<code>&lt;!-- more --&gt;</code>，在它之上是摘要，是在主页会显示的文字部分。在它之下是余下全文，在主页中会多一个阅读全文的按钮，点击后才会看到全部内容。</p>\n<h4 id=\"文章基本参数\"><a href=\"#文章基本参数\" class=\"headerlink\" title=\"文章基本参数\"></a>文章基本参数</h4><p>打开 <code>scaffolds/post.md</code> 增加类别和描述，修改默认布局的参数：</p>\n<figure class=\"highlight markdown\"><figcaption><span>post.md</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">---</div><div class=\"line\">title: #标题</div><div class=\"line\">date: #日期时间</div><div class=\"line\">tags: #标签</div><div class=\"line\">categories: #分类</div><div class=\"line\">comments: #是否允许评论 true 或 false</div><div class=\"line\">toc: #是否添加文章目录 true 或 false</div><div class=\"line\">thumbnail: #侧边栏封面图</div><div class=\"line\"><span class=\"section\">banner: #文章顶部封面图</div><div class=\"line\">---</span></div></pre></td></tr></table></figure>\n<p>在新建一篇文章，你就能看到新建的文章已经新增了这些参数，不用每次自己手打，不需要的值就可以空着。</p>\n<h4 id=\"代码高亮并为代码块添加标题\"><a href=\"#代码高亮并为代码块添加标题\" class=\"headerlink\" title=\"代码高亮并为代码块添加标题\"></a>代码高亮并为代码块添加标题</h4><p>Markdown中插入代码，是通过添加三个反引号（`）或三个波浪号（~）来实现的。如下示例</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">code here</div></pre></td></tr></table></figure>\n<p>像大多数的markdown, 如github的markdown都是这种写法。这种写法在[language]后面不能加其它参数，否则会输出不正常。</p>\n<p>Hexo自带高亮：<a href=\"https://hexo.io/docs/tag-plugins.html#Code-Block\">Code Block</a></p>\n<p>使用格式如下：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;% codeblock [title] [lang:language] [url] [link text] %&#125;</div><div class=\"line\">code snippet</div><div class=\"line\">&#123;% endcodeblock %&#125;</div></pre></td></tr></table></figure>\n<p>注意：如果使用静态的代码高亮，则必须关闭hexo自带高亮，关闭之后，如果以前的.md源文件使用的是hexo第二种插入代码的方式，则会导致<code>hexo-renderer-marked</code>渲染异常。</p>\n<h4 id=\"关于-Markdown-语法格式\"><a href=\"#关于-Markdown-语法格式\" class=\"headerlink\" title=\"关于 Markdown 语法格式\"></a>关于 Markdown 语法格式</h4><p>尽量使用规范的 Markdown 语法格式<br>参考：<a href=\"http://www.cirosantilli.com/markdown-style-guide/#code\">http://www.cirosantilli.com/markdown-style-guide/#code</a></p>"},{"title":"Hexo Icarus Theme Settings|Icarus主题设置","date":"2017-03-10T15:34:33.000Z","comments":1,"toc":true,"thumbnail":null,"banner":null,"_content":"\n关于Hexo Icarus主题配置的详细介绍，和相关的一些小技巧。\n<!--more -->\n\n## 前言\n\n此篇不介绍HEXO的搭建，只讲ICARUS的个性化配置，HEXO的配置在国内也有很多的教程。\n教程参考了[这里：作者MoRan_Sky](http://moransky.xyz/2017/01/13/HEXO%20-%20Icarus%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/), [这里：作者Lemon](http://lemon23.me/2016/10/21/Hexo%E7%9A%84%E8%BF%87%E5%9D%91%E8%AE%B0/)和[这里：作者Fengyu](http://qiufengyu.me/2016/10/14/theme-custom/)。\n\n发布者已经把基本的配置步骤写在了wiki里，还包括FQA，如果有什么解决不了的问题也可以到[Icarus GitHub Wiki](https://github.com/ppoffice/hexo-theme-icarus/wiki)去提问，或看有没有和你同样问题的回答。\n\n\n## ICARUS主题\n\n### 什么是ICARUS\n\n- 一种很清爽的HEXO主题\n- 安装了评论，分享框架，非常之方便\n\n### ICARUS安装\n\nICARUS主题包可以在[这里](https://github.com/ppoffice/hexo-theme-icarus)找到，但更多人是采用GIT来下载的，切换到HEXO根目录,然后打入：\n\n```zsh\ngit clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n```\n\n下载之后将根目录里的\n\n```yml\ntheme: 你之前的主题\n```\n\n改成：\n\n```yml\ntheme: icarus\n```\n\n接下来可以输入`hexo s`来在本机生成，然后在 https://localhost:4000 打开博客主页。\n\n## 主题设置\n### 自带可更改项目\n\n#### LOGO配置\n\n在博客页面的左上角，有一个LOGO，因为我们没有更改，所有这是作者的LOGO。\n\n先确定你的LOGO图片的后缀是.png，然后把你的LOGO图片重命名为logo.png，然后在你主题文件中的css/images/文件夹，将这张图片粘贴来替换之前的图片。\n\n#### 用户信息配置\n\n在主页的左边，这里显示的是博客作者的信息。\n\n打开主题的_config文件，找到profile一栏，你可以自定义你的profile信息。\n\n```yml _config.yml\nprofile:\n    enabled: true #是否显示博客作者信息在左侧\n    avatar: css/images/avatar.png #博客作者的头像，可以到相应的路径去替换\n    gravatar: #如果这里写入邮箱的话，头像会重新加载\n    author: PPOffice #作者名\n    author_title: Web Developer & Designer #一句话描述自己\n    location: Harbin, China #位置\n    follow: https://github.com/ppoffice/ #关注我按钮点击去到的网址\n```\n\n如果想把`FOLLOW`按钮稍作修改，变成`联系我`，并且把链接变成发送邮件到自己的邮箱的话：\n\n```yml\n    follow: mailto:wulala@123.com #效果是直接到发送邮件的界面，把languages/zh_CN.yml中的follow信息改成了联系我\n```\n#### 标签，分类和关于\n\n在最上方的菜单栏，我们点击”标签”，”分类”，”关于”都会显示无法找到文件，ICARUS主题很好，它为我们预设了这三个分类。\n\n在主题的`_source`文件里，把里头的三个文件全部复制，然后粘贴到HEXO跟目录的source文件夹，再刷新一下网页，就可以看见啦。\n\n#### 代码高亮\n\nICARUS主题预设了许多代码高亮的主题，具体的名称可以在主题目录的`source/css/_highlight`文件夹里找到。\n把主题的`_config`文件里的highlight类型换成你喜欢的类型。\n\n关于选择代码高亮语言的问题，请看[这里](http://www.tuicool.com/articles/aamiimI)。\n\n#### 搜索\n\nICARUS主题提供了3种搜索方式，个人喜欢insight，当然你也可以选择baidu或者swiftype。\n\n使用insight的话先把博客根目录下面的`_config.yml`里面的\n\n```yml\nsearch:\n    insight: false\n```\n改成\n\n```yml\nsearch:\n    insight: true\n```\n接下来需要安装一个小插件：\n\n```zsh\nnpm install hexo-generator-json-content --save\n```\n接下来可以刷新一下网页，点击右上角的搜索框，就会发现已经成功配置了。\n\n#### 删除搜索按钮\n\n如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的`layout/search/index.ejs`，将里面的:\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <button type=\"submit\" class=\"search-form-submit\"></button>\n</form>\n```\n改成：\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <!--button type=\"submit\" class=\"search-form-submit\"></button-->\n</form>\n```\n之后你就会发现那个搜索按钮没了。\n\n#### 多说评论\n\n评论是个很重要的东西，这可以让你和读者进行沟通。\n\n如果需要开启评论功能，需要先去相应的地方注册账号，然后按照提示把ID或名字添加上。点击[这里](https://github.com/ppoffice/hexo-theme-icarus/wiki/Comment) 跟着做就对了。剩下一些评论框自定义的样式就自行百度，或注册后在网站内进行更改设置就好了。\n\n多说：在多说官网先创建一个账号，然后再[这里](http://duoshuo.com/create-site/)创建一个站点，站点地址写博客的地址，在多说域名那里按照要求填入，填入的名称（也就是去掉.duoshuo.com）就是多说的shortname。\n\nICARUS已经为你写好了评论的框架，你不需要自己搭建，你只需要把主题的_config文件中的comment改成这样：\n\n```yml\ncomment:\n    disqus: #写入你的disqus shortname, if have\n    duoshuo: #写入你的多说shortname, if have\n    youyan: #写入你的友言shortname, if have\n```\n之后刷新页面，拉到下面，就会看到评论的界面啦。你可以前往你自己的多说域名然后自定义评论。\n对于想使用Disqus的用户，去Disqus官网新建个账户。Create a new forum， 然后按照官方指南把自己的forum integrate到博客来。现在对于Hexo平台还没有integrate好的选项，没关系，等到你选择自己的forum名字的时候记住那个shortname，到icarus主题里的`_config`文件里填上就好了。主题会帮你做好所有的integrate。\n\n#### 分享\n\n在本地使用bdshare，jiathis都是可以的，但在Github上神奇的消失了。我也试过bshare，dsshare，但还是神奇的消失了，读者可以自己的试一下。如果你也用Github Page，建议把主题的`_config`文件中的share改成:\n\n```\nshare: addtoany\n```\n\n#### 友情链接\n\nICARUS自带友情链接功能，在主题的`_config`中的miscellaneous里：\n\n```yml\nlinks:\n    显示名: 链接\n```\n比如：\n\n```yml\nlinks:\n    GitHub: http://github.com\n    MCBBS: http://mcbbs.net\n```\n\n### 个性化修改\n#### 删除搜索按钮\n\n如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的`layout/search/index.ejs`，将里面的:\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <button type=\"submit\" class=\"search-form-submit\"></button>\n</form>\n```\n改成：\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <!--button type=\"submit\" class=\"search-form-submit\"></button-->\n</form>\n```\n之后你就会发现那个搜索按钮没了。\n\n#### 把文章界面放宽\n\n在ICARUS主题里，如果你把屏幕放的宽一点，真正的文章就只有中间一小条，我们需要稍微把文章DIV放宽一点。\n\n把主题的`source/css/_variables.styl`文件打开，翻到43行左右，把：\n\n```\nmain-column = 7\n```\n改成\n\n```\nmain-column = 10 //或者也可以改成9，着看个人喜好，我觉得10正好合适\n```\n\n#### 设置友情链接为打开新页面\n\n之前的友情链接会在自身的博客覆盖，如果想要在新窗口打开（比较推荐这样）。\n\n把主题文件的`layout/widget/links.ejs`打开，把：\n\n```ejs\n<li>\n     <a href=\"<%- theme.miscellaneous.links[i] %>\"><%= i %></a>\n</li>\n```\n改成\n\n```ejs\n<li>\n     <a href=\"<%- theme.miscellaneous.links[i] %>\" target=\"_blank\"><%= i %></a>\n</li>\n```\n\n#### 社会链接\n\n在关注我按钮的下面的下面，有一排图标，这就是社会链接，也就是你在别的地方的首页。它是fa fa-icon，ICARUS自带FontAwesome，所有你再安装的时候只要写入class名就可以。详细的图标内容可以在[这里](http://www.yeahzan.com/fa/facss.html)找到。\n\n格式：`fa-后面的内容，图标: 链接`\n\n打开主题的`_config`文件：\n\n```yml\nsocial_links:\n    github: #你的Github首页\n    envelope: #你的邮箱\n    user: #博客主页\n    reorder: #博客分类页面\n    sort-amount-asc: #博客历程页面\n```\n在这里，我们只需要输入fa-后面的内容当图标就行了。\n\n#### 自定义社会链接title\n\n在社会链接的图标上停留的时候，会弹出图标名的title，但有时候我们想自定义title，怎么办呢？\n\n打开主题文件中的`layout/common/profile.ejs`文件，把：\n\n```ejs\n<a href=\"<%- url_for(theme.customize.social_links[i]) %>\"   target=\"_blank\" title=\"<%= i %>\" <%= tooltipClass %>>\n    <i class=\"fa fa-<%= i %>\"></i>\n</a>\n```\n\n改成：\n\n```ejs\n<a href=\"<%- url_for(theme.customize.social_links[i].link) %>\" target=\"_blank\" title=\"<%= theme.customize.social_links[i].title %>\" <%= tooltipClass %>>\n    <i class=\"fa fa-<%= i %>\"></i>\n</a>\n```\n那么我们在config里的social_links的表达内容就是：\n\n```yml\n图标名: \n    link: 链接\n    title: 鼠标选中的文本\n```\n\n#### 横幅和略缩图\n\n在HEXO的根目录source/_posts文件夹，里面有你的文章，ICARUS允许你为文字设置横幅与略缩图，切记都要在两个—之间输入。\n略缩图的设置方式：`thumbnail：图片`\n\n横幅的设置方式：`banner：图片`\n\n#### 修改代码的的边距\n\n修改之前的代码块长这样：\n\n<img src=\"14892366823423.jpg\" class=\"img-shadow\" />\n\n这个代码块的边距个人觉得有点大了。尤其对于只有一两行的代码，很占空间。\n从哪里能改呢？先从主体的CSS文件看起：`~/hexo_blog/themes/icarus/source/css/style.styl`\n里面与code有关的有两个地方，改了在第30行附近的设置，发现并没有什么变化。再往下看，发现这个另外一个文件被调用了 `@import \"_highlight/index\"`，于是我们去`~/hexo_blog/themes/icarus/source/css/——highlight/index.styl`看看：\n\n```styl index.styl\n.highlight\n    margin: 0px\n    display: block\n    overflow-x: auto\n    padding: 15px 20px\n    font-size: font-size\n    font-family: font-mono\n    line-height: font-size * line-height\n    table\n        margin: 0\n        width: auto\n        td\n            border: none\n        td.code\n            padding-right: 20px\n    .gutter\n        pre\n            color: #666\n            text-align: right\n            padding-right: 20px\n```\n我把`padding`相关的参数改成10px\n\n#### 给图片加阴影\n有时候添加的图片可能会与文章背景混淆，使得读者看不清到底哪部分是图片哪部分是文章。使用`img-shadow`为图片添加边角阴影可以更加凸显图片的位置，也能更美观。\n在`article.styl`里面加入以下：\n\n```styl\n.img-shadow\n  box-shadow: 3px 2px 3px #ddd;\n```\n关于CSS3 shadow属性的参数具体可以参考[W3School的Tutorial](https://www.w3schools.com/css/css3_shadows.asp)\n\n使用HTML语法插入图片:\n\n```html\n<img src=\"http://test.jpg\" class=\"img-shadow\" />\n\n```\n\n\n#### 修改引用的渲染格式\n改动之前的是这样的：\n<img src=\"14892373341062.jpg\" class=\"img-shadow\" />\n\n\n个人不是很喜欢这种模式。不简洁，也占空间。\n同样从从主体的CSS文件看起：`~/hexo_blog/themes/icarus/source/css/style.styl`，发现调用了`@import \"_partial/article\"`。打开它发现对blockquote的设置如下：\n\n```style article.styl\n    blockquote\n        position: static\n        font-family: font-serif\n        font-size: 1.1em\n        margin: 0 -20px\n        padding: 10px 20px 10px 54px\n        background: #fcfcfc\n        border-left: 4px solid #eee\n        &:before\n            top: 20px\n            left: 10px\n            content: \"\\f10d\"\n            color: #e2e2e2\n            font-size: 32px;\n            font-family: FontAwesome\n            text-align: center\n            position: static\n        footer\n            font-size: font-size\n            margin: line-height 0\n            font-family: font-sans\n            cite\n                &:before\n                    content: \"—\"\n                    padding: 0 0.5em\n```\n我把它改为下面这样\n\n```styl\n    blockquote\n        position: static\n        font-family: font-sans\n        font-size: 1em\n        margin: 0 0 1.3em 0\n        padding: 6px\n        background: #fcfcfc\n        border-left: 5px solid #ef9024\n        border-top: 1px solid $grey-light\n        border-bottom: 1px solid $grey-light\n        border-right: 1px solid $grey-light\n        cite::before {\n            content: \"-\";\n            padding: 0 5px;\n        }\n    blockquote p {\n        margin: 5px; }\n```\n\n> testing blockquote\n\n#### 在Post页面关闭侧边栏\n点进去文章的时候觉得侧边栏(分类，标签...)让人觉得有点多余，不能专心看文。就想找方法把它设置为只在首页显示而不在文章页面显示。\n\n打开`~/hexo_blog/themes/icarus/layout/layout.ejs`会找到下面一行代码\n\n```ejs layout.ejs\n<% if (theme.custom.sidebar) { %>\n    <%- partial('common/sidebar', null, {cache: !config.relative_link}) %>\n<% } %>\n```\n`theme.custom.sidebar` 指的是主题`_config.yml`里面的参数。我们可以对应的找到`custom`下面的`sidebar`。发现它只有`left`, `right`两个设置。\n\n没关系，那我们就自己加个参数在`_config.yml`里面吧：\n\n```yml _config.yml\n# Added by Yingchi\npost_sidebar: false  #display sidebar in post page if true\nhome_sidebar: true #display sidebar in home page if true\n```\n现在在回到`layout.ejs`把之前的三行改成下面这样的：\n\n```ejs layout.ejs\n<% if (is_home() && theme.home_sidebar) { %>\n    <%- partial('common/sidebar', null, {cache: !config.relative_link}) %>\n<% } %>\n<% if (is_post() && theme.post_sidebar) { %>\n    <%- partial('common/sidebar', null, {cache: !config.relative_link}) %>\n<% } %>\n```\n> `is_post()`, `is_home()` 是hexo自带的函数\n\nWait, 以为现在就万事大吉了么，事情并没有这么简单。。你会发现文章的宽度并不会自动调整。打开JavaScript Console会发现文章所在元素是`<section id=\"main\">`，我们现在就去主题的文件里找对它的设置。\n找到文件`~/hexo_blog/themes/icarus/source/css/style.styl`\n\n```styl style.styl\n#main\n    @media mq-normal\n        column(main-column)\n    @media mq-tablet\n        if sidebar\n            column(main-column-tablet)\n        else\n            width: 100%\n```\n改成下面这样：\n\n```styl style.styl\n#main\n    @media mq-normal\n        column(main-column)\n    @media mq-tablet\n        if is_home() and home_sidebar\n            column(main-column-tablet)\n        if is_post() and post_sidebar\n            column(main-column-tablet)\n        else\n            width: 100%\n```\n> `@media xxx`, `side_bar` etc 都是在别处(`_variables.styl`)定义好的变量\n\n接下来打开 `~/hexo_blog/themes/icarus/source/css/_variables.styl`\n在`//Sidebar`这个部分加入我们在上面用到的变量：\n\n```styl _variables.styl\n// Sidebar\nsidebar = hexo-config(\"customize.sidebar\")\nthumbnail-default-small = 'images/thumb-default-small.png'\nhome_sidebar = hexo-config(\"home_sidebar\")\npost_sidebar = hexo-config(\"post_sidebar\")\n```\n\n#### 更多\n如果还想自定义CSS的话，主题样式文件都在`themes/icarus/source/css/_partial`里，对照着页面文件找到对应的class样式去修改吧。\n\n比如我这里发现在页面宽度是。。。的时候，两栏的效果并不是很理想。\n<img src=\"14891972108134.jpg\" class=\"img-shadow\" />\n\n时候可以在测试页面按`cmd+opt+j`调出Javascript console查看元素。会发现它是从根目录下`public/css/style.css`而来，但是我们直接改这里的话是没有用的。因为所有`public`文件夹下都是由`hexo g`生成的。\n\n所以这里要更改我们所用主题的css生成文件。例如我的在这个路径下`~/hexo_blog/themes/icarus/source/css`\n\n桑心的是，我试图修改了`_variables.styl`里面的sidebar-column之类，然后运行\n\n```bash\n$ hexo clean\nINFO  Deleted database.\nINFO  Deleted public folder.\n$ hexo g\n$ hexo s\n```\n发现并没有什么*用。。。 新手小白在这里欢迎指教啊~\n\n\n","source":"_posts/hexo-icarus-settings.md","raw":"---\ntitle: Hexo Icarus Theme Settings|Icarus主题设置\ndate: 2017-03-10 23:34:33\ntags: hexo\ncategories: Hexo\ncomments:\ntoc: true\nthumbnail:\nbanner:\n---\n\n关于Hexo Icarus主题配置的详细介绍，和相关的一些小技巧。\n<!--more -->\n\n## 前言\n\n此篇不介绍HEXO的搭建，只讲ICARUS的个性化配置，HEXO的配置在国内也有很多的教程。\n教程参考了[这里：作者MoRan_Sky](http://moransky.xyz/2017/01/13/HEXO%20-%20Icarus%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/), [这里：作者Lemon](http://lemon23.me/2016/10/21/Hexo%E7%9A%84%E8%BF%87%E5%9D%91%E8%AE%B0/)和[这里：作者Fengyu](http://qiufengyu.me/2016/10/14/theme-custom/)。\n\n发布者已经把基本的配置步骤写在了wiki里，还包括FQA，如果有什么解决不了的问题也可以到[Icarus GitHub Wiki](https://github.com/ppoffice/hexo-theme-icarus/wiki)去提问，或看有没有和你同样问题的回答。\n\n\n## ICARUS主题\n\n### 什么是ICARUS\n\n- 一种很清爽的HEXO主题\n- 安装了评论，分享框架，非常之方便\n\n### ICARUS安装\n\nICARUS主题包可以在[这里](https://github.com/ppoffice/hexo-theme-icarus)找到，但更多人是采用GIT来下载的，切换到HEXO根目录,然后打入：\n\n```zsh\ngit clone https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus\n```\n\n下载之后将根目录里的\n\n```yml\ntheme: 你之前的主题\n```\n\n改成：\n\n```yml\ntheme: icarus\n```\n\n接下来可以输入`hexo s`来在本机生成，然后在 https://localhost:4000 打开博客主页。\n\n## 主题设置\n### 自带可更改项目\n\n#### LOGO配置\n\n在博客页面的左上角，有一个LOGO，因为我们没有更改，所有这是作者的LOGO。\n\n先确定你的LOGO图片的后缀是.png，然后把你的LOGO图片重命名为logo.png，然后在你主题文件中的css/images/文件夹，将这张图片粘贴来替换之前的图片。\n\n#### 用户信息配置\n\n在主页的左边，这里显示的是博客作者的信息。\n\n打开主题的_config文件，找到profile一栏，你可以自定义你的profile信息。\n\n```yml _config.yml\nprofile:\n    enabled: true #是否显示博客作者信息在左侧\n    avatar: css/images/avatar.png #博客作者的头像，可以到相应的路径去替换\n    gravatar: #如果这里写入邮箱的话，头像会重新加载\n    author: PPOffice #作者名\n    author_title: Web Developer & Designer #一句话描述自己\n    location: Harbin, China #位置\n    follow: https://github.com/ppoffice/ #关注我按钮点击去到的网址\n```\n\n如果想把`FOLLOW`按钮稍作修改，变成`联系我`，并且把链接变成发送邮件到自己的邮箱的话：\n\n```yml\n    follow: mailto:wulala@123.com #效果是直接到发送邮件的界面，把languages/zh_CN.yml中的follow信息改成了联系我\n```\n#### 标签，分类和关于\n\n在最上方的菜单栏，我们点击”标签”，”分类”，”关于”都会显示无法找到文件，ICARUS主题很好，它为我们预设了这三个分类。\n\n在主题的`_source`文件里，把里头的三个文件全部复制，然后粘贴到HEXO跟目录的source文件夹，再刷新一下网页，就可以看见啦。\n\n#### 代码高亮\n\nICARUS主题预设了许多代码高亮的主题，具体的名称可以在主题目录的`source/css/_highlight`文件夹里找到。\n把主题的`_config`文件里的highlight类型换成你喜欢的类型。\n\n关于选择代码高亮语言的问题，请看[这里](http://www.tuicool.com/articles/aamiimI)。\n\n#### 搜索\n\nICARUS主题提供了3种搜索方式，个人喜欢insight，当然你也可以选择baidu或者swiftype。\n\n使用insight的话先把博客根目录下面的`_config.yml`里面的\n\n```yml\nsearch:\n    insight: false\n```\n改成\n\n```yml\nsearch:\n    insight: true\n```\n接下来需要安装一个小插件：\n\n```zsh\nnpm install hexo-generator-json-content --save\n```\n接下来可以刷新一下网页，点击右上角的搜索框，就会发现已经成功配置了。\n\n#### 删除搜索按钮\n\n如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的`layout/search/index.ejs`，将里面的:\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <button type=\"submit\" class=\"search-form-submit\"></button>\n</form>\n```\n改成：\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <!--button type=\"submit\" class=\"search-form-submit\"></button-->\n</form>\n```\n之后你就会发现那个搜索按钮没了。\n\n#### 多说评论\n\n评论是个很重要的东西，这可以让你和读者进行沟通。\n\n如果需要开启评论功能，需要先去相应的地方注册账号，然后按照提示把ID或名字添加上。点击[这里](https://github.com/ppoffice/hexo-theme-icarus/wiki/Comment) 跟着做就对了。剩下一些评论框自定义的样式就自行百度，或注册后在网站内进行更改设置就好了。\n\n多说：在多说官网先创建一个账号，然后再[这里](http://duoshuo.com/create-site/)创建一个站点，站点地址写博客的地址，在多说域名那里按照要求填入，填入的名称（也就是去掉.duoshuo.com）就是多说的shortname。\n\nICARUS已经为你写好了评论的框架，你不需要自己搭建，你只需要把主题的_config文件中的comment改成这样：\n\n```yml\ncomment:\n    disqus: #写入你的disqus shortname, if have\n    duoshuo: #写入你的多说shortname, if have\n    youyan: #写入你的友言shortname, if have\n```\n之后刷新页面，拉到下面，就会看到评论的界面啦。你可以前往你自己的多说域名然后自定义评论。\n对于想使用Disqus的用户，去Disqus官网新建个账户。Create a new forum， 然后按照官方指南把自己的forum integrate到博客来。现在对于Hexo平台还没有integrate好的选项，没关系，等到你选择自己的forum名字的时候记住那个shortname，到icarus主题里的`_config`文件里填上就好了。主题会帮你做好所有的integrate。\n\n#### 分享\n\n在本地使用bdshare，jiathis都是可以的，但在Github上神奇的消失了。我也试过bshare，dsshare，但还是神奇的消失了，读者可以自己的试一下。如果你也用Github Page，建议把主题的`_config`文件中的share改成:\n\n```\nshare: addtoany\n```\n\n#### 友情链接\n\nICARUS自带友情链接功能，在主题的`_config`中的miscellaneous里：\n\n```yml\nlinks:\n    显示名: 链接\n```\n比如：\n\n```yml\nlinks:\n    GitHub: http://github.com\n    MCBBS: http://mcbbs.net\n```\n\n### 个性化修改\n#### 删除搜索按钮\n\n如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的`layout/search/index.ejs`，将里面的:\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <button type=\"submit\" class=\"search-form-submit\"></button>\n</form>\n```\n改成：\n\n```html\n<form class=\"search-form\">\n    <input type=\"text\" class=\"ins-search-input search-form-input\" placeholder=\"<%= __('index.search') %>\" />\n    <!--button type=\"submit\" class=\"search-form-submit\"></button-->\n</form>\n```\n之后你就会发现那个搜索按钮没了。\n\n#### 把文章界面放宽\n\n在ICARUS主题里，如果你把屏幕放的宽一点，真正的文章就只有中间一小条，我们需要稍微把文章DIV放宽一点。\n\n把主题的`source/css/_variables.styl`文件打开，翻到43行左右，把：\n\n```\nmain-column = 7\n```\n改成\n\n```\nmain-column = 10 //或者也可以改成9，着看个人喜好，我觉得10正好合适\n```\n\n#### 设置友情链接为打开新页面\n\n之前的友情链接会在自身的博客覆盖，如果想要在新窗口打开（比较推荐这样）。\n\n把主题文件的`layout/widget/links.ejs`打开，把：\n\n```ejs\n<li>\n     <a href=\"<%- theme.miscellaneous.links[i] %>\"><%= i %></a>\n</li>\n```\n改成\n\n```ejs\n<li>\n     <a href=\"<%- theme.miscellaneous.links[i] %>\" target=\"_blank\"><%= i %></a>\n</li>\n```\n\n#### 社会链接\n\n在关注我按钮的下面的下面，有一排图标，这就是社会链接，也就是你在别的地方的首页。它是fa fa-icon，ICARUS自带FontAwesome，所有你再安装的时候只要写入class名就可以。详细的图标内容可以在[这里](http://www.yeahzan.com/fa/facss.html)找到。\n\n格式：`fa-后面的内容，图标: 链接`\n\n打开主题的`_config`文件：\n\n```yml\nsocial_links:\n    github: #你的Github首页\n    envelope: #你的邮箱\n    user: #博客主页\n    reorder: #博客分类页面\n    sort-amount-asc: #博客历程页面\n```\n在这里，我们只需要输入fa-后面的内容当图标就行了。\n\n#### 自定义社会链接title\n\n在社会链接的图标上停留的时候，会弹出图标名的title，但有时候我们想自定义title，怎么办呢？\n\n打开主题文件中的`layout/common/profile.ejs`文件，把：\n\n```ejs\n<a href=\"<%- url_for(theme.customize.social_links[i]) %>\"   target=\"_blank\" title=\"<%= i %>\" <%= tooltipClass %>>\n    <i class=\"fa fa-<%= i %>\"></i>\n</a>\n```\n\n改成：\n\n```ejs\n<a href=\"<%- url_for(theme.customize.social_links[i].link) %>\" target=\"_blank\" title=\"<%= theme.customize.social_links[i].title %>\" <%= tooltipClass %>>\n    <i class=\"fa fa-<%= i %>\"></i>\n</a>\n```\n那么我们在config里的social_links的表达内容就是：\n\n```yml\n图标名: \n    link: 链接\n    title: 鼠标选中的文本\n```\n\n#### 横幅和略缩图\n\n在HEXO的根目录source/_posts文件夹，里面有你的文章，ICARUS允许你为文字设置横幅与略缩图，切记都要在两个—之间输入。\n略缩图的设置方式：`thumbnail：图片`\n\n横幅的设置方式：`banner：图片`\n\n#### 修改代码的的边距\n\n修改之前的代码块长这样：\n\n<img src=\"14892366823423.jpg\" class=\"img-shadow\" />\n\n这个代码块的边距个人觉得有点大了。尤其对于只有一两行的代码，很占空间。\n从哪里能改呢？先从主体的CSS文件看起：`~/hexo_blog/themes/icarus/source/css/style.styl`\n里面与code有关的有两个地方，改了在第30行附近的设置，发现并没有什么变化。再往下看，发现这个另外一个文件被调用了 `@import \"_highlight/index\"`，于是我们去`~/hexo_blog/themes/icarus/source/css/——highlight/index.styl`看看：\n\n```styl index.styl\n.highlight\n    margin: 0px\n    display: block\n    overflow-x: auto\n    padding: 15px 20px\n    font-size: font-size\n    font-family: font-mono\n    line-height: font-size * line-height\n    table\n        margin: 0\n        width: auto\n        td\n            border: none\n        td.code\n            padding-right: 20px\n    .gutter\n        pre\n            color: #666\n            text-align: right\n            padding-right: 20px\n```\n我把`padding`相关的参数改成10px\n\n#### 给图片加阴影\n有时候添加的图片可能会与文章背景混淆，使得读者看不清到底哪部分是图片哪部分是文章。使用`img-shadow`为图片添加边角阴影可以更加凸显图片的位置，也能更美观。\n在`article.styl`里面加入以下：\n\n```styl\n.img-shadow\n  box-shadow: 3px 2px 3px #ddd;\n```\n关于CSS3 shadow属性的参数具体可以参考[W3School的Tutorial](https://www.w3schools.com/css/css3_shadows.asp)\n\n使用HTML语法插入图片:\n\n```html\n<img src=\"http://test.jpg\" class=\"img-shadow\" />\n\n```\n\n\n#### 修改引用的渲染格式\n改动之前的是这样的：\n<img src=\"14892373341062.jpg\" class=\"img-shadow\" />\n\n\n个人不是很喜欢这种模式。不简洁，也占空间。\n同样从从主体的CSS文件看起：`~/hexo_blog/themes/icarus/source/css/style.styl`，发现调用了`@import \"_partial/article\"`。打开它发现对blockquote的设置如下：\n\n```style article.styl\n    blockquote\n        position: static\n        font-family: font-serif\n        font-size: 1.1em\n        margin: 0 -20px\n        padding: 10px 20px 10px 54px\n        background: #fcfcfc\n        border-left: 4px solid #eee\n        &:before\n            top: 20px\n            left: 10px\n            content: \"\\f10d\"\n            color: #e2e2e2\n            font-size: 32px;\n            font-family: FontAwesome\n            text-align: center\n            position: static\n        footer\n            font-size: font-size\n            margin: line-height 0\n            font-family: font-sans\n            cite\n                &:before\n                    content: \"—\"\n                    padding: 0 0.5em\n```\n我把它改为下面这样\n\n```styl\n    blockquote\n        position: static\n        font-family: font-sans\n        font-size: 1em\n        margin: 0 0 1.3em 0\n        padding: 6px\n        background: #fcfcfc\n        border-left: 5px solid #ef9024\n        border-top: 1px solid $grey-light\n        border-bottom: 1px solid $grey-light\n        border-right: 1px solid $grey-light\n        cite::before {\n            content: \"-\";\n            padding: 0 5px;\n        }\n    blockquote p {\n        margin: 5px; }\n```\n\n> testing blockquote\n\n#### 在Post页面关闭侧边栏\n点进去文章的时候觉得侧边栏(分类，标签...)让人觉得有点多余，不能专心看文。就想找方法把它设置为只在首页显示而不在文章页面显示。\n\n打开`~/hexo_blog/themes/icarus/layout/layout.ejs`会找到下面一行代码\n\n```ejs layout.ejs\n<% if (theme.custom.sidebar) { %>\n    <%- partial('common/sidebar', null, {cache: !config.relative_link}) %>\n<% } %>\n```\n`theme.custom.sidebar` 指的是主题`_config.yml`里面的参数。我们可以对应的找到`custom`下面的`sidebar`。发现它只有`left`, `right`两个设置。\n\n没关系，那我们就自己加个参数在`_config.yml`里面吧：\n\n```yml _config.yml\n# Added by Yingchi\npost_sidebar: false  #display sidebar in post page if true\nhome_sidebar: true #display sidebar in home page if true\n```\n现在在回到`layout.ejs`把之前的三行改成下面这样的：\n\n```ejs layout.ejs\n<% if (is_home() && theme.home_sidebar) { %>\n    <%- partial('common/sidebar', null, {cache: !config.relative_link}) %>\n<% } %>\n<% if (is_post() && theme.post_sidebar) { %>\n    <%- partial('common/sidebar', null, {cache: !config.relative_link}) %>\n<% } %>\n```\n> `is_post()`, `is_home()` 是hexo自带的函数\n\nWait, 以为现在就万事大吉了么，事情并没有这么简单。。你会发现文章的宽度并不会自动调整。打开JavaScript Console会发现文章所在元素是`<section id=\"main\">`，我们现在就去主题的文件里找对它的设置。\n找到文件`~/hexo_blog/themes/icarus/source/css/style.styl`\n\n```styl style.styl\n#main\n    @media mq-normal\n        column(main-column)\n    @media mq-tablet\n        if sidebar\n            column(main-column-tablet)\n        else\n            width: 100%\n```\n改成下面这样：\n\n```styl style.styl\n#main\n    @media mq-normal\n        column(main-column)\n    @media mq-tablet\n        if is_home() and home_sidebar\n            column(main-column-tablet)\n        if is_post() and post_sidebar\n            column(main-column-tablet)\n        else\n            width: 100%\n```\n> `@media xxx`, `side_bar` etc 都是在别处(`_variables.styl`)定义好的变量\n\n接下来打开 `~/hexo_blog/themes/icarus/source/css/_variables.styl`\n在`//Sidebar`这个部分加入我们在上面用到的变量：\n\n```styl _variables.styl\n// Sidebar\nsidebar = hexo-config(\"customize.sidebar\")\nthumbnail-default-small = 'images/thumb-default-small.png'\nhome_sidebar = hexo-config(\"home_sidebar\")\npost_sidebar = hexo-config(\"post_sidebar\")\n```\n\n#### 更多\n如果还想自定义CSS的话，主题样式文件都在`themes/icarus/source/css/_partial`里，对照着页面文件找到对应的class样式去修改吧。\n\n比如我这里发现在页面宽度是。。。的时候，两栏的效果并不是很理想。\n<img src=\"14891972108134.jpg\" class=\"img-shadow\" />\n\n时候可以在测试页面按`cmd+opt+j`调出Javascript console查看元素。会发现它是从根目录下`public/css/style.css`而来，但是我们直接改这里的话是没有用的。因为所有`public`文件夹下都是由`hexo g`生成的。\n\n所以这里要更改我们所用主题的css生成文件。例如我的在这个路径下`~/hexo_blog/themes/icarus/source/css`\n\n桑心的是，我试图修改了`_variables.styl`里面的sidebar-column之类，然后运行\n\n```bash\n$ hexo clean\nINFO  Deleted database.\nINFO  Deleted public folder.\n$ hexo g\n$ hexo s\n```\n发现并没有什么*用。。。 新手小白在这里欢迎指教啊~\n\n\n","slug":"hexo-icarus-settings","published":1,"updated":"2017-03-12T01:58:04.000Z","layout":"post","photos":[],"link":"","_id":"cj0dnkbia00088kkhdojdcfz1","content":"<p>关于Hexo Icarus主题配置的详细介绍，和相关的一些小技巧。<br><a id=\"more\"></a></p>\n<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>此篇不介绍HEXO的搭建，只讲ICARUS的个性化配置，HEXO的配置在国内也有很多的教程。<br>教程参考了<a href=\"http://moransky.xyz/2017/01/13/HEXO%20-%20Icarus%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/\" target=\"_blank\" rel=\"external\">这里：作者MoRan_Sky</a>, <a href=\"http://lemon23.me/2016/10/21/Hexo%E7%9A%84%E8%BF%87%E5%9D%91%E8%AE%B0/\" target=\"_blank\" rel=\"external\">这里：作者Lemon</a>和<a href=\"http://qiufengyu.me/2016/10/14/theme-custom/\" target=\"_blank\" rel=\"external\">这里：作者Fengyu</a>。</p>\n<p>发布者已经把基本的配置步骤写在了wiki里，还包括FQA，如果有什么解决不了的问题也可以到<a href=\"https://github.com/ppoffice/hexo-theme-icarus/wiki\" target=\"_blank\" rel=\"external\">Icarus GitHub Wiki</a>去提问，或看有没有和你同样问题的回答。</p>\n<h2 id=\"ICARUS主题\"><a href=\"#ICARUS主题\" class=\"headerlink\" title=\"ICARUS主题\"></a>ICARUS主题</h2><h3 id=\"什么是ICARUS\"><a href=\"#什么是ICARUS\" class=\"headerlink\" title=\"什么是ICARUS\"></a>什么是ICARUS</h3><ul>\n<li>一种很清爽的HEXO主题</li>\n<li>安装了评论，分享框架，非常之方便</li>\n</ul>\n<h3 id=\"ICARUS安装\"><a href=\"#ICARUS安装\" class=\"headerlink\" title=\"ICARUS安装\"></a>ICARUS安装</h3><p>ICARUS主题包可以在<a href=\"https://github.com/ppoffice/hexo-theme-icarus\" target=\"_blank\" rel=\"external\">这里</a>找到，但更多人是采用GIT来下载的，切换到HEXO根目录,然后打入：</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus</div></pre></td></tr></table></figure>\n<p>下载之后将根目录里的</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">你之前的主题</span></div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">icarus</span></div></pre></td></tr></table></figure>\n<p>接下来可以输入<code>hexo s</code>来在本机生成，然后在 <a href=\"https://localhost:4000\" target=\"_blank\" rel=\"external\">https://localhost:4000</a> 打开博客主页。</p>\n<h2 id=\"主题设置\"><a href=\"#主题设置\" class=\"headerlink\" title=\"主题设置\"></a>主题设置</h2><h3 id=\"自带可更改项目\"><a href=\"#自带可更改项目\" class=\"headerlink\" title=\"自带可更改项目\"></a>自带可更改项目</h3><h4 id=\"LOGO配置\"><a href=\"#LOGO配置\" class=\"headerlink\" title=\"LOGO配置\"></a>LOGO配置</h4><p>在博客页面的左上角，有一个LOGO，因为我们没有更改，所有这是作者的LOGO。</p>\n<p>先确定你的LOGO图片的后缀是.png，然后把你的LOGO图片重命名为logo.png，然后在你主题文件中的css/images/文件夹，将这张图片粘贴来替换之前的图片。</p>\n<h4 id=\"用户信息配置\"><a href=\"#用户信息配置\" class=\"headerlink\" title=\"用户信息配置\"></a>用户信息配置</h4><p>在主页的左边，这里显示的是博客作者的信息。</p>\n<p>打开主题的_config文件，找到profile一栏，你可以自定义你的profile信息。</p>\n<figure class=\"highlight yml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">profile:</span></div><div class=\"line\"><span class=\"attr\">    enabled:</span> <span class=\"literal\">true</span> <span class=\"comment\">#是否显示博客作者信息在左侧</span></div><div class=\"line\"><span class=\"attr\">    avatar:</span> <span class=\"string\">css/images/avatar.png</span> <span class=\"comment\">#博客作者的头像，可以到相应的路径去替换</span></div><div class=\"line\"><span class=\"attr\">    gravatar:</span> <span class=\"comment\">#如果这里写入邮箱的话，头像会重新加载</span></div><div class=\"line\"><span class=\"attr\">    author:</span> <span class=\"string\">PPOffice</span> <span class=\"comment\">#作者名</span></div><div class=\"line\"><span class=\"attr\">    author_title:</span> <span class=\"string\">Web</span> <span class=\"string\">Developer</span> <span class=\"string\">&amp;</span> <span class=\"string\">Designer</span> <span class=\"comment\">#一句话描述自己</span></div><div class=\"line\"><span class=\"attr\">    location:</span> <span class=\"string\">Harbin,</span> <span class=\"string\">China</span> <span class=\"comment\">#位置</span></div><div class=\"line\"><span class=\"attr\">    follow:</span> <span class=\"attr\">https://github.com/ppoffice/</span> <span class=\"comment\">#关注我按钮点击去到的网址</span></div></pre></td></tr></table></figure>\n<p>如果想把<code>FOLLOW</code>按钮稍作修改，变成<code>联系我</code>，并且把链接变成发送邮件到自己的邮箱的话：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">follow:</span> <span class=\"attr\">mailto:wulala@123.com</span> <span class=\"comment\">#效果是直接到发送邮件的界面，把languages/zh_CN.yml中的follow信息改成了联系我</span></div></pre></td></tr></table></figure>\n<h4 id=\"标签，分类和关于\"><a href=\"#标签，分类和关于\" class=\"headerlink\" title=\"标签，分类和关于\"></a>标签，分类和关于</h4><p>在最上方的菜单栏，我们点击”标签”，”分类”，”关于”都会显示无法找到文件，ICARUS主题很好，它为我们预设了这三个分类。</p>\n<p>在主题的<code>_source</code>文件里，把里头的三个文件全部复制，然后粘贴到HEXO跟目录的source文件夹，再刷新一下网页，就可以看见啦。</p>\n<h4 id=\"代码高亮\"><a href=\"#代码高亮\" class=\"headerlink\" title=\"代码高亮\"></a>代码高亮</h4><p>ICARUS主题预设了许多代码高亮的主题，具体的名称可以在主题目录的<code>source/css/_highlight</code>文件夹里找到。<br>把主题的<code>_config</code>文件里的highlight类型换成你喜欢的类型。</p>\n<p>关于选择代码高亮语言的问题，请看<a href=\"http://www.tuicool.com/articles/aamiimI\" target=\"_blank\" rel=\"external\">这里</a>。</p>\n<h4 id=\"搜索\"><a href=\"#搜索\" class=\"headerlink\" title=\"搜索\"></a>搜索</h4><p>ICARUS主题提供了3种搜索方式，个人喜欢insight，当然你也可以选择baidu或者swiftype。</p>\n<p>使用insight的话先把博客根目录下面的<code>_config.yml</code>里面的</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">search:</span></div><div class=\"line\"><span class=\"attr\">    insight:</span> <span class=\"literal\">false</span></div></pre></td></tr></table></figure>\n<p>改成</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">search:</span></div><div class=\"line\"><span class=\"attr\">    insight:</span> <span class=\"literal\">true</span></div></pre></td></tr></table></figure>\n<p>接下来需要安装一个小插件：</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo-generator-json-content --save</div></pre></td></tr></table></figure>\n<p>接下来可以刷新一下网页，点击右上角的搜索框，就会发现已经成功配置了。</p>\n<h4 id=\"删除搜索按钮\"><a href=\"#删除搜索按钮\" class=\"headerlink\" title=\"删除搜索按钮\"></a>删除搜索按钮</h4><p>如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的<code>layout/search/index.ejs</code>，将里面的:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form-submit\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"comment\">&lt;!--button type=\"submit\" class=\"search-form-submit\"&gt;&lt;/button--&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>之后你就会发现那个搜索按钮没了。</p>\n<h4 id=\"多说评论\"><a href=\"#多说评论\" class=\"headerlink\" title=\"多说评论\"></a>多说评论</h4><p>评论是个很重要的东西，这可以让你和读者进行沟通。</p>\n<p>如果需要开启评论功能，需要先去相应的地方注册账号，然后按照提示把ID或名字添加上。点击<a href=\"https://github.com/ppoffice/hexo-theme-icarus/wiki/Comment\" target=\"_blank\" rel=\"external\">这里</a> 跟着做就对了。剩下一些评论框自定义的样式就自行百度，或注册后在网站内进行更改设置就好了。</p>\n<p>多说：在多说官网先创建一个账号，然后再<a href=\"http://duoshuo.com/create-site/\" target=\"_blank\" rel=\"external\">这里</a>创建一个站点，站点地址写博客的地址，在多说域名那里按照要求填入，填入的名称（也就是去掉.duoshuo.com）就是多说的shortname。</p>\n<p>ICARUS已经为你写好了评论的框架，你不需要自己搭建，你只需要把主题的_config文件中的comment改成这样：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">comment:</span></div><div class=\"line\"><span class=\"attr\">    disqus:</span> <span class=\"comment\">#写入你的disqus shortname, if have</span></div><div class=\"line\"><span class=\"attr\">    duoshuo:</span> <span class=\"comment\">#写入你的多说shortname, if have</span></div><div class=\"line\"><span class=\"attr\">    youyan:</span> <span class=\"comment\">#写入你的友言shortname, if have</span></div></pre></td></tr></table></figure>\n<p>之后刷新页面，拉到下面，就会看到评论的界面啦。你可以前往你自己的多说域名然后自定义评论。<br>对于想使用Disqus的用户，去Disqus官网新建个账户。Create a new forum， 然后按照官方指南把自己的forum integrate到博客来。现在对于Hexo平台还没有integrate好的选项，没关系，等到你选择自己的forum名字的时候记住那个shortname，到icarus主题里的<code>_config</code>文件里填上就好了。主题会帮你做好所有的integrate。</p>\n<h4 id=\"分享\"><a href=\"#分享\" class=\"headerlink\" title=\"分享\"></a>分享</h4><p>在本地使用bdshare，jiathis都是可以的，但在Github上神奇的消失了。我也试过bshare，dsshare，但还是神奇的消失了，读者可以自己的试一下。如果你也用Github Page，建议把主题的<code>_config</code>文件中的share改成:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">share: addtoany</div></pre></td></tr></table></figure>\n<h4 id=\"友情链接\"><a href=\"#友情链接\" class=\"headerlink\" title=\"友情链接\"></a>友情链接</h4><p>ICARUS自带友情链接功能，在主题的<code>_config</code>中的miscellaneous里：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">links:</span></div><div class=\"line\">    <span class=\"string\">显示名:</span> <span class=\"string\">链接</span></div></pre></td></tr></table></figure>\n<p>比如：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">links:</span></div><div class=\"line\"><span class=\"attr\">    GitHub:</span> <span class=\"attr\">http://github.com</span></div><div class=\"line\"><span class=\"attr\">    MCBBS:</span> <span class=\"attr\">http://mcbbs.net</span></div></pre></td></tr></table></figure>\n<h3 id=\"个性化修改\"><a href=\"#个性化修改\" class=\"headerlink\" title=\"个性化修改\"></a>个性化修改</h3><h4 id=\"删除搜索按钮-1\"><a href=\"#删除搜索按钮-1\" class=\"headerlink\" title=\"删除搜索按钮\"></a>删除搜索按钮</h4><p>如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的<code>layout/search/index.ejs</code>，将里面的:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form-submit\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"comment\">&lt;!--button type=\"submit\" class=\"search-form-submit\"&gt;&lt;/button--&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>之后你就会发现那个搜索按钮没了。</p>\n<h4 id=\"把文章界面放宽\"><a href=\"#把文章界面放宽\" class=\"headerlink\" title=\"把文章界面放宽\"></a>把文章界面放宽</h4><p>在ICARUS主题里，如果你把屏幕放的宽一点，真正的文章就只有中间一小条，我们需要稍微把文章DIV放宽一点。</p>\n<p>把主题的<code>source/css/_variables.styl</code>文件打开，翻到43行左右，把：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">main-column = 7</div></pre></td></tr></table></figure>\n<p>改成</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">main-column = 10 //或者也可以改成9，着看个人喜好，我觉得10正好合适</div></pre></td></tr></table></figure>\n<h4 id=\"设置友情链接为打开新页面\"><a href=\"#设置友情链接为打开新页面\" class=\"headerlink\" title=\"设置友情链接为打开新页面\"></a>设置友情链接为打开新页面</h4><p>之前的友情链接会在自身的博客覆盖，如果想要在新窗口打开（比较推荐这样）。</p>\n<p>把主题文件的<code>layout/widget/links.ejs</code>打开，把：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;li&gt;</div><div class=\"line\">     &lt;a href=&quot;&lt;%- theme.miscellaneous.links[i] %&gt;&quot;&gt;&lt;%= i %&gt;&lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div></pre></td></tr></table></figure>\n<p>改成</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;li&gt;</div><div class=\"line\">     &lt;a href=&quot;&lt;%- theme.miscellaneous.links[i] %&gt;&quot; target=&quot;_blank&quot;&gt;&lt;%= i %&gt;&lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"社会链接\"><a href=\"#社会链接\" class=\"headerlink\" title=\"社会链接\"></a>社会链接</h4><p>在关注我按钮的下面的下面，有一排图标，这就是社会链接，也就是你在别的地方的首页。它是fa fa-icon，ICARUS自带FontAwesome，所有你再安装的时候只要写入class名就可以。详细的图标内容可以在<a href=\"http://www.yeahzan.com/fa/facss.html\" target=\"_blank\" rel=\"external\">这里</a>找到。</p>\n<p>格式：<code>fa-后面的内容，图标: 链接</code></p>\n<p>打开主题的<code>_config</code>文件：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">social_links:</span></div><div class=\"line\"><span class=\"attr\">    github:</span> <span class=\"comment\">#你的Github首页</span></div><div class=\"line\"><span class=\"attr\">    envelope:</span> <span class=\"comment\">#你的邮箱</span></div><div class=\"line\"><span class=\"attr\">    user:</span> <span class=\"comment\">#博客主页</span></div><div class=\"line\"><span class=\"attr\">    reorder:</span> <span class=\"comment\">#博客分类页面</span></div><div class=\"line\"><span class=\"attr\">    sort-amount-asc:</span> <span class=\"comment\">#博客历程页面</span></div></pre></td></tr></table></figure>\n<p>在这里，我们只需要输入fa-后面的内容当图标就行了。</p>\n<h4 id=\"自定义社会链接title\"><a href=\"#自定义社会链接title\" class=\"headerlink\" title=\"自定义社会链接title\"></a>自定义社会链接title</h4><p>在社会链接的图标上停留的时候，会弹出图标名的title，但有时候我们想自定义title，怎么办呢？</p>\n<p>打开主题文件中的<code>layout/common/profile.ejs</code>文件，把：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;a href=&quot;&lt;%- url_for(theme.customize.social_links[i]) %&gt;&quot;   target=&quot;_blank&quot; title=&quot;&lt;%= i %&gt;&quot; &lt;%= tooltipClass %&gt;&gt;</div><div class=\"line\">    &lt;i class=&quot;fa fa-&lt;%= i %&gt;&quot;&gt;&lt;/i&gt;</div><div class=\"line\">&lt;/a&gt;</div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;a href=&quot;&lt;%- url_for(theme.customize.social_links[i].link) %&gt;&quot; target=&quot;_blank&quot; title=&quot;&lt;%= theme.customize.social_links[i].title %&gt;&quot; &lt;%= tooltipClass %&gt;&gt;</div><div class=\"line\">    &lt;i class=&quot;fa fa-&lt;%= i %&gt;&quot;&gt;&lt;/i&gt;</div><div class=\"line\">&lt;/a&gt;</div></pre></td></tr></table></figure>\n<p>那么我们在config里的social_links的表达内容就是：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">图标名:</span> </div><div class=\"line\"><span class=\"attr\">    link:</span> <span class=\"string\">链接</span></div><div class=\"line\"><span class=\"attr\">    title:</span> <span class=\"string\">鼠标选中的文本</span></div></pre></td></tr></table></figure>\n<h4 id=\"横幅和略缩图\"><a href=\"#横幅和略缩图\" class=\"headerlink\" title=\"横幅和略缩图\"></a>横幅和略缩图</h4><p>在HEXO的根目录source/_posts文件夹，里面有你的文章，ICARUS允许你为文字设置横幅与略缩图，切记都要在两个—之间输入。<br>略缩图的设置方式：<code>thumbnail：图片</code></p>\n<p>横幅的设置方式：<code>banner：图片</code></p>\n<h4 id=\"修改代码的的边距\"><a href=\"#修改代码的的边距\" class=\"headerlink\" title=\"修改代码的的边距\"></a>修改代码的的边距</h4><p>修改之前的代码块长这样：</p>\n<p><img src=\"14892366823423.jpg\" class=\"img-shadow\"></p>\n<p>这个代码块的边距个人觉得有点大了。尤其对于只有一两行的代码，很占空间。<br>从哪里能改呢？先从主体的CSS文件看起：<code>~/hexo_blog/themes/icarus/source/css/style.styl</code><br>里面与code有关的有两个地方，改了在第30行附近的设置，发现并没有什么变化。再往下看，发现这个另外一个文件被调用了 <code>@import &quot;_highlight/index&quot;</code>，于是我们去<code>~/hexo_blog/themes/icarus/source/css/——highlight/index.styl</code>看看：</p>\n<figure class=\"highlight styl\"><figcaption><span>index.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.highlight</span></div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span></div><div class=\"line\">    <span class=\"attribute\">display</span>: block</div><div class=\"line\">    <span class=\"attribute\">overflow-x</span>: auto</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">15px</span> <span class=\"number\">20px</span></div><div class=\"line\">    <span class=\"attribute\">font-size</span>: font-size</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: font-mono</div><div class=\"line\">    <span class=\"attribute\">line-height</span>: font-size * line-height</div><div class=\"line\">    <span class=\"selector-tag\">table</span></div><div class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span></div><div class=\"line\">        <span class=\"attribute\">width</span>: auto</div><div class=\"line\">        <span class=\"selector-tag\">td</span></div><div class=\"line\">            <span class=\"attribute\">border</span>: none</div><div class=\"line\">        <span class=\"selector-tag\">td</span><span class=\"selector-class\">.code</span></div><div class=\"line\">            <span class=\"attribute\">padding-right</span>: <span class=\"number\">20px</span></div><div class=\"line\">    <span class=\"selector-class\">.gutter</span></div><div class=\"line\">        pre</div><div class=\"line\">            <span class=\"attribute\">color</span>: <span class=\"number\">#666</span></div><div class=\"line\">            <span class=\"attribute\">text-align</span>: right</div><div class=\"line\">            <span class=\"attribute\">padding-right</span>: <span class=\"number\">20px</span></div></pre></td></tr></table></figure>\n<p>我把<code>padding</code>相关的参数改成10px</p>\n<h4 id=\"给图片加阴影\"><a href=\"#给图片加阴影\" class=\"headerlink\" title=\"给图片加阴影\"></a>给图片加阴影</h4><p>有时候添加的图片可能会与文章背景混淆，使得读者看不清到底哪部分是图片哪部分是文章。使用<code>img-shadow</code>为图片添加边角阴影可以更加凸显图片的位置，也能更美观。<br>在<code>article.styl</code>里面加入以下：</p>\n<figure class=\"highlight styl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.img-shadow</span></div><div class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">3px</span> <span class=\"number\">2px</span> <span class=\"number\">3px</span> <span class=\"number\">#ddd</span>;</div></pre></td></tr></table></figure>\n<p>关于CSS3 shadow属性的参数具体可以参考<a href=\"https://www.w3schools.com/css/css3_shadows.asp\" target=\"_blank\" rel=\"external\">W3School的Tutorial</a></p>\n<p>使用HTML语法插入图片:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://test.jpg\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"img-shadow\"</span> /&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"修改引用的渲染格式\"><a href=\"#修改引用的渲染格式\" class=\"headerlink\" title=\"修改引用的渲染格式\"></a>修改引用的渲染格式</h4><p>改动之前的是这样的：<br><img src=\"14892373341062.jpg\" class=\"img-shadow\"></p>\n<p>个人不是很喜欢这种模式。不简洁，也占空间。<br>同样从从主体的CSS文件看起：<code>~/hexo_blog/themes/icarus/source/css/style.styl</code>，发现调用了<code>@import &quot;_partial/article&quot;</code>。打开它发现对blockquote的设置如下：</p>\n<figure class=\"highlight plain\"><figcaption><span>article.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">blockquote</div><div class=\"line\">    position: static</div><div class=\"line\">    font-family: font-serif</div><div class=\"line\">    font-size: 1.1em</div><div class=\"line\">    margin: 0 -20px</div><div class=\"line\">    padding: 10px 20px 10px 54px</div><div class=\"line\">    background: #fcfcfc</div><div class=\"line\">    border-left: 4px solid #eee</div><div class=\"line\">    &amp;:before</div><div class=\"line\">        top: 20px</div><div class=\"line\">        left: 10px</div><div class=\"line\">        content: &quot;\\f10d&quot;</div><div class=\"line\">        color: #e2e2e2</div><div class=\"line\">        font-size: 32px;</div><div class=\"line\">        font-family: FontAwesome</div><div class=\"line\">        text-align: center</div><div class=\"line\">        position: static</div><div class=\"line\">    footer</div><div class=\"line\">        font-size: font-size</div><div class=\"line\">        margin: line-height 0</div><div class=\"line\">        font-family: font-sans</div><div class=\"line\">        cite</div><div class=\"line\">            &amp;:before</div><div class=\"line\">                content: &quot;—&quot;</div><div class=\"line\">                padding: 0 0.5em</div></pre></td></tr></table></figure>\n<p>我把它改为下面这样</p>\n<figure class=\"highlight styl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">blockquote</span></div><div class=\"line\">    <span class=\"attribute\">position</span>: static</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: font-sans</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span></div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1.3em</span> <span class=\"number\">0</span></div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span></div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fcfcfc</span></div><div class=\"line\">    <span class=\"attribute\">border-left</span>: <span class=\"number\">5px</span> solid <span class=\"number\">#ef9024</span></div><div class=\"line\">    <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$grey</span>-light</div><div class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$grey</span>-light</div><div class=\"line\">    <span class=\"attribute\">border-right</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$grey</span>-light</div><div class=\"line\">    <span class=\"selector-tag\">cite</span>::before &#123;</div><div class=\"line\">        <span class=\"attribute\">content</span>: <span class=\"string\">\"-\"</span>;</div><div class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\"><span class=\"selector-tag\">blockquote</span> <span class=\"selector-tag\">p</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">5px</span>; &#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>testing blockquote</p>\n</blockquote>\n<h4 id=\"在Post页面关闭侧边栏\"><a href=\"#在Post页面关闭侧边栏\" class=\"headerlink\" title=\"在Post页面关闭侧边栏\"></a>在Post页面关闭侧边栏</h4><p>点进去文章的时候觉得侧边栏(分类，标签…)让人觉得有点多余，不能专心看文。就想找方法把它设置为只在首页显示而不在文章页面显示。</p>\n<p>打开<code>~/hexo_blog/themes/icarus/layout/layout.ejs</code>会找到下面一行代码</p>\n<figure class=\"highlight plain\"><figcaption><span>layout.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (theme.custom.sidebar) &#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;common/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n<p><code>theme.custom.sidebar</code> 指的是主题<code>_config.yml</code>里面的参数。我们可以对应的找到<code>custom</code>下面的<code>sidebar</code>。发现它只有<code>left</code>, <code>right</code>两个设置。</p>\n<p>没关系，那我们就自己加个参数在<code>_config.yml</code>里面吧：</p>\n<figure class=\"highlight yml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Added by Yingchi</span></div><div class=\"line\"><span class=\"attr\">post_sidebar:</span> <span class=\"literal\">false</span>  <span class=\"comment\">#display sidebar in post page if true</span></div><div class=\"line\"><span class=\"attr\">home_sidebar:</span> <span class=\"literal\">true</span> <span class=\"comment\">#display sidebar in home page if true</span></div></pre></td></tr></table></figure>\n<p>现在在回到<code>layout.ejs</code>把之前的三行改成下面这样的：</p>\n<figure class=\"highlight plain\"><figcaption><span>layout.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (is_home() &amp;&amp; theme.home_sidebar) &#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;common/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div><div class=\"line\">&lt;% if (is_post() &amp;&amp; theme.post_sidebar) &#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;common/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n<blockquote>\n<p><code>is_post()</code>, <code>is_home()</code> 是hexo自带的函数</p>\n</blockquote>\n<p>Wait, 以为现在就万事大吉了么，事情并没有这么简单。。你会发现文章的宽度并不会自动调整。打开JavaScript Console会发现文章所在元素是<code>&lt;section id=&quot;main&quot;&gt;</code>，我们现在就去主题的文件里找对它的设置。<br>找到文件<code>~/hexo_blog/themes/icarus/source/css/style.styl</code></p>\n<figure class=\"highlight styl\"><figcaption><span>style.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-id\">#main</span></div><div class=\"line\">    @media mq-<span class=\"attribute\">normal</span></div><div class=\"line\">        column(main-column)</div><div class=\"line\">    @media mq-tablet</div><div class=\"line\">        <span class=\"keyword\">if</span> sidebar</div><div class=\"line\">            column(main-column-tablet)</div><div class=\"line\">        <span class=\"keyword\">else</span></div><div class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span></div></pre></td></tr></table></figure>\n<p>改成下面这样：</p>\n<figure class=\"highlight styl\"><figcaption><span>style.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-id\">#main</span></div><div class=\"line\">    @media mq-<span class=\"attribute\">normal</span></div><div class=\"line\">        column(main-column)</div><div class=\"line\">    @media mq-tablet</div><div class=\"line\">        <span class=\"keyword\">if</span> is_home() and home_sidebar</div><div class=\"line\">            column(main-column-tablet)</div><div class=\"line\">        <span class=\"keyword\">if</span> is_post() and post_sidebar</div><div class=\"line\">            column(main-column-tablet)</div><div class=\"line\">        <span class=\"keyword\">else</span></div><div class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span></div></pre></td></tr></table></figure>\n<blockquote>\n<p><code>@media xxx</code>, <code>side_bar</code> etc 都是在别处(<code>_variables.styl</code>)定义好的变量</p>\n</blockquote>\n<p>接下来打开 <code>~/hexo_blog/themes/icarus/source/css/_variables.styl</code><br>在<code>//Sidebar</code>这个部分加入我们在上面用到的变量：</p>\n<figure class=\"highlight styl\"><figcaption><span>_variables.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// Sidebar</span></div><div class=\"line\">sidebar = hexo-config(<span class=\"string\">\"customize.sidebar\"</span>)</div><div class=\"line\">thumbnail-default-small = <span class=\"string\">'images/thumb-default-small.png'</span></div><div class=\"line\">home_sidebar = hexo-config(<span class=\"string\">\"home_sidebar\"</span>)</div><div class=\"line\">post_sidebar = hexo-config(<span class=\"string\">\"post_sidebar\"</span>)</div></pre></td></tr></table></figure>\n<h4 id=\"更多\"><a href=\"#更多\" class=\"headerlink\" title=\"更多\"></a>更多</h4><p>如果还想自定义CSS的话，主题样式文件都在<code>themes/icarus/source/css/_partial</code>里，对照着页面文件找到对应的class样式去修改吧。</p>\n<p>比如我这里发现在页面宽度是。。。的时候，两栏的效果并不是很理想。<br><img src=\"14891972108134.jpg\" class=\"img-shadow\"></p>\n<p>时候可以在测试页面按<code>cmd+opt+j</code>调出Javascript console查看元素。会发现它是从根目录下<code>public/css/style.css</code>而来，但是我们直接改这里的话是没有用的。因为所有<code>public</code>文件夹下都是由<code>hexo g</code>生成的。</p>\n<p>所以这里要更改我们所用主题的css生成文件。例如我的在这个路径下<code>~/hexo_blog/themes/icarus/source/css</code></p>\n<p>桑心的是，我试图修改了<code>_variables.styl</code>里面的sidebar-column之类，然后运行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo clean</div><div class=\"line\">INFO  Deleted database.</div><div class=\"line\">INFO  Deleted public folder.</div><div class=\"line\">$ hexo g</div><div class=\"line\">$ hexo s</div></pre></td></tr></table></figure>\n<p>发现并没有什么*用。。。 新手小白在这里欢迎指教啊~</p>\n","excerpt":"<p>关于Hexo Icarus主题配置的详细介绍，和相关的一些小技巧。<br>","more":"</p>\n<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>此篇不介绍HEXO的搭建，只讲ICARUS的个性化配置，HEXO的配置在国内也有很多的教程。<br>教程参考了<a href=\"http://moransky.xyz/2017/01/13/HEXO%20-%20Icarus%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/\">这里：作者MoRan_Sky</a>, <a href=\"http://lemon23.me/2016/10/21/Hexo%E7%9A%84%E8%BF%87%E5%9D%91%E8%AE%B0/\">这里：作者Lemon</a>和<a href=\"http://qiufengyu.me/2016/10/14/theme-custom/\">这里：作者Fengyu</a>。</p>\n<p>发布者已经把基本的配置步骤写在了wiki里，还包括FQA，如果有什么解决不了的问题也可以到<a href=\"https://github.com/ppoffice/hexo-theme-icarus/wiki\">Icarus GitHub Wiki</a>去提问，或看有没有和你同样问题的回答。</p>\n<h2 id=\"ICARUS主题\"><a href=\"#ICARUS主题\" class=\"headerlink\" title=\"ICARUS主题\"></a>ICARUS主题</h2><h3 id=\"什么是ICARUS\"><a href=\"#什么是ICARUS\" class=\"headerlink\" title=\"什么是ICARUS\"></a>什么是ICARUS</h3><ul>\n<li>一种很清爽的HEXO主题</li>\n<li>安装了评论，分享框架，非常之方便</li>\n</ul>\n<h3 id=\"ICARUS安装\"><a href=\"#ICARUS安装\" class=\"headerlink\" title=\"ICARUS安装\"></a>ICARUS安装</h3><p>ICARUS主题包可以在<a href=\"https://github.com/ppoffice/hexo-theme-icarus\">这里</a>找到，但更多人是采用GIT来下载的，切换到HEXO根目录,然后打入：</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/ppoffice/hexo-theme-icarus.git themes/icarus</div></pre></td></tr></table></figure>\n<p>下载之后将根目录里的</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">你之前的主题</span></div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">icarus</span></div></pre></td></tr></table></figure>\n<p>接下来可以输入<code>hexo s</code>来在本机生成，然后在 <a href=\"https://localhost:4000\">https://localhost:4000</a> 打开博客主页。</p>\n<h2 id=\"主题设置\"><a href=\"#主题设置\" class=\"headerlink\" title=\"主题设置\"></a>主题设置</h2><h3 id=\"自带可更改项目\"><a href=\"#自带可更改项目\" class=\"headerlink\" title=\"自带可更改项目\"></a>自带可更改项目</h3><h4 id=\"LOGO配置\"><a href=\"#LOGO配置\" class=\"headerlink\" title=\"LOGO配置\"></a>LOGO配置</h4><p>在博客页面的左上角，有一个LOGO，因为我们没有更改，所有这是作者的LOGO。</p>\n<p>先确定你的LOGO图片的后缀是.png，然后把你的LOGO图片重命名为logo.png，然后在你主题文件中的css/images/文件夹，将这张图片粘贴来替换之前的图片。</p>\n<h4 id=\"用户信息配置\"><a href=\"#用户信息配置\" class=\"headerlink\" title=\"用户信息配置\"></a>用户信息配置</h4><p>在主页的左边，这里显示的是博客作者的信息。</p>\n<p>打开主题的_config文件，找到profile一栏，你可以自定义你的profile信息。</p>\n<figure class=\"highlight yml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">profile:</span></div><div class=\"line\"><span class=\"attr\">    enabled:</span> <span class=\"literal\">true</span> <span class=\"comment\">#是否显示博客作者信息在左侧</span></div><div class=\"line\"><span class=\"attr\">    avatar:</span> <span class=\"string\">css/images/avatar.png</span> <span class=\"comment\">#博客作者的头像，可以到相应的路径去替换</span></div><div class=\"line\"><span class=\"attr\">    gravatar:</span> <span class=\"comment\">#如果这里写入邮箱的话，头像会重新加载</span></div><div class=\"line\"><span class=\"attr\">    author:</span> <span class=\"string\">PPOffice</span> <span class=\"comment\">#作者名</span></div><div class=\"line\"><span class=\"attr\">    author_title:</span> <span class=\"string\">Web</span> <span class=\"string\">Developer</span> <span class=\"string\">&amp;</span> <span class=\"string\">Designer</span> <span class=\"comment\">#一句话描述自己</span></div><div class=\"line\"><span class=\"attr\">    location:</span> <span class=\"string\">Harbin,</span> <span class=\"string\">China</span> <span class=\"comment\">#位置</span></div><div class=\"line\"><span class=\"attr\">    follow:</span> <span class=\"attr\">https://github.com/ppoffice/</span> <span class=\"comment\">#关注我按钮点击去到的网址</span></div></pre></td></tr></table></figure>\n<p>如果想把<code>FOLLOW</code>按钮稍作修改，变成<code>联系我</code>，并且把链接变成发送邮件到自己的邮箱的话：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">follow:</span> <span class=\"attr\">mailto:wulala@123.com</span> <span class=\"comment\">#效果是直接到发送邮件的界面，把languages/zh_CN.yml中的follow信息改成了联系我</span></div></pre></td></tr></table></figure>\n<h4 id=\"标签，分类和关于\"><a href=\"#标签，分类和关于\" class=\"headerlink\" title=\"标签，分类和关于\"></a>标签，分类和关于</h4><p>在最上方的菜单栏，我们点击”标签”，”分类”，”关于”都会显示无法找到文件，ICARUS主题很好，它为我们预设了这三个分类。</p>\n<p>在主题的<code>_source</code>文件里，把里头的三个文件全部复制，然后粘贴到HEXO跟目录的source文件夹，再刷新一下网页，就可以看见啦。</p>\n<h4 id=\"代码高亮\"><a href=\"#代码高亮\" class=\"headerlink\" title=\"代码高亮\"></a>代码高亮</h4><p>ICARUS主题预设了许多代码高亮的主题，具体的名称可以在主题目录的<code>source/css/_highlight</code>文件夹里找到。<br>把主题的<code>_config</code>文件里的highlight类型换成你喜欢的类型。</p>\n<p>关于选择代码高亮语言的问题，请看<a href=\"http://www.tuicool.com/articles/aamiimI\">这里</a>。</p>\n<h4 id=\"搜索\"><a href=\"#搜索\" class=\"headerlink\" title=\"搜索\"></a>搜索</h4><p>ICARUS主题提供了3种搜索方式，个人喜欢insight，当然你也可以选择baidu或者swiftype。</p>\n<p>使用insight的话先把博客根目录下面的<code>_config.yml</code>里面的</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">search:</span></div><div class=\"line\"><span class=\"attr\">    insight:</span> <span class=\"literal\">false</span></div></pre></td></tr></table></figure>\n<p>改成</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">search:</span></div><div class=\"line\"><span class=\"attr\">    insight:</span> <span class=\"literal\">true</span></div></pre></td></tr></table></figure>\n<p>接下来需要安装一个小插件：</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo-generator-json-content --save</div></pre></td></tr></table></figure>\n<p>接下来可以刷新一下网页，点击右上角的搜索框，就会发现已经成功配置了。</p>\n<h4 id=\"删除搜索按钮\"><a href=\"#删除搜索按钮\" class=\"headerlink\" title=\"删除搜索按钮\"></a>删除搜索按钮</h4><p>如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的<code>layout/search/index.ejs</code>，将里面的:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form-submit\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"comment\">&lt;!--button type=\"submit\" class=\"search-form-submit\"&gt;&lt;/button--&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>之后你就会发现那个搜索按钮没了。</p>\n<h4 id=\"多说评论\"><a href=\"#多说评论\" class=\"headerlink\" title=\"多说评论\"></a>多说评论</h4><p>评论是个很重要的东西，这可以让你和读者进行沟通。</p>\n<p>如果需要开启评论功能，需要先去相应的地方注册账号，然后按照提示把ID或名字添加上。点击<a href=\"https://github.com/ppoffice/hexo-theme-icarus/wiki/Comment\">这里</a> 跟着做就对了。剩下一些评论框自定义的样式就自行百度，或注册后在网站内进行更改设置就好了。</p>\n<p>多说：在多说官网先创建一个账号，然后再<a href=\"http://duoshuo.com/create-site/\">这里</a>创建一个站点，站点地址写博客的地址，在多说域名那里按照要求填入，填入的名称（也就是去掉.duoshuo.com）就是多说的shortname。</p>\n<p>ICARUS已经为你写好了评论的框架，你不需要自己搭建，你只需要把主题的_config文件中的comment改成这样：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">comment:</span></div><div class=\"line\"><span class=\"attr\">    disqus:</span> <span class=\"comment\">#写入你的disqus shortname, if have</span></div><div class=\"line\"><span class=\"attr\">    duoshuo:</span> <span class=\"comment\">#写入你的多说shortname, if have</span></div><div class=\"line\"><span class=\"attr\">    youyan:</span> <span class=\"comment\">#写入你的友言shortname, if have</span></div></pre></td></tr></table></figure>\n<p>之后刷新页面，拉到下面，就会看到评论的界面啦。你可以前往你自己的多说域名然后自定义评论。<br>对于想使用Disqus的用户，去Disqus官网新建个账户。Create a new forum， 然后按照官方指南把自己的forum integrate到博客来。现在对于Hexo平台还没有integrate好的选项，没关系，等到你选择自己的forum名字的时候记住那个shortname，到icarus主题里的<code>_config</code>文件里填上就好了。主题会帮你做好所有的integrate。</p>\n<h4 id=\"分享\"><a href=\"#分享\" class=\"headerlink\" title=\"分享\"></a>分享</h4><p>在本地使用bdshare，jiathis都是可以的，但在Github上神奇的消失了。我也试过bshare，dsshare，但还是神奇的消失了，读者可以自己的试一下。如果你也用Github Page，建议把主题的<code>_config</code>文件中的share改成:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">share: addtoany</div></pre></td></tr></table></figure>\n<h4 id=\"友情链接\"><a href=\"#友情链接\" class=\"headerlink\" title=\"友情链接\"></a>友情链接</h4><p>ICARUS自带友情链接功能，在主题的<code>_config</code>中的miscellaneous里：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">links:</span></div><div class=\"line\">    <span class=\"string\">显示名:</span> <span class=\"string\">链接</span></div></pre></td></tr></table></figure>\n<p>比如：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">links:</span></div><div class=\"line\"><span class=\"attr\">    GitHub:</span> <span class=\"attr\">http://github.com</span></div><div class=\"line\"><span class=\"attr\">    MCBBS:</span> <span class=\"attr\">http://mcbbs.net</span></div></pre></td></tr></table></figure>\n<h3 id=\"个性化修改\"><a href=\"#个性化修改\" class=\"headerlink\" title=\"个性化修改\"></a>个性化修改</h3><h4 id=\"删除搜索按钮-1\"><a href=\"#删除搜索按钮-1\" class=\"headerlink\" title=\"删除搜索按钮\"></a>删除搜索按钮</h4><p>如果使用的是insight搜索，所以那个搜索按钮没有什么意义，可以找到主题文件中的<code>layout/search/index.ejs</code>，将里面的:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form-submit\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">class</span>=<span class=\"string\">\"search-form\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"text\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ins-search-input search-form-input\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"&lt;%= __('index.search') %&gt;\"</span> /&gt;</span></div><div class=\"line\">    <span class=\"comment\">&lt;!--button type=\"submit\" class=\"search-form-submit\"&gt;&lt;/button--&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>之后你就会发现那个搜索按钮没了。</p>\n<h4 id=\"把文章界面放宽\"><a href=\"#把文章界面放宽\" class=\"headerlink\" title=\"把文章界面放宽\"></a>把文章界面放宽</h4><p>在ICARUS主题里，如果你把屏幕放的宽一点，真正的文章就只有中间一小条，我们需要稍微把文章DIV放宽一点。</p>\n<p>把主题的<code>source/css/_variables.styl</code>文件打开，翻到43行左右，把：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">main-column = 7</div></pre></td></tr></table></figure>\n<p>改成</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">main-column = 10 //或者也可以改成9，着看个人喜好，我觉得10正好合适</div></pre></td></tr></table></figure>\n<h4 id=\"设置友情链接为打开新页面\"><a href=\"#设置友情链接为打开新页面\" class=\"headerlink\" title=\"设置友情链接为打开新页面\"></a>设置友情链接为打开新页面</h4><p>之前的友情链接会在自身的博客覆盖，如果想要在新窗口打开（比较推荐这样）。</p>\n<p>把主题文件的<code>layout/widget/links.ejs</code>打开，把：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;li&gt;</div><div class=\"line\">     &lt;a href=&quot;&lt;%- theme.miscellaneous.links[i] %&gt;&quot;&gt;&lt;%= i %&gt;&lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div></pre></td></tr></table></figure>\n<p>改成</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;li&gt;</div><div class=\"line\">     &lt;a href=&quot;&lt;%- theme.miscellaneous.links[i] %&gt;&quot; target=&quot;_blank&quot;&gt;&lt;%= i %&gt;&lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"社会链接\"><a href=\"#社会链接\" class=\"headerlink\" title=\"社会链接\"></a>社会链接</h4><p>在关注我按钮的下面的下面，有一排图标，这就是社会链接，也就是你在别的地方的首页。它是fa fa-icon，ICARUS自带FontAwesome，所有你再安装的时候只要写入class名就可以。详细的图标内容可以在<a href=\"http://www.yeahzan.com/fa/facss.html\">这里</a>找到。</p>\n<p>格式：<code>fa-后面的内容，图标: 链接</code></p>\n<p>打开主题的<code>_config</code>文件：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attr\">social_links:</span></div><div class=\"line\"><span class=\"attr\">    github:</span> <span class=\"comment\">#你的Github首页</span></div><div class=\"line\"><span class=\"attr\">    envelope:</span> <span class=\"comment\">#你的邮箱</span></div><div class=\"line\"><span class=\"attr\">    user:</span> <span class=\"comment\">#博客主页</span></div><div class=\"line\"><span class=\"attr\">    reorder:</span> <span class=\"comment\">#博客分类页面</span></div><div class=\"line\"><span class=\"attr\">    sort-amount-asc:</span> <span class=\"comment\">#博客历程页面</span></div></pre></td></tr></table></figure>\n<p>在这里，我们只需要输入fa-后面的内容当图标就行了。</p>\n<h4 id=\"自定义社会链接title\"><a href=\"#自定义社会链接title\" class=\"headerlink\" title=\"自定义社会链接title\"></a>自定义社会链接title</h4><p>在社会链接的图标上停留的时候，会弹出图标名的title，但有时候我们想自定义title，怎么办呢？</p>\n<p>打开主题文件中的<code>layout/common/profile.ejs</code>文件，把：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;a href=&quot;&lt;%- url_for(theme.customize.social_links[i]) %&gt;&quot;   target=&quot;_blank&quot; title=&quot;&lt;%= i %&gt;&quot; &lt;%= tooltipClass %&gt;&gt;</div><div class=\"line\">    &lt;i class=&quot;fa fa-&lt;%= i %&gt;&quot;&gt;&lt;/i&gt;</div><div class=\"line\">&lt;/a&gt;</div></pre></td></tr></table></figure>\n<p>改成：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;a href=&quot;&lt;%- url_for(theme.customize.social_links[i].link) %&gt;&quot; target=&quot;_blank&quot; title=&quot;&lt;%= theme.customize.social_links[i].title %&gt;&quot; &lt;%= tooltipClass %&gt;&gt;</div><div class=\"line\">    &lt;i class=&quot;fa fa-&lt;%= i %&gt;&quot;&gt;&lt;/i&gt;</div><div class=\"line\">&lt;/a&gt;</div></pre></td></tr></table></figure>\n<p>那么我们在config里的social_links的表达内容就是：</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">图标名:</span> </div><div class=\"line\"><span class=\"attr\">    link:</span> <span class=\"string\">链接</span></div><div class=\"line\"><span class=\"attr\">    title:</span> <span class=\"string\">鼠标选中的文本</span></div></pre></td></tr></table></figure>\n<h4 id=\"横幅和略缩图\"><a href=\"#横幅和略缩图\" class=\"headerlink\" title=\"横幅和略缩图\"></a>横幅和略缩图</h4><p>在HEXO的根目录source/_posts文件夹，里面有你的文章，ICARUS允许你为文字设置横幅与略缩图，切记都要在两个—之间输入。<br>略缩图的设置方式：<code>thumbnail：图片</code></p>\n<p>横幅的设置方式：<code>banner：图片</code></p>\n<h4 id=\"修改代码的的边距\"><a href=\"#修改代码的的边距\" class=\"headerlink\" title=\"修改代码的的边距\"></a>修改代码的的边距</h4><p>修改之前的代码块长这样：</p>\n<p><img src=\"14892366823423.jpg\" class=\"img-shadow\" /></p>\n<p>这个代码块的边距个人觉得有点大了。尤其对于只有一两行的代码，很占空间。<br>从哪里能改呢？先从主体的CSS文件看起：<code>~/hexo_blog/themes/icarus/source/css/style.styl</code><br>里面与code有关的有两个地方，改了在第30行附近的设置，发现并没有什么变化。再往下看，发现这个另外一个文件被调用了 <code>@import &quot;_highlight/index&quot;</code>，于是我们去<code>~/hexo_blog/themes/icarus/source/css/——highlight/index.styl</code>看看：</p>\n<figure class=\"highlight styl\"><figcaption><span>index.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.highlight</span></div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span></div><div class=\"line\">    <span class=\"attribute\">display</span>: block</div><div class=\"line\">    <span class=\"attribute\">overflow-x</span>: auto</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">15px</span> <span class=\"number\">20px</span></div><div class=\"line\">    <span class=\"attribute\">font-size</span>: font-size</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: font-mono</div><div class=\"line\">    <span class=\"attribute\">line-height</span>: font-size * line-height</div><div class=\"line\">    <span class=\"selector-tag\">table</span></div><div class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span></div><div class=\"line\">        <span class=\"attribute\">width</span>: auto</div><div class=\"line\">        <span class=\"selector-tag\">td</span></div><div class=\"line\">            <span class=\"attribute\">border</span>: none</div><div class=\"line\">        <span class=\"selector-tag\">td</span><span class=\"selector-class\">.code</span></div><div class=\"line\">            <span class=\"attribute\">padding-right</span>: <span class=\"number\">20px</span></div><div class=\"line\">    <span class=\"selector-class\">.gutter</span></div><div class=\"line\">        pre</div><div class=\"line\">            <span class=\"attribute\">color</span>: <span class=\"number\">#666</span></div><div class=\"line\">            <span class=\"attribute\">text-align</span>: right</div><div class=\"line\">            <span class=\"attribute\">padding-right</span>: <span class=\"number\">20px</span></div></pre></td></tr></table></figure>\n<p>我把<code>padding</code>相关的参数改成10px</p>\n<h4 id=\"给图片加阴影\"><a href=\"#给图片加阴影\" class=\"headerlink\" title=\"给图片加阴影\"></a>给图片加阴影</h4><p>有时候添加的图片可能会与文章背景混淆，使得读者看不清到底哪部分是图片哪部分是文章。使用<code>img-shadow</code>为图片添加边角阴影可以更加凸显图片的位置，也能更美观。<br>在<code>article.styl</code>里面加入以下：</p>\n<figure class=\"highlight styl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.img-shadow</span></div><div class=\"line\">  <span class=\"attribute\">box-shadow</span>: <span class=\"number\">3px</span> <span class=\"number\">2px</span> <span class=\"number\">3px</span> <span class=\"number\">#ddd</span>;</div></pre></td></tr></table></figure>\n<p>关于CSS3 shadow属性的参数具体可以参考<a href=\"https://www.w3schools.com/css/css3_shadows.asp\">W3School的Tutorial</a></p>\n<p>使用HTML语法插入图片:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"http://test.jpg\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"img-shadow\"</span> /&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"修改引用的渲染格式\"><a href=\"#修改引用的渲染格式\" class=\"headerlink\" title=\"修改引用的渲染格式\"></a>修改引用的渲染格式</h4><p>改动之前的是这样的：<br><img src=\"14892373341062.jpg\" class=\"img-shadow\" /></p>\n<p>个人不是很喜欢这种模式。不简洁，也占空间。<br>同样从从主体的CSS文件看起：<code>~/hexo_blog/themes/icarus/source/css/style.styl</code>，发现调用了<code>@import &quot;_partial/article&quot;</code>。打开它发现对blockquote的设置如下：</p>\n<figure class=\"highlight plain\"><figcaption><span>article.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">blockquote</div><div class=\"line\">    position: static</div><div class=\"line\">    font-family: font-serif</div><div class=\"line\">    font-size: 1.1em</div><div class=\"line\">    margin: 0 -20px</div><div class=\"line\">    padding: 10px 20px 10px 54px</div><div class=\"line\">    background: #fcfcfc</div><div class=\"line\">    border-left: 4px solid #eee</div><div class=\"line\">    &amp;:before</div><div class=\"line\">        top: 20px</div><div class=\"line\">        left: 10px</div><div class=\"line\">        content: &quot;\\f10d&quot;</div><div class=\"line\">        color: #e2e2e2</div><div class=\"line\">        font-size: 32px;</div><div class=\"line\">        font-family: FontAwesome</div><div class=\"line\">        text-align: center</div><div class=\"line\">        position: static</div><div class=\"line\">    footer</div><div class=\"line\">        font-size: font-size</div><div class=\"line\">        margin: line-height 0</div><div class=\"line\">        font-family: font-sans</div><div class=\"line\">        cite</div><div class=\"line\">            &amp;:before</div><div class=\"line\">                content: &quot;—&quot;</div><div class=\"line\">                padding: 0 0.5em</div></pre></td></tr></table></figure>\n<p>我把它改为下面这样</p>\n<figure class=\"highlight styl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">blockquote</span></div><div class=\"line\">    <span class=\"attribute\">position</span>: static</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: font-sans</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span></div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1.3em</span> <span class=\"number\">0</span></div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">6px</span></div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#fcfcfc</span></div><div class=\"line\">    <span class=\"attribute\">border-left</span>: <span class=\"number\">5px</span> solid <span class=\"number\">#ef9024</span></div><div class=\"line\">    <span class=\"attribute\">border-top</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$grey</span>-light</div><div class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$grey</span>-light</div><div class=\"line\">    <span class=\"attribute\">border-right</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$grey</span>-light</div><div class=\"line\">    <span class=\"selector-tag\">cite</span>::before &#123;</div><div class=\"line\">        <span class=\"attribute\">content</span>: <span class=\"string\">\"-\"</span>;</div><div class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">5px</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\"><span class=\"selector-tag\">blockquote</span> <span class=\"selector-tag\">p</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">5px</span>; &#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>testing blockquote</p>\n</blockquote>\n<h4 id=\"在Post页面关闭侧边栏\"><a href=\"#在Post页面关闭侧边栏\" class=\"headerlink\" title=\"在Post页面关闭侧边栏\"></a>在Post页面关闭侧边栏</h4><p>点进去文章的时候觉得侧边栏(分类，标签…)让人觉得有点多余，不能专心看文。就想找方法把它设置为只在首页显示而不在文章页面显示。</p>\n<p>打开<code>~/hexo_blog/themes/icarus/layout/layout.ejs</code>会找到下面一行代码</p>\n<figure class=\"highlight plain\"><figcaption><span>layout.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (theme.custom.sidebar) &#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;common/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n<p><code>theme.custom.sidebar</code> 指的是主题<code>_config.yml</code>里面的参数。我们可以对应的找到<code>custom</code>下面的<code>sidebar</code>。发现它只有<code>left</code>, <code>right</code>两个设置。</p>\n<p>没关系，那我们就自己加个参数在<code>_config.yml</code>里面吧：</p>\n<figure class=\"highlight yml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Added by Yingchi</span></div><div class=\"line\"><span class=\"attr\">post_sidebar:</span> <span class=\"literal\">false</span>  <span class=\"comment\">#display sidebar in post page if true</span></div><div class=\"line\"><span class=\"attr\">home_sidebar:</span> <span class=\"literal\">true</span> <span class=\"comment\">#display sidebar in home page if true</span></div></pre></td></tr></table></figure>\n<p>现在在回到<code>layout.ejs</code>把之前的三行改成下面这样的：</p>\n<figure class=\"highlight plain\"><figcaption><span>layout.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (is_home() &amp;&amp; theme.home_sidebar) &#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;common/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div><div class=\"line\">&lt;% if (is_post() &amp;&amp; theme.post_sidebar) &#123; %&gt;</div><div class=\"line\">    &lt;%- partial(&apos;common/sidebar&apos;, null, &#123;cache: !config.relative_link&#125;) %&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n<blockquote>\n<p><code>is_post()</code>, <code>is_home()</code> 是hexo自带的函数</p>\n</blockquote>\n<p>Wait, 以为现在就万事大吉了么，事情并没有这么简单。。你会发现文章的宽度并不会自动调整。打开JavaScript Console会发现文章所在元素是<code>&lt;section id=&quot;main&quot;&gt;</code>，我们现在就去主题的文件里找对它的设置。<br>找到文件<code>~/hexo_blog/themes/icarus/source/css/style.styl</code></p>\n<figure class=\"highlight styl\"><figcaption><span>style.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-id\">#main</span></div><div class=\"line\">    @media mq-<span class=\"attribute\">normal</span></div><div class=\"line\">        column(main-column)</div><div class=\"line\">    @media mq-tablet</div><div class=\"line\">        <span class=\"keyword\">if</span> sidebar</div><div class=\"line\">            column(main-column-tablet)</div><div class=\"line\">        <span class=\"keyword\">else</span></div><div class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span></div></pre></td></tr></table></figure>\n<p>改成下面这样：</p>\n<figure class=\"highlight styl\"><figcaption><span>style.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-id\">#main</span></div><div class=\"line\">    @media mq-<span class=\"attribute\">normal</span></div><div class=\"line\">        column(main-column)</div><div class=\"line\">    @media mq-tablet</div><div class=\"line\">        <span class=\"keyword\">if</span> is_home() and home_sidebar</div><div class=\"line\">            column(main-column-tablet)</div><div class=\"line\">        <span class=\"keyword\">if</span> is_post() and post_sidebar</div><div class=\"line\">            column(main-column-tablet)</div><div class=\"line\">        <span class=\"keyword\">else</span></div><div class=\"line\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span></div></pre></td></tr></table></figure>\n<blockquote>\n<p><code>@media xxx</code>, <code>side_bar</code> etc 都是在别处(<code>_variables.styl</code>)定义好的变量</p>\n</blockquote>\n<p>接下来打开 <code>~/hexo_blog/themes/icarus/source/css/_variables.styl</code><br>在<code>//Sidebar</code>这个部分加入我们在上面用到的变量：</p>\n<figure class=\"highlight styl\"><figcaption><span>_variables.styl</span></figcaption><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// Sidebar</span></div><div class=\"line\">sidebar = hexo-config(<span class=\"string\">\"customize.sidebar\"</span>)</div><div class=\"line\">thumbnail-default-small = <span class=\"string\">'images/thumb-default-small.png'</span></div><div class=\"line\">home_sidebar = hexo-config(<span class=\"string\">\"home_sidebar\"</span>)</div><div class=\"line\">post_sidebar = hexo-config(<span class=\"string\">\"post_sidebar\"</span>)</div></pre></td></tr></table></figure>\n<h4 id=\"更多\"><a href=\"#更多\" class=\"headerlink\" title=\"更多\"></a>更多</h4><p>如果还想自定义CSS的话，主题样式文件都在<code>themes/icarus/source/css/_partial</code>里，对照着页面文件找到对应的class样式去修改吧。</p>\n<p>比如我这里发现在页面宽度是。。。的时候，两栏的效果并不是很理想。<br><img src=\"14891972108134.jpg\" class=\"img-shadow\" /></p>\n<p>时候可以在测试页面按<code>cmd+opt+j</code>调出Javascript console查看元素。会发现它是从根目录下<code>public/css/style.css</code>而来，但是我们直接改这里的话是没有用的。因为所有<code>public</code>文件夹下都是由<code>hexo g</code>生成的。</p>\n<p>所以这里要更改我们所用主题的css生成文件。例如我的在这个路径下<code>~/hexo_blog/themes/icarus/source/css</code></p>\n<p>桑心的是，我试图修改了<code>_variables.styl</code>里面的sidebar-column之类，然后运行</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo clean</div><div class=\"line\">INFO  Deleted database.</div><div class=\"line\">INFO  Deleted public folder.</div><div class=\"line\">$ hexo g</div><div class=\"line\">$ hexo s</div></pre></td></tr></table></figure>\n<p>发现并没有什么*用。。。 新手小白在这里欢迎指教啊~</p>"},{"title":"Understand Blockchain|理解区块链","date":"2017-02-10T13:38:08.000Z","keywords":null,"description":null,"toc":true,"_content":"\n简单介绍下区块链(blockchain)的关键概念\n\n<!--more -->\n\n## 基础\n\n### 基本原理\n基本概念包括：\n\n* 交易（Transaction）：一次操作，导致账本状态的一次改变，如添加一条记录；\n* 区块（Block）：记录一段时间内发生的交易和状态结果，是对当前账本状态的一次共识；\n* 链（Chain）：由一个个区块按照发生顺序串联而成，是整个状态变化的日志记录。\n\n如果把区块链作为一个状态机，则每次交易就是试图改变一次状态，而每次共识生成的区块，就是参与者对于区块中所有交易内容导致状态改变的结果进行确认。\n<img src=\"14832797016611.png\" height=\"400px\">\n\n\n节点需要将新区块的前一 个区块的哈希值、当前时间戳、一段时间内发生的有效交易及其梅克尔树 根值等内容打包成一个区块,向全网广播。\n\n![](14834176626345.jpg)\n\n![](14834178266616.jpg)\n\nBlockchain 2.0 的典型特征如下：\n\n1. 智能合约（smart contract）：区块链系统中的应用，是已编码的、可自动运行的业务逻辑，通常有自己的代币和专用开发语言\n2. DAPP:包含用户界面的应用，包括但不限于各种加密货币，如以太坊钱包\n3. 虚拟机：用于执行智能合约编译后的代码。\n\n>智能合约程序不只是一个可以自动执行的计算机程序：它自己就是一个系统参与者。它对接收到的信息进行回应，它可以接收和储存价值，也可以向外发送信息和价值。 这个程序就像一个可以被信任的人，可以临时保管资产，总是按照事先的规则执行操作。\n\n### 常用缩略语\n\n| 缩略语  | 完整                   |\n| ---- | -------------------- |\n| PoW  | 工作量证明(Proof of Work) |\n|PoS|权益证明(Proof of Stake)\n|DPoS|股份授权证明(Delegate Proof of Stake)\n|PBFT|实用拜占庭容错(Practical Byzantine Fault Tolerance)\n|P2P|点对点(Peer to Peer)\n|DAPP|分布式应用(Decentralized Application)\n|KYC|客户识别(Know Your Customer)\n|RSA|RSA加密算法(RSA Algorithm)\n|ECC|椭圆加密算法(Elliptic Curve Cryptography)\n|BaaS|区块链即服务(Blockchain as a Service)|\n\n### 非对称加密算法\n非对称加密算法是指使用公私钥对数据存储和传输进行加密和解 密。公钥可公开发布,用于发送方加密要发送的信息,私钥用于接收方 解密接收到的加密内容。公私钥对计算时间较长,主要用于加密较少的 数据。常用的非对称加密算法有RSA和ECC。非对称加密算法的过程如图 2-3所示。区块链正是使用非对称加密的公私钥对来构建节点间信任的。\n![](14834174393360.jpg)\n\n### 分类\n\n根据参与者的不同，可以分为公开（Public）链、联盟（Consortium）链和私有（Private）链。\n公开链，顾名思义，任何人都可以参与使用和维护，典型的如比特币区块链，信息是完全公开的。\n如果引入许可机制，包括私有链和联盟链两种。\n私有链，则是集中管理者进行限制，只能得到内部少数人可以使用，信息不公开。\n联盟链则介于两者之间，由若干组织一起合作维护一条区块链，该区块链的使用必须是有权限的管理，相关信息会得到保护，典型如银联组织。\n目前来看，公开链将会更多的吸引社区和媒体的眼球，但更多的商业价值应该在联盟链和私有链上。\n根据使用目的和场景的不同，又可以分为以数字货币为目的的货币链，以记录产权为目的的产权链，以众筹为目的的众筹链等。\n![](14834271525238.jpg)\n\n\n### 误区\n\n目前，对区块链的认识还存在不少误区。\n首先，**区块链不是数据库**。虽然区块链也可以用来存储数据，但它要解决的问题是多方的互信问题。单纯从存储数据角度，它的效率可能不高，笔者也不推荐把大量的原始数据放到区块链上。\n其次，**区块链不是要颠覆现有技术**。作为基于多项已有技术而出现的新事物，区块链跟现有技术的关系是一脉相承的，在解决多方合作和可信处理上多走了一步，但并不意味着它将彻底颠覆已有的商业模式。很长一段时间里，区块链的适用场景仍需摸索，跟已有系统必然是合作共存的关系。\n\n## 挑战\n### 处理性能\n\n如何提高交易的吞吐量，同时降低交易的确认延迟。\n目前，公开的比特币区块链只能支持平均每秒约 7 笔的吞吐量，一般认为对于大额交易来说，安全的交易确认时间为一个小时。小额交易只要确认被广播到网络中并带有交易服务费用，即有较大概率被最终打包到区块中。\n区块链系统跟传统分布式系统不同，其处理性能无法通过单纯增加节点数来进行扩展，实际上，很大程度上取决于单个节点的处理能力。高性能、安全、稳定性、硬件辅助加解密能力，都将是考察节点性能的核心要素。\n一方面可以将单个节点采用高性能的处理硬件，同时设计优化的策略和算法，提高性能；另外一方面将大量高频的交易放到链外来，只用区块链记录最终交易信息，如 闪电网络 等。类似的，侧链（side chain）、影子链（shadow chain）等的思路在当前阶段也有一定的借鉴意义。类似设计可以很容易的将交易性能提升 1-2 个数量级。此外，如果采用联盟链的方式，在一定的信任前提和利益约束下优化设计，也可以换来性能的提升。\n目前，开源区块链自身在平台层面已经实现普通配置，单客户端每秒数百次的交易吞吐量（参考后面的 性能评测数据），乐观预测将很快突破每秒数千次的基准线，但离现有证券交易系统的每秒数万笔的峰值还是有较大差距。\n另外，从工程设计和平台部署上，都存在一些可以优化的地方。\n注：VISA 系统的处理均值为 2000 tps，号称的峰值为 56,000 tps；某支付系统的处理峰值超过了 85,000 tps；某证券交易所号称的处理均（峰）值在 80,000 tps 左右。\n\n### 扩展性\n\n常见的分布式系统，可以通过增加节点来扩展整个系统的处理能力。\n对于区块链网络系统来说，这个问题并非那么简单。\n网络中每个参与维护的核心节点都要保持一份完整的存储，并且进行智能合约的处理。因此，整个网络的总存储和计算能力，取决于单个节点。甚至当网络中节点数过多时，可能会因为一致性的达成过程延迟降低整个网络的性能。尤其在公有网络中，由于大量低质量处理节点的存在问题将更明显。\n比较直接的一些思路，是放松对每个节点都必须参与完整处理的限制（但至少部分节点要能合作完成完整的处理），这个思路已经在超级账本中启用；同时尽量减少核心层的处理工作。\n在联盟链模式下，还可以专门采用高性能的节点作为核心节点，用相对较弱的节点作为代理访问节点。\n\n### 系统安全\n\n区块链目前最热门的应用前景是金融相关的服务，安全自然是讨论最多、挑战最大的话题。\n区块链在设计上基于现有的成熟的密码学算法。但这是否就能确保其安全呢？\n世界上并没有绝对安全的系统。\n系统是由人设计的，系统也是由人来运营的，只要有人参与的系统，就容易出现漏洞。\n可以参考，著名黑客米特尼克所著的《反欺骗的艺术——世界传奇黑客的经历分享》，介绍了大量的实际社交工程欺骗场景。\n有如下几个方面是很难逃避的。\n首先是立法。对区块链系统如何进行监管？攻击区块链系统是否属于犯罪？攻击银行系统是要承担后果的。但是目前还没有任何法律保护区块链以及基于它的实现。\n其次是软件实现的潜在漏洞是无法避免的。考虑到使用了几十年的 openssl 还带着那么低级的漏洞（heart bleeding），而且是源代码就在大家眼皮底下。这背后曾经发生过啥，让人遐想连篇。对于金融系统来说，无论客户端还是平台侧，即便是很小的漏洞都可能造成难以估计的损失。\n另外，公有区块链所有交易记录都是公开可见的。搞大数据的人听了是不是开始激动起来了，确实，这里面能分析的东西还真不少，而且规模够大、影响力够大……实际上，已有文献证明，比特币区块链的交易记录最终是能追踪到用户的。\n还有就是作为一套完全的分布式系统，公有的区块链缺乏有效的调整机制，一旦运行起来，出现问题也难以修正。即使是让它变得更公平、更完善的修改，只要有部分既得利益者合起来反对，那就无法加入进去。这让比特币本身的价值也蒙上了一层阴影。\n此外，运行在区块链上的智能合约应用可能是五花八门的，必须要有办法进行安全管控，在注册和运行前需要有机制进行探测，以规避恶意代码的破坏。\n2016 年 6 月 17 日，发生 DAO 系统漏洞被利用 事件，直接导致价值 6000 万美元的数字货币被利用者获取。尽管对于这件事情的反思还在进行中，但事实再次证明，目前基于区块链技术进行生产应用时，务必要细心谨慎地进行设计和验证。\n### 数据库和存储系统\n\n区块链网络中的块信息需要写到数据库中进行存储。\n观察区块链的应用，大量的写操作、hash 计算和验证操作，跟传统数据库的行为十分不同。\n当年，人们观察到互联网应用大量非事务性的查询操作，而设计了非关系型（NoSql）数据库。那么，针对区块链应用的这些特点，是否可以设计出一些特殊的针对性的数据库呢？\nlevelDB、RocksDB 等键值数据库，具备很高的随机写和顺序读\\/写性能，以及相对较差随机读的性能，被广泛应用到了区块链信息存储中。但目前来看，面向区块链的数据库技术仍然是需要突破的技术难点之一。\n笔者认为，未来将可能出现更具针对性的“块数据库（BlockDB）”，专门服务类似区块链这样的新型数据业务，其中每条记录将包括一个完整的区块信息，并天然地跟历史信息进行关联，一旦写入确认无法修改。所有操作的最小单位将是一个块。\n###可集成性\n\n在相当长的一段时间内，基于区块链的新业务系统将与已有的中心化系统共存。\n两种系统如何共存，如何分工，彼此的业务交易如何进行传递？\n这些都是很迫切的问题。这个问题解决不好，将是区块链技术落地的很大阻碍。\n### 智能合约\n智能合约可视作一段部署在区块链上可自动运行的程序,其涵盖的范 围包括编程语言、编译器、虚拟机、事件、状态机、容错机制等。\n虚拟机是区块链中智能合约的运行环境。虚拟机不仅被沙箱封装起来, 事实上它被完全隔离。也就是说运行在虚拟机内部的代码不能接触到网络、文件系统或者其他进程。甚至智能合约之间也只能进行有限的调用。\n智能合约本质上是一段程序,存在出错的可能性,甚至会引发严重问 题或连锁反应。需要做好充分的容错机制,通过系统化的手段,结合运行 环境隔离,确保合约在有限时间内按预期执行。\n### 其它\n\n区块链提供的新应用和新的业务场景，也带来了对很多具体的运营问题。\n例如：\n\n智能合约的合法性、安全性和可执行性；\n如何将现实中的合约和条约对应为电子合约；\n分布式系统的伸缩可靠性和数据迁移；\n对存储系统新的挑战，特别是性能。\n\n## 应用场景\nWith smart contracts, for the first time, you can build business process automation software that cuts across different stakeholders, and can be relied on by all. Blockchain technology can get everyone looking at the same core data set.\n\n未来几年内，可能深入应用区块链的场景将包括：\n\n* 金融服务：主要是降低交易成本，减少跨组织交易风险等。该领域的区块链应用将最快成熟起来，银行和金融交易机构将是主力推动者。\n* 征信和权属管理：这是大型社交平台和保险公司都梦寐以求的，目前还缺乏足够的数据来源、可靠的平台支持和有效的数据分析和管理。该领域创业的门槛极高，需要自上而下的推动。\n* 资源共享：airbnb 为代表的公司将欢迎这类应用，极大降低管理成本。这个领域创业门槛低，主题集中，会受到投资热捧。\n* 投资管理：无论公募还是私募基金，都可以应用区块链技术降低管理成本和管控风险。虽然有 DAO 这样的试水，谨慎认为该领域的需求还未成熟。\n* 物联网与供应链：物联网是很适合的一个领域，短期内会有大量应用出现，特别是租赁、物流等特定场景。但物联网自身的发展局限将导致短期内较难出现规模应用\n\n![](/14839471054639.png)\n\n![](/14845303553536.jpg)\n\n### 物流供应链\n\n供应链行业往往涉及到诸多实体，包括物流、资金流、信息流等，这些实体之间存在大量复杂的协作和沟通。传统模式下，不同实体各自保存各自的供应链信息，严重缺乏透明度，造成了较高的时间成本和金钱成本，而且一旦出现问题（冒领、货物假冒等）难以追查和处理。\n通过区块链各方可以获得一个透明可靠的统一信息平台，可以实时查看状态，降低物流成本，追溯物品的生产和运送整个过程，从而提高供应链管理的效率。当发生纠纷时，举证和追查也变得更加清晰和容易。\n该领域被认为是区块链一个很有前景的应用方向。\n例如运送方通过扫描二维码来证明货物到达指定区域，并自动收取提前约定的费用，可以参考 区块链如何变革供应链金融 和 区块链给供应链带来透明。\nSkuchain 创建基于区块链的新型供应链解决方案，实现商品流与资金流的同步，同时缓解假货问题。\n\nPayments in a supply chain can be triggered by a certain, predefined action, occurring at any point in time.\nIn general this works as follows: two parties agree to trade goods, and the selling party receives via his wallet a confirmation that he will be paid at a certain point if time. This guarantee is conditional, based on predefined criteria. The container with the goods contains a QR code, this is linked to a smart contract. When the goods arrive at the agreed point, and the pre-defined criteria are met, the smart contract is executed.\nThis triggers the transfer of ownership to the buyer and payment to the supplier is executed automatically. The great advantage is that when the structure is set up, the costs for a transaction are minimal. They are comparable to physical mail (for example €1 per letter) versus e-mail (a negligible cost per item).\n\n供应链是一个由物流、信息流、资金流所共同组成的,并将行业内的供应商、制造商、分销商、零售商、用户串联在一起的复杂结构。而区块 链技术作为一种大规模的协作工具,天然地适合运用于供应链管理。\n\n**痛点**\n供应链由众多参与主体构成,不同的主体之间必然存在大量的交互和 协作,而整个供应链运行过程中产生的各类信息被离散地保存在各个环节 各自的系统内,信息流缺乏透明度。这会带来两类严重的问题:一是因为 信息不透明、不流畅导致链条上的各参与主体难以准确了解相关事项的状 况及存在的问题,从而影响供应链的效率;二是当供应链各主体间出现纠 纷时,举证和追责均耗时费力,甚至在有些情况下变得不可行。随着经济 全球化的快速推进,企业必须在越来越大的范围内拓展市场,因此,供应 链管理中的物流环节往往表现出多区域、长时间跨度的特征,使得假冒伪 劣产品这样的难题很难彻底消除。\n\n\n**基于区块链的解决思路**\n首先,区块链技术能使得数据在交易各方之间公开透明,从而在整个 供应链条上形成一个完整且流畅的信息流,这可确保参与各方及时发现供 应链系统运行过程中存在的问题,并针对性地找到解决问题的方法,进而 提升供应链管理的整体效率。其次,区块链所具有的数据不可篡改和时间 戳的存在性证明的特质能很好地运用于解决供应链体系内各参与主体之间 的纠纷,实现轻松举证与追责。最后,数据不可篡改与交易可追溯两大特 性相结合可根除供应链内产品流转过程中的假冒伪劣问题。\n\n**应用场景1:物流**\n在物流过程中,利用数字签名和公私钥加解密机制,可以充分保证 信息安全以及寄、收件人的隐私。例如,快递交接需要双方私钥签名,每 个快递员或快递点都有自己的私钥,是否签收或交付只需要查一下区块链 即可。最终用户没有收到快递就不会有签收记录,快递员无法伪造签名, 因此可杜绝快递员通过伪造签名来逃避考核的行为,减少用户投诉,防止 货物的冒领误领。而真正的收件人并不需要在快递单上直观展示实名制信 息,由于安全隐私有保障,所以更多人愿意接受实名制,从而促进国家物 流实名制的落实。另外,利用区块链技术,通过智能合约能够简化物流程 序和大幅度提升物流的效率。\n\n\n**应用场景2:溯源防伪**\n区块链不可篡改、数据可完整追溯以及时间戳功能,可有效解决物品 的溯源防伪问题。例如,可以用区块链技术进行钻石身份认证及流转过程 记录——为每一颗钻石建立唯一的电子身份,用来记录每一颗钻石的属性 并存放至区块链中。同时,无论是这颗钻石的来源出处、流转历史记录、 归属还是所在地都会被忠实的记录在链,只要有非法的交易活动或是欺诈造假的行为,就会被侦测出来。此外,区块链技术也可用于药品、艺术品、收藏品、奢侈品等的溯源防伪。\n\n\n### 正在发展的公司\n已经有一些很有潜力的团队正在这么做，他们正在创造新的协议，有可能让以上那些公司被颠覆掉。一个例子就是 Lazooz，它是一个实时拼车的协议，还有 OpenBazaar 协议，它支持免费的去中心化 p2p 市场\n\n### 未来区块链生态\n![](14835824591159.jpg)\n\n## 参考资料：\nhttp://book.8btc.com/books/1/digital_giant_chain/_book/\nhttp://8btc.com/doc-view-182.html\n\n\n","source":"_posts/understand-blockchain-01.md","raw":"---\ntitle: Understand Blockchain|理解区块链\ndate: 2017-02-10 21:38:08\ncategories:\n- Blockchain\ntags: ##标签，多标签格式为 [tag1,tag2,...]\n- blockchain\nkeywords: ##文章关键词，多个的格式为 keyword1,keywords2,...\ndescription: ##文章描述, 主要是SEO用\ntoc: true\n---\n\n简单介绍下区块链(blockchain)的关键概念\n\n<!--more -->\n\n## 基础\n\n### 基本原理\n基本概念包括：\n\n* 交易（Transaction）：一次操作，导致账本状态的一次改变，如添加一条记录；\n* 区块（Block）：记录一段时间内发生的交易和状态结果，是对当前账本状态的一次共识；\n* 链（Chain）：由一个个区块按照发生顺序串联而成，是整个状态变化的日志记录。\n\n如果把区块链作为一个状态机，则每次交易就是试图改变一次状态，而每次共识生成的区块，就是参与者对于区块中所有交易内容导致状态改变的结果进行确认。\n<img src=\"14832797016611.png\" height=\"400px\">\n\n\n节点需要将新区块的前一 个区块的哈希值、当前时间戳、一段时间内发生的有效交易及其梅克尔树 根值等内容打包成一个区块,向全网广播。\n\n![](14834176626345.jpg)\n\n![](14834178266616.jpg)\n\nBlockchain 2.0 的典型特征如下：\n\n1. 智能合约（smart contract）：区块链系统中的应用，是已编码的、可自动运行的业务逻辑，通常有自己的代币和专用开发语言\n2. DAPP:包含用户界面的应用，包括但不限于各种加密货币，如以太坊钱包\n3. 虚拟机：用于执行智能合约编译后的代码。\n\n>智能合约程序不只是一个可以自动执行的计算机程序：它自己就是一个系统参与者。它对接收到的信息进行回应，它可以接收和储存价值，也可以向外发送信息和价值。 这个程序就像一个可以被信任的人，可以临时保管资产，总是按照事先的规则执行操作。\n\n### 常用缩略语\n\n| 缩略语  | 完整                   |\n| ---- | -------------------- |\n| PoW  | 工作量证明(Proof of Work) |\n|PoS|权益证明(Proof of Stake)\n|DPoS|股份授权证明(Delegate Proof of Stake)\n|PBFT|实用拜占庭容错(Practical Byzantine Fault Tolerance)\n|P2P|点对点(Peer to Peer)\n|DAPP|分布式应用(Decentralized Application)\n|KYC|客户识别(Know Your Customer)\n|RSA|RSA加密算法(RSA Algorithm)\n|ECC|椭圆加密算法(Elliptic Curve Cryptography)\n|BaaS|区块链即服务(Blockchain as a Service)|\n\n### 非对称加密算法\n非对称加密算法是指使用公私钥对数据存储和传输进行加密和解 密。公钥可公开发布,用于发送方加密要发送的信息,私钥用于接收方 解密接收到的加密内容。公私钥对计算时间较长,主要用于加密较少的 数据。常用的非对称加密算法有RSA和ECC。非对称加密算法的过程如图 2-3所示。区块链正是使用非对称加密的公私钥对来构建节点间信任的。\n![](14834174393360.jpg)\n\n### 分类\n\n根据参与者的不同，可以分为公开（Public）链、联盟（Consortium）链和私有（Private）链。\n公开链，顾名思义，任何人都可以参与使用和维护，典型的如比特币区块链，信息是完全公开的。\n如果引入许可机制，包括私有链和联盟链两种。\n私有链，则是集中管理者进行限制，只能得到内部少数人可以使用，信息不公开。\n联盟链则介于两者之间，由若干组织一起合作维护一条区块链，该区块链的使用必须是有权限的管理，相关信息会得到保护，典型如银联组织。\n目前来看，公开链将会更多的吸引社区和媒体的眼球，但更多的商业价值应该在联盟链和私有链上。\n根据使用目的和场景的不同，又可以分为以数字货币为目的的货币链，以记录产权为目的的产权链，以众筹为目的的众筹链等。\n![](14834271525238.jpg)\n\n\n### 误区\n\n目前，对区块链的认识还存在不少误区。\n首先，**区块链不是数据库**。虽然区块链也可以用来存储数据，但它要解决的问题是多方的互信问题。单纯从存储数据角度，它的效率可能不高，笔者也不推荐把大量的原始数据放到区块链上。\n其次，**区块链不是要颠覆现有技术**。作为基于多项已有技术而出现的新事物，区块链跟现有技术的关系是一脉相承的，在解决多方合作和可信处理上多走了一步，但并不意味着它将彻底颠覆已有的商业模式。很长一段时间里，区块链的适用场景仍需摸索，跟已有系统必然是合作共存的关系。\n\n## 挑战\n### 处理性能\n\n如何提高交易的吞吐量，同时降低交易的确认延迟。\n目前，公开的比特币区块链只能支持平均每秒约 7 笔的吞吐量，一般认为对于大额交易来说，安全的交易确认时间为一个小时。小额交易只要确认被广播到网络中并带有交易服务费用，即有较大概率被最终打包到区块中。\n区块链系统跟传统分布式系统不同，其处理性能无法通过单纯增加节点数来进行扩展，实际上，很大程度上取决于单个节点的处理能力。高性能、安全、稳定性、硬件辅助加解密能力，都将是考察节点性能的核心要素。\n一方面可以将单个节点采用高性能的处理硬件，同时设计优化的策略和算法，提高性能；另外一方面将大量高频的交易放到链外来，只用区块链记录最终交易信息，如 闪电网络 等。类似的，侧链（side chain）、影子链（shadow chain）等的思路在当前阶段也有一定的借鉴意义。类似设计可以很容易的将交易性能提升 1-2 个数量级。此外，如果采用联盟链的方式，在一定的信任前提和利益约束下优化设计，也可以换来性能的提升。\n目前，开源区块链自身在平台层面已经实现普通配置，单客户端每秒数百次的交易吞吐量（参考后面的 性能评测数据），乐观预测将很快突破每秒数千次的基准线，但离现有证券交易系统的每秒数万笔的峰值还是有较大差距。\n另外，从工程设计和平台部署上，都存在一些可以优化的地方。\n注：VISA 系统的处理均值为 2000 tps，号称的峰值为 56,000 tps；某支付系统的处理峰值超过了 85,000 tps；某证券交易所号称的处理均（峰）值在 80,000 tps 左右。\n\n### 扩展性\n\n常见的分布式系统，可以通过增加节点来扩展整个系统的处理能力。\n对于区块链网络系统来说，这个问题并非那么简单。\n网络中每个参与维护的核心节点都要保持一份完整的存储，并且进行智能合约的处理。因此，整个网络的总存储和计算能力，取决于单个节点。甚至当网络中节点数过多时，可能会因为一致性的达成过程延迟降低整个网络的性能。尤其在公有网络中，由于大量低质量处理节点的存在问题将更明显。\n比较直接的一些思路，是放松对每个节点都必须参与完整处理的限制（但至少部分节点要能合作完成完整的处理），这个思路已经在超级账本中启用；同时尽量减少核心层的处理工作。\n在联盟链模式下，还可以专门采用高性能的节点作为核心节点，用相对较弱的节点作为代理访问节点。\n\n### 系统安全\n\n区块链目前最热门的应用前景是金融相关的服务，安全自然是讨论最多、挑战最大的话题。\n区块链在设计上基于现有的成熟的密码学算法。但这是否就能确保其安全呢？\n世界上并没有绝对安全的系统。\n系统是由人设计的，系统也是由人来运营的，只要有人参与的系统，就容易出现漏洞。\n可以参考，著名黑客米特尼克所著的《反欺骗的艺术——世界传奇黑客的经历分享》，介绍了大量的实际社交工程欺骗场景。\n有如下几个方面是很难逃避的。\n首先是立法。对区块链系统如何进行监管？攻击区块链系统是否属于犯罪？攻击银行系统是要承担后果的。但是目前还没有任何法律保护区块链以及基于它的实现。\n其次是软件实现的潜在漏洞是无法避免的。考虑到使用了几十年的 openssl 还带着那么低级的漏洞（heart bleeding），而且是源代码就在大家眼皮底下。这背后曾经发生过啥，让人遐想连篇。对于金融系统来说，无论客户端还是平台侧，即便是很小的漏洞都可能造成难以估计的损失。\n另外，公有区块链所有交易记录都是公开可见的。搞大数据的人听了是不是开始激动起来了，确实，这里面能分析的东西还真不少，而且规模够大、影响力够大……实际上，已有文献证明，比特币区块链的交易记录最终是能追踪到用户的。\n还有就是作为一套完全的分布式系统，公有的区块链缺乏有效的调整机制，一旦运行起来，出现问题也难以修正。即使是让它变得更公平、更完善的修改，只要有部分既得利益者合起来反对，那就无法加入进去。这让比特币本身的价值也蒙上了一层阴影。\n此外，运行在区块链上的智能合约应用可能是五花八门的，必须要有办法进行安全管控，在注册和运行前需要有机制进行探测，以规避恶意代码的破坏。\n2016 年 6 月 17 日，发生 DAO 系统漏洞被利用 事件，直接导致价值 6000 万美元的数字货币被利用者获取。尽管对于这件事情的反思还在进行中，但事实再次证明，目前基于区块链技术进行生产应用时，务必要细心谨慎地进行设计和验证。\n### 数据库和存储系统\n\n区块链网络中的块信息需要写到数据库中进行存储。\n观察区块链的应用，大量的写操作、hash 计算和验证操作，跟传统数据库的行为十分不同。\n当年，人们观察到互联网应用大量非事务性的查询操作，而设计了非关系型（NoSql）数据库。那么，针对区块链应用的这些特点，是否可以设计出一些特殊的针对性的数据库呢？\nlevelDB、RocksDB 等键值数据库，具备很高的随机写和顺序读\\/写性能，以及相对较差随机读的性能，被广泛应用到了区块链信息存储中。但目前来看，面向区块链的数据库技术仍然是需要突破的技术难点之一。\n笔者认为，未来将可能出现更具针对性的“块数据库（BlockDB）”，专门服务类似区块链这样的新型数据业务，其中每条记录将包括一个完整的区块信息，并天然地跟历史信息进行关联，一旦写入确认无法修改。所有操作的最小单位将是一个块。\n###可集成性\n\n在相当长的一段时间内，基于区块链的新业务系统将与已有的中心化系统共存。\n两种系统如何共存，如何分工，彼此的业务交易如何进行传递？\n这些都是很迫切的问题。这个问题解决不好，将是区块链技术落地的很大阻碍。\n### 智能合约\n智能合约可视作一段部署在区块链上可自动运行的程序,其涵盖的范 围包括编程语言、编译器、虚拟机、事件、状态机、容错机制等。\n虚拟机是区块链中智能合约的运行环境。虚拟机不仅被沙箱封装起来, 事实上它被完全隔离。也就是说运行在虚拟机内部的代码不能接触到网络、文件系统或者其他进程。甚至智能合约之间也只能进行有限的调用。\n智能合约本质上是一段程序,存在出错的可能性,甚至会引发严重问 题或连锁反应。需要做好充分的容错机制,通过系统化的手段,结合运行 环境隔离,确保合约在有限时间内按预期执行。\n### 其它\n\n区块链提供的新应用和新的业务场景，也带来了对很多具体的运营问题。\n例如：\n\n智能合约的合法性、安全性和可执行性；\n如何将现实中的合约和条约对应为电子合约；\n分布式系统的伸缩可靠性和数据迁移；\n对存储系统新的挑战，特别是性能。\n\n## 应用场景\nWith smart contracts, for the first time, you can build business process automation software that cuts across different stakeholders, and can be relied on by all. Blockchain technology can get everyone looking at the same core data set.\n\n未来几年内，可能深入应用区块链的场景将包括：\n\n* 金融服务：主要是降低交易成本，减少跨组织交易风险等。该领域的区块链应用将最快成熟起来，银行和金融交易机构将是主力推动者。\n* 征信和权属管理：这是大型社交平台和保险公司都梦寐以求的，目前还缺乏足够的数据来源、可靠的平台支持和有效的数据分析和管理。该领域创业的门槛极高，需要自上而下的推动。\n* 资源共享：airbnb 为代表的公司将欢迎这类应用，极大降低管理成本。这个领域创业门槛低，主题集中，会受到投资热捧。\n* 投资管理：无论公募还是私募基金，都可以应用区块链技术降低管理成本和管控风险。虽然有 DAO 这样的试水，谨慎认为该领域的需求还未成熟。\n* 物联网与供应链：物联网是很适合的一个领域，短期内会有大量应用出现，特别是租赁、物流等特定场景。但物联网自身的发展局限将导致短期内较难出现规模应用\n\n![](/14839471054639.png)\n\n![](/14845303553536.jpg)\n\n### 物流供应链\n\n供应链行业往往涉及到诸多实体，包括物流、资金流、信息流等，这些实体之间存在大量复杂的协作和沟通。传统模式下，不同实体各自保存各自的供应链信息，严重缺乏透明度，造成了较高的时间成本和金钱成本，而且一旦出现问题（冒领、货物假冒等）难以追查和处理。\n通过区块链各方可以获得一个透明可靠的统一信息平台，可以实时查看状态，降低物流成本，追溯物品的生产和运送整个过程，从而提高供应链管理的效率。当发生纠纷时，举证和追查也变得更加清晰和容易。\n该领域被认为是区块链一个很有前景的应用方向。\n例如运送方通过扫描二维码来证明货物到达指定区域，并自动收取提前约定的费用，可以参考 区块链如何变革供应链金融 和 区块链给供应链带来透明。\nSkuchain 创建基于区块链的新型供应链解决方案，实现商品流与资金流的同步，同时缓解假货问题。\n\nPayments in a supply chain can be triggered by a certain, predefined action, occurring at any point in time.\nIn general this works as follows: two parties agree to trade goods, and the selling party receives via his wallet a confirmation that he will be paid at a certain point if time. This guarantee is conditional, based on predefined criteria. The container with the goods contains a QR code, this is linked to a smart contract. When the goods arrive at the agreed point, and the pre-defined criteria are met, the smart contract is executed.\nThis triggers the transfer of ownership to the buyer and payment to the supplier is executed automatically. The great advantage is that when the structure is set up, the costs for a transaction are minimal. They are comparable to physical mail (for example €1 per letter) versus e-mail (a negligible cost per item).\n\n供应链是一个由物流、信息流、资金流所共同组成的,并将行业内的供应商、制造商、分销商、零售商、用户串联在一起的复杂结构。而区块 链技术作为一种大规模的协作工具,天然地适合运用于供应链管理。\n\n**痛点**\n供应链由众多参与主体构成,不同的主体之间必然存在大量的交互和 协作,而整个供应链运行过程中产生的各类信息被离散地保存在各个环节 各自的系统内,信息流缺乏透明度。这会带来两类严重的问题:一是因为 信息不透明、不流畅导致链条上的各参与主体难以准确了解相关事项的状 况及存在的问题,从而影响供应链的效率;二是当供应链各主体间出现纠 纷时,举证和追责均耗时费力,甚至在有些情况下变得不可行。随着经济 全球化的快速推进,企业必须在越来越大的范围内拓展市场,因此,供应 链管理中的物流环节往往表现出多区域、长时间跨度的特征,使得假冒伪 劣产品这样的难题很难彻底消除。\n\n\n**基于区块链的解决思路**\n首先,区块链技术能使得数据在交易各方之间公开透明,从而在整个 供应链条上形成一个完整且流畅的信息流,这可确保参与各方及时发现供 应链系统运行过程中存在的问题,并针对性地找到解决问题的方法,进而 提升供应链管理的整体效率。其次,区块链所具有的数据不可篡改和时间 戳的存在性证明的特质能很好地运用于解决供应链体系内各参与主体之间 的纠纷,实现轻松举证与追责。最后,数据不可篡改与交易可追溯两大特 性相结合可根除供应链内产品流转过程中的假冒伪劣问题。\n\n**应用场景1:物流**\n在物流过程中,利用数字签名和公私钥加解密机制,可以充分保证 信息安全以及寄、收件人的隐私。例如,快递交接需要双方私钥签名,每 个快递员或快递点都有自己的私钥,是否签收或交付只需要查一下区块链 即可。最终用户没有收到快递就不会有签收记录,快递员无法伪造签名, 因此可杜绝快递员通过伪造签名来逃避考核的行为,减少用户投诉,防止 货物的冒领误领。而真正的收件人并不需要在快递单上直观展示实名制信 息,由于安全隐私有保障,所以更多人愿意接受实名制,从而促进国家物 流实名制的落实。另外,利用区块链技术,通过智能合约能够简化物流程 序和大幅度提升物流的效率。\n\n\n**应用场景2:溯源防伪**\n区块链不可篡改、数据可完整追溯以及时间戳功能,可有效解决物品 的溯源防伪问题。例如,可以用区块链技术进行钻石身份认证及流转过程 记录——为每一颗钻石建立唯一的电子身份,用来记录每一颗钻石的属性 并存放至区块链中。同时,无论是这颗钻石的来源出处、流转历史记录、 归属还是所在地都会被忠实的记录在链,只要有非法的交易活动或是欺诈造假的行为,就会被侦测出来。此外,区块链技术也可用于药品、艺术品、收藏品、奢侈品等的溯源防伪。\n\n\n### 正在发展的公司\n已经有一些很有潜力的团队正在这么做，他们正在创造新的协议，有可能让以上那些公司被颠覆掉。一个例子就是 Lazooz，它是一个实时拼车的协议，还有 OpenBazaar 协议，它支持免费的去中心化 p2p 市场\n\n### 未来区块链生态\n![](14835824591159.jpg)\n\n## 参考资料：\nhttp://book.8btc.com/books/1/digital_giant_chain/_book/\nhttp://8btc.com/doc-view-182.html\n\n\n","slug":"understand-blockchain-01","published":1,"updated":"2017-03-12T02:01:09.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj0dnkbif00098kkh8h98vek5","content":"<p>简单介绍下区块链(blockchain)的关键概念</p>\n<a id=\"more\"></a>\n<h2 id=\"基础\"><a href=\"#基础\" class=\"headerlink\" title=\"基础\"></a>基础</h2><h3 id=\"基本原理\"><a href=\"#基本原理\" class=\"headerlink\" title=\"基本原理\"></a>基本原理</h3><p>基本概念包括：</p>\n<ul>\n<li>交易（Transaction）：一次操作，导致账本状态的一次改变，如添加一条记录；</li>\n<li>区块（Block）：记录一段时间内发生的交易和状态结果，是对当前账本状态的一次共识；</li>\n<li>链（Chain）：由一个个区块按照发生顺序串联而成，是整个状态变化的日志记录。</li>\n</ul>\n<p>如果把区块链作为一个状态机，则每次交易就是试图改变一次状态，而每次共识生成的区块，就是参与者对于区块中所有交易内容导致状态改变的结果进行确认。<br><img src=\"14832797016611.png\" height=\"400px\"></p>\n<p>节点需要将新区块的前一 个区块的哈希值、当前时间戳、一段时间内发生的有效交易及其梅克尔树 根值等内容打包成一个区块,向全网广播。</p>\n<p><img src=\"14834176626345.jpg\" alt=\"\"></p>\n<p><img src=\"14834178266616.jpg\" alt=\"\"></p>\n<p>Blockchain 2.0 的典型特征如下：</p>\n<ol>\n<li>智能合约（smart contract）：区块链系统中的应用，是已编码的、可自动运行的业务逻辑，通常有自己的代币和专用开发语言</li>\n<li>DAPP:包含用户界面的应用，包括但不限于各种加密货币，如以太坊钱包</li>\n<li>虚拟机：用于执行智能合约编译后的代码。</li>\n</ol>\n<blockquote>\n<p>智能合约程序不只是一个可以自动执行的计算机程序：它自己就是一个系统参与者。它对接收到的信息进行回应，它可以接收和储存价值，也可以向外发送信息和价值。 这个程序就像一个可以被信任的人，可以临时保管资产，总是按照事先的规则执行操作。</p>\n</blockquote>\n<h3 id=\"常用缩略语\"><a href=\"#常用缩略语\" class=\"headerlink\" title=\"常用缩略语\"></a>常用缩略语</h3><table>\n<thead>\n<tr>\n<th>缩略语</th>\n<th>完整</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PoW</td>\n<td>工作量证明(Proof of Work)</td>\n</tr>\n<tr>\n<td>PoS</td>\n<td>权益证明(Proof of Stake)</td>\n</tr>\n<tr>\n<td>DPoS</td>\n<td>股份授权证明(Delegate Proof of Stake)</td>\n</tr>\n<tr>\n<td>PBFT</td>\n<td>实用拜占庭容错(Practical Byzantine Fault Tolerance)</td>\n</tr>\n<tr>\n<td>P2P</td>\n<td>点对点(Peer to Peer)</td>\n</tr>\n<tr>\n<td>DAPP</td>\n<td>分布式应用(Decentralized Application)</td>\n</tr>\n<tr>\n<td>KYC</td>\n<td>客户识别(Know Your Customer)</td>\n</tr>\n<tr>\n<td>RSA</td>\n<td>RSA加密算法(RSA Algorithm)</td>\n</tr>\n<tr>\n<td>ECC</td>\n<td>椭圆加密算法(Elliptic Curve Cryptography)</td>\n</tr>\n<tr>\n<td>BaaS</td>\n<td>区块链即服务(Blockchain as a Service)</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"非对称加密算法\"><a href=\"#非对称加密算法\" class=\"headerlink\" title=\"非对称加密算法\"></a>非对称加密算法</h3><p>非对称加密算法是指使用公私钥对数据存储和传输进行加密和解 密。公钥可公开发布,用于发送方加密要发送的信息,私钥用于接收方 解密接收到的加密内容。公私钥对计算时间较长,主要用于加密较少的 数据。常用的非对称加密算法有RSA和ECC。非对称加密算法的过程如图 2-3所示。区块链正是使用非对称加密的公私钥对来构建节点间信任的。<br><img src=\"14834174393360.jpg\" alt=\"\"></p>\n<h3 id=\"分类\"><a href=\"#分类\" class=\"headerlink\" title=\"分类\"></a>分类</h3><p>根据参与者的不同，可以分为公开（Public）链、联盟（Consortium）链和私有（Private）链。<br>公开链，顾名思义，任何人都可以参与使用和维护，典型的如比特币区块链，信息是完全公开的。<br>如果引入许可机制，包括私有链和联盟链两种。<br>私有链，则是集中管理者进行限制，只能得到内部少数人可以使用，信息不公开。<br>联盟链则介于两者之间，由若干组织一起合作维护一条区块链，该区块链的使用必须是有权限的管理，相关信息会得到保护，典型如银联组织。<br>目前来看，公开链将会更多的吸引社区和媒体的眼球，但更多的商业价值应该在联盟链和私有链上。<br>根据使用目的和场景的不同，又可以分为以数字货币为目的的货币链，以记录产权为目的的产权链，以众筹为目的的众筹链等。<br><img src=\"14834271525238.jpg\" alt=\"\"></p>\n<h3 id=\"误区\"><a href=\"#误区\" class=\"headerlink\" title=\"误区\"></a>误区</h3><p>目前，对区块链的认识还存在不少误区。<br>首先，<strong>区块链不是数据库</strong>。虽然区块链也可以用来存储数据，但它要解决的问题是多方的互信问题。单纯从存储数据角度，它的效率可能不高，笔者也不推荐把大量的原始数据放到区块链上。<br>其次，<strong>区块链不是要颠覆现有技术</strong>。作为基于多项已有技术而出现的新事物，区块链跟现有技术的关系是一脉相承的，在解决多方合作和可信处理上多走了一步，但并不意味着它将彻底颠覆已有的商业模式。很长一段时间里，区块链的适用场景仍需摸索，跟已有系统必然是合作共存的关系。</p>\n<h2 id=\"挑战\"><a href=\"#挑战\" class=\"headerlink\" title=\"挑战\"></a>挑战</h2><h3 id=\"处理性能\"><a href=\"#处理性能\" class=\"headerlink\" title=\"处理性能\"></a>处理性能</h3><p>如何提高交易的吞吐量，同时降低交易的确认延迟。<br>目前，公开的比特币区块链只能支持平均每秒约 7 笔的吞吐量，一般认为对于大额交易来说，安全的交易确认时间为一个小时。小额交易只要确认被广播到网络中并带有交易服务费用，即有较大概率被最终打包到区块中。<br>区块链系统跟传统分布式系统不同，其处理性能无法通过单纯增加节点数来进行扩展，实际上，很大程度上取决于单个节点的处理能力。高性能、安全、稳定性、硬件辅助加解密能力，都将是考察节点性能的核心要素。<br>一方面可以将单个节点采用高性能的处理硬件，同时设计优化的策略和算法，提高性能；另外一方面将大量高频的交易放到链外来，只用区块链记录最终交易信息，如 闪电网络 等。类似的，侧链（side chain）、影子链（shadow chain）等的思路在当前阶段也有一定的借鉴意义。类似设计可以很容易的将交易性能提升 1-2 个数量级。此外，如果采用联盟链的方式，在一定的信任前提和利益约束下优化设计，也可以换来性能的提升。<br>目前，开源区块链自身在平台层面已经实现普通配置，单客户端每秒数百次的交易吞吐量（参考后面的 性能评测数据），乐观预测将很快突破每秒数千次的基准线，但离现有证券交易系统的每秒数万笔的峰值还是有较大差距。<br>另外，从工程设计和平台部署上，都存在一些可以优化的地方。<br>注：VISA 系统的处理均值为 2000 tps，号称的峰值为 56,000 tps；某支付系统的处理峰值超过了 85,000 tps；某证券交易所号称的处理均（峰）值在 80,000 tps 左右。</p>\n<h3 id=\"扩展性\"><a href=\"#扩展性\" class=\"headerlink\" title=\"扩展性\"></a>扩展性</h3><p>常见的分布式系统，可以通过增加节点来扩展整个系统的处理能力。<br>对于区块链网络系统来说，这个问题并非那么简单。<br>网络中每个参与维护的核心节点都要保持一份完整的存储，并且进行智能合约的处理。因此，整个网络的总存储和计算能力，取决于单个节点。甚至当网络中节点数过多时，可能会因为一致性的达成过程延迟降低整个网络的性能。尤其在公有网络中，由于大量低质量处理节点的存在问题将更明显。<br>比较直接的一些思路，是放松对每个节点都必须参与完整处理的限制（但至少部分节点要能合作完成完整的处理），这个思路已经在超级账本中启用；同时尽量减少核心层的处理工作。<br>在联盟链模式下，还可以专门采用高性能的节点作为核心节点，用相对较弱的节点作为代理访问节点。</p>\n<h3 id=\"系统安全\"><a href=\"#系统安全\" class=\"headerlink\" title=\"系统安全\"></a>系统安全</h3><p>区块链目前最热门的应用前景是金融相关的服务，安全自然是讨论最多、挑战最大的话题。<br>区块链在设计上基于现有的成熟的密码学算法。但这是否就能确保其安全呢？<br>世界上并没有绝对安全的系统。<br>系统是由人设计的，系统也是由人来运营的，只要有人参与的系统，就容易出现漏洞。<br>可以参考，著名黑客米特尼克所著的《反欺骗的艺术——世界传奇黑客的经历分享》，介绍了大量的实际社交工程欺骗场景。<br>有如下几个方面是很难逃避的。<br>首先是立法。对区块链系统如何进行监管？攻击区块链系统是否属于犯罪？攻击银行系统是要承担后果的。但是目前还没有任何法律保护区块链以及基于它的实现。<br>其次是软件实现的潜在漏洞是无法避免的。考虑到使用了几十年的 openssl 还带着那么低级的漏洞（heart bleeding），而且是源代码就在大家眼皮底下。这背后曾经发生过啥，让人遐想连篇。对于金融系统来说，无论客户端还是平台侧，即便是很小的漏洞都可能造成难以估计的损失。<br>另外，公有区块链所有交易记录都是公开可见的。搞大数据的人听了是不是开始激动起来了，确实，这里面能分析的东西还真不少，而且规模够大、影响力够大……实际上，已有文献证明，比特币区块链的交易记录最终是能追踪到用户的。<br>还有就是作为一套完全的分布式系统，公有的区块链缺乏有效的调整机制，一旦运行起来，出现问题也难以修正。即使是让它变得更公平、更完善的修改，只要有部分既得利益者合起来反对，那就无法加入进去。这让比特币本身的价值也蒙上了一层阴影。<br>此外，运行在区块链上的智能合约应用可能是五花八门的，必须要有办法进行安全管控，在注册和运行前需要有机制进行探测，以规避恶意代码的破坏。<br>2016 年 6 月 17 日，发生 DAO 系统漏洞被利用 事件，直接导致价值 6000 万美元的数字货币被利用者获取。尽管对于这件事情的反思还在进行中，但事实再次证明，目前基于区块链技术进行生产应用时，务必要细心谨慎地进行设计和验证。</p>\n<h3 id=\"数据库和存储系统\"><a href=\"#数据库和存储系统\" class=\"headerlink\" title=\"数据库和存储系统\"></a>数据库和存储系统</h3><p>区块链网络中的块信息需要写到数据库中进行存储。<br>观察区块链的应用，大量的写操作、hash 计算和验证操作，跟传统数据库的行为十分不同。<br>当年，人们观察到互联网应用大量非事务性的查询操作，而设计了非关系型（NoSql）数据库。那么，针对区块链应用的这些特点，是否可以设计出一些特殊的针对性的数据库呢？<br>levelDB、RocksDB 等键值数据库，具备很高的随机写和顺序读\\/写性能，以及相对较差随机读的性能，被广泛应用到了区块链信息存储中。但目前来看，面向区块链的数据库技术仍然是需要突破的技术难点之一。<br>笔者认为，未来将可能出现更具针对性的“块数据库（BlockDB）”，专门服务类似区块链这样的新型数据业务，其中每条记录将包括一个完整的区块信息，并天然地跟历史信息进行关联，一旦写入确认无法修改。所有操作的最小单位将是一个块。</p>\n<p>###可集成性</p>\n<p>在相当长的一段时间内，基于区块链的新业务系统将与已有的中心化系统共存。<br>两种系统如何共存，如何分工，彼此的业务交易如何进行传递？<br>这些都是很迫切的问题。这个问题解决不好，将是区块链技术落地的很大阻碍。</p>\n<h3 id=\"智能合约\"><a href=\"#智能合约\" class=\"headerlink\" title=\"智能合约\"></a>智能合约</h3><p>智能合约可视作一段部署在区块链上可自动运行的程序,其涵盖的范 围包括编程语言、编译器、虚拟机、事件、状态机、容错机制等。<br>虚拟机是区块链中智能合约的运行环境。虚拟机不仅被沙箱封装起来, 事实上它被完全隔离。也就是说运行在虚拟机内部的代码不能接触到网络、文件系统或者其他进程。甚至智能合约之间也只能进行有限的调用。<br>智能合约本质上是一段程序,存在出错的可能性,甚至会引发严重问 题或连锁反应。需要做好充分的容错机制,通过系统化的手段,结合运行 环境隔离,确保合约在有限时间内按预期执行。</p>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><p>区块链提供的新应用和新的业务场景，也带来了对很多具体的运营问题。<br>例如：</p>\n<p>智能合约的合法性、安全性和可执行性；<br>如何将现实中的合约和条约对应为电子合约；<br>分布式系统的伸缩可靠性和数据迁移；<br>对存储系统新的挑战，特别是性能。</p>\n<h2 id=\"应用场景\"><a href=\"#应用场景\" class=\"headerlink\" title=\"应用场景\"></a>应用场景</h2><p>With smart contracts, for the first time, you can build business process automation software that cuts across different stakeholders, and can be relied on by all. Blockchain technology can get everyone looking at the same core data set.</p>\n<p>未来几年内，可能深入应用区块链的场景将包括：</p>\n<ul>\n<li>金融服务：主要是降低交易成本，减少跨组织交易风险等。该领域的区块链应用将最快成熟起来，银行和金融交易机构将是主力推动者。</li>\n<li>征信和权属管理：这是大型社交平台和保险公司都梦寐以求的，目前还缺乏足够的数据来源、可靠的平台支持和有效的数据分析和管理。该领域创业的门槛极高，需要自上而下的推动。</li>\n<li>资源共享：airbnb 为代表的公司将欢迎这类应用，极大降低管理成本。这个领域创业门槛低，主题集中，会受到投资热捧。</li>\n<li>投资管理：无论公募还是私募基金，都可以应用区块链技术降低管理成本和管控风险。虽然有 DAO 这样的试水，谨慎认为该领域的需求还未成熟。</li>\n<li>物联网与供应链：物联网是很适合的一个领域，短期内会有大量应用出现，特别是租赁、物流等特定场景。但物联网自身的发展局限将导致短期内较难出现规模应用</li>\n</ul>\n<p><img src=\"/14839471054639.png\" alt=\"\"></p>\n<p><img src=\"/14845303553536.jpg\" alt=\"\"></p>\n<h3 id=\"物流供应链\"><a href=\"#物流供应链\" class=\"headerlink\" title=\"物流供应链\"></a>物流供应链</h3><p>供应链行业往往涉及到诸多实体，包括物流、资金流、信息流等，这些实体之间存在大量复杂的协作和沟通。传统模式下，不同实体各自保存各自的供应链信息，严重缺乏透明度，造成了较高的时间成本和金钱成本，而且一旦出现问题（冒领、货物假冒等）难以追查和处理。<br>通过区块链各方可以获得一个透明可靠的统一信息平台，可以实时查看状态，降低物流成本，追溯物品的生产和运送整个过程，从而提高供应链管理的效率。当发生纠纷时，举证和追查也变得更加清晰和容易。<br>该领域被认为是区块链一个很有前景的应用方向。<br>例如运送方通过扫描二维码来证明货物到达指定区域，并自动收取提前约定的费用，可以参考 区块链如何变革供应链金融 和 区块链给供应链带来透明。<br>Skuchain 创建基于区块链的新型供应链解决方案，实现商品流与资金流的同步，同时缓解假货问题。</p>\n<p>Payments in a supply chain can be triggered by a certain, predefined action, occurring at any point in time.<br>In general this works as follows: two parties agree to trade goods, and the selling party receives via his wallet a confirmation that he will be paid at a certain point if time. This guarantee is conditional, based on predefined criteria. The container with the goods contains a QR code, this is linked to a smart contract. When the goods arrive at the agreed point, and the pre-defined criteria are met, the smart contract is executed.<br>This triggers the transfer of ownership to the buyer and payment to the supplier is executed automatically. The great advantage is that when the structure is set up, the costs for a transaction are minimal. They are comparable to physical mail (for example €1 per letter) versus e-mail (a negligible cost per item).</p>\n<p>供应链是一个由物流、信息流、资金流所共同组成的,并将行业内的供应商、制造商、分销商、零售商、用户串联在一起的复杂结构。而区块 链技术作为一种大规模的协作工具,天然地适合运用于供应链管理。</p>\n<p><strong>痛点</strong><br>供应链由众多参与主体构成,不同的主体之间必然存在大量的交互和 协作,而整个供应链运行过程中产生的各类信息被离散地保存在各个环节 各自的系统内,信息流缺乏透明度。这会带来两类严重的问题:一是因为 信息不透明、不流畅导致链条上的各参与主体难以准确了解相关事项的状 况及存在的问题,从而影响供应链的效率;二是当供应链各主体间出现纠 纷时,举证和追责均耗时费力,甚至在有些情况下变得不可行。随着经济 全球化的快速推进,企业必须在越来越大的范围内拓展市场,因此,供应 链管理中的物流环节往往表现出多区域、长时间跨度的特征,使得假冒伪 劣产品这样的难题很难彻底消除。</p>\n<p><strong>基于区块链的解决思路</strong><br>首先,区块链技术能使得数据在交易各方之间公开透明,从而在整个 供应链条上形成一个完整且流畅的信息流,这可确保参与各方及时发现供 应链系统运行过程中存在的问题,并针对性地找到解决问题的方法,进而 提升供应链管理的整体效率。其次,区块链所具有的数据不可篡改和时间 戳的存在性证明的特质能很好地运用于解决供应链体系内各参与主体之间 的纠纷,实现轻松举证与追责。最后,数据不可篡改与交易可追溯两大特 性相结合可根除供应链内产品流转过程中的假冒伪劣问题。</p>\n<p><strong>应用场景1:物流</strong><br>在物流过程中,利用数字签名和公私钥加解密机制,可以充分保证 信息安全以及寄、收件人的隐私。例如,快递交接需要双方私钥签名,每 个快递员或快递点都有自己的私钥,是否签收或交付只需要查一下区块链 即可。最终用户没有收到快递就不会有签收记录,快递员无法伪造签名, 因此可杜绝快递员通过伪造签名来逃避考核的行为,减少用户投诉,防止 货物的冒领误领。而真正的收件人并不需要在快递单上直观展示实名制信 息,由于安全隐私有保障,所以更多人愿意接受实名制,从而促进国家物 流实名制的落实。另外,利用区块链技术,通过智能合约能够简化物流程 序和大幅度提升物流的效率。</p>\n<p><strong>应用场景2:溯源防伪</strong><br>区块链不可篡改、数据可完整追溯以及时间戳功能,可有效解决物品 的溯源防伪问题。例如,可以用区块链技术进行钻石身份认证及流转过程 记录——为每一颗钻石建立唯一的电子身份,用来记录每一颗钻石的属性 并存放至区块链中。同时,无论是这颗钻石的来源出处、流转历史记录、 归属还是所在地都会被忠实的记录在链,只要有非法的交易活动或是欺诈造假的行为,就会被侦测出来。此外,区块链技术也可用于药品、艺术品、收藏品、奢侈品等的溯源防伪。</p>\n<h3 id=\"正在发展的公司\"><a href=\"#正在发展的公司\" class=\"headerlink\" title=\"正在发展的公司\"></a>正在发展的公司</h3><p>已经有一些很有潜力的团队正在这么做，他们正在创造新的协议，有可能让以上那些公司被颠覆掉。一个例子就是 Lazooz，它是一个实时拼车的协议，还有 OpenBazaar 协议，它支持免费的去中心化 p2p 市场</p>\n<h3 id=\"未来区块链生态\"><a href=\"#未来区块链生态\" class=\"headerlink\" title=\"未来区块链生态\"></a>未来区块链生态</h3><p><img src=\"14835824591159.jpg\" alt=\"\"></p>\n<h2 id=\"参考资料：\"><a href=\"#参考资料：\" class=\"headerlink\" title=\"参考资料：\"></a>参考资料：</h2><p><a href=\"http://book.8btc.com/books/1/digital_giant_chain/_book/\" target=\"_blank\" rel=\"external\">http://book.8btc.com/books/1/digital_giant_chain/_book/</a><br><a href=\"http://8btc.com/doc-view-182.html\" target=\"_blank\" rel=\"external\">http://8btc.com/doc-view-182.html</a></p>\n","excerpt":"<p>简单介绍下区块链(blockchain)的关键概念</p>","more":"<h2 id=\"基础\"><a href=\"#基础\" class=\"headerlink\" title=\"基础\"></a>基础</h2><h3 id=\"基本原理\"><a href=\"#基本原理\" class=\"headerlink\" title=\"基本原理\"></a>基本原理</h3><p>基本概念包括：</p>\n<ul>\n<li>交易（Transaction）：一次操作，导致账本状态的一次改变，如添加一条记录；</li>\n<li>区块（Block）：记录一段时间内发生的交易和状态结果，是对当前账本状态的一次共识；</li>\n<li>链（Chain）：由一个个区块按照发生顺序串联而成，是整个状态变化的日志记录。</li>\n</ul>\n<p>如果把区块链作为一个状态机，则每次交易就是试图改变一次状态，而每次共识生成的区块，就是参与者对于区块中所有交易内容导致状态改变的结果进行确认。<br><img src=\"14832797016611.png\" height=\"400px\"></p>\n<p>节点需要将新区块的前一 个区块的哈希值、当前时间戳、一段时间内发生的有效交易及其梅克尔树 根值等内容打包成一个区块,向全网广播。</p>\n<p><img src=\"14834176626345.jpg\" alt=\"\"></p>\n<p><img src=\"14834178266616.jpg\" alt=\"\"></p>\n<p>Blockchain 2.0 的典型特征如下：</p>\n<ol>\n<li>智能合约（smart contract）：区块链系统中的应用，是已编码的、可自动运行的业务逻辑，通常有自己的代币和专用开发语言</li>\n<li>DAPP:包含用户界面的应用，包括但不限于各种加密货币，如以太坊钱包</li>\n<li>虚拟机：用于执行智能合约编译后的代码。</li>\n</ol>\n<blockquote>\n<p>智能合约程序不只是一个可以自动执行的计算机程序：它自己就是一个系统参与者。它对接收到的信息进行回应，它可以接收和储存价值，也可以向外发送信息和价值。 这个程序就像一个可以被信任的人，可以临时保管资产，总是按照事先的规则执行操作。</p>\n</blockquote>\n<h3 id=\"常用缩略语\"><a href=\"#常用缩略语\" class=\"headerlink\" title=\"常用缩略语\"></a>常用缩略语</h3><table>\n<thead>\n<tr>\n<th>缩略语</th>\n<th>完整</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>PoW</td>\n<td>工作量证明(Proof of Work)</td>\n</tr>\n<tr>\n<td>PoS</td>\n<td>权益证明(Proof of Stake)</td>\n</tr>\n<tr>\n<td>DPoS</td>\n<td>股份授权证明(Delegate Proof of Stake)</td>\n</tr>\n<tr>\n<td>PBFT</td>\n<td>实用拜占庭容错(Practical Byzantine Fault Tolerance)</td>\n</tr>\n<tr>\n<td>P2P</td>\n<td>点对点(Peer to Peer)</td>\n</tr>\n<tr>\n<td>DAPP</td>\n<td>分布式应用(Decentralized Application)</td>\n</tr>\n<tr>\n<td>KYC</td>\n<td>客户识别(Know Your Customer)</td>\n</tr>\n<tr>\n<td>RSA</td>\n<td>RSA加密算法(RSA Algorithm)</td>\n</tr>\n<tr>\n<td>ECC</td>\n<td>椭圆加密算法(Elliptic Curve Cryptography)</td>\n</tr>\n<tr>\n<td>BaaS</td>\n<td>区块链即服务(Blockchain as a Service)</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"非对称加密算法\"><a href=\"#非对称加密算法\" class=\"headerlink\" title=\"非对称加密算法\"></a>非对称加密算法</h3><p>非对称加密算法是指使用公私钥对数据存储和传输进行加密和解 密。公钥可公开发布,用于发送方加密要发送的信息,私钥用于接收方 解密接收到的加密内容。公私钥对计算时间较长,主要用于加密较少的 数据。常用的非对称加密算法有RSA和ECC。非对称加密算法的过程如图 2-3所示。区块链正是使用非对称加密的公私钥对来构建节点间信任的。<br><img src=\"14834174393360.jpg\" alt=\"\"></p>\n<h3 id=\"分类\"><a href=\"#分类\" class=\"headerlink\" title=\"分类\"></a>分类</h3><p>根据参与者的不同，可以分为公开（Public）链、联盟（Consortium）链和私有（Private）链。<br>公开链，顾名思义，任何人都可以参与使用和维护，典型的如比特币区块链，信息是完全公开的。<br>如果引入许可机制，包括私有链和联盟链两种。<br>私有链，则是集中管理者进行限制，只能得到内部少数人可以使用，信息不公开。<br>联盟链则介于两者之间，由若干组织一起合作维护一条区块链，该区块链的使用必须是有权限的管理，相关信息会得到保护，典型如银联组织。<br>目前来看，公开链将会更多的吸引社区和媒体的眼球，但更多的商业价值应该在联盟链和私有链上。<br>根据使用目的和场景的不同，又可以分为以数字货币为目的的货币链，以记录产权为目的的产权链，以众筹为目的的众筹链等。<br><img src=\"14834271525238.jpg\" alt=\"\"></p>\n<h3 id=\"误区\"><a href=\"#误区\" class=\"headerlink\" title=\"误区\"></a>误区</h3><p>目前，对区块链的认识还存在不少误区。<br>首先，<strong>区块链不是数据库</strong>。虽然区块链也可以用来存储数据，但它要解决的问题是多方的互信问题。单纯从存储数据角度，它的效率可能不高，笔者也不推荐把大量的原始数据放到区块链上。<br>其次，<strong>区块链不是要颠覆现有技术</strong>。作为基于多项已有技术而出现的新事物，区块链跟现有技术的关系是一脉相承的，在解决多方合作和可信处理上多走了一步，但并不意味着它将彻底颠覆已有的商业模式。很长一段时间里，区块链的适用场景仍需摸索，跟已有系统必然是合作共存的关系。</p>\n<h2 id=\"挑战\"><a href=\"#挑战\" class=\"headerlink\" title=\"挑战\"></a>挑战</h2><h3 id=\"处理性能\"><a href=\"#处理性能\" class=\"headerlink\" title=\"处理性能\"></a>处理性能</h3><p>如何提高交易的吞吐量，同时降低交易的确认延迟。<br>目前，公开的比特币区块链只能支持平均每秒约 7 笔的吞吐量，一般认为对于大额交易来说，安全的交易确认时间为一个小时。小额交易只要确认被广播到网络中并带有交易服务费用，即有较大概率被最终打包到区块中。<br>区块链系统跟传统分布式系统不同，其处理性能无法通过单纯增加节点数来进行扩展，实际上，很大程度上取决于单个节点的处理能力。高性能、安全、稳定性、硬件辅助加解密能力，都将是考察节点性能的核心要素。<br>一方面可以将单个节点采用高性能的处理硬件，同时设计优化的策略和算法，提高性能；另外一方面将大量高频的交易放到链外来，只用区块链记录最终交易信息，如 闪电网络 等。类似的，侧链（side chain）、影子链（shadow chain）等的思路在当前阶段也有一定的借鉴意义。类似设计可以很容易的将交易性能提升 1-2 个数量级。此外，如果采用联盟链的方式，在一定的信任前提和利益约束下优化设计，也可以换来性能的提升。<br>目前，开源区块链自身在平台层面已经实现普通配置，单客户端每秒数百次的交易吞吐量（参考后面的 性能评测数据），乐观预测将很快突破每秒数千次的基准线，但离现有证券交易系统的每秒数万笔的峰值还是有较大差距。<br>另外，从工程设计和平台部署上，都存在一些可以优化的地方。<br>注：VISA 系统的处理均值为 2000 tps，号称的峰值为 56,000 tps；某支付系统的处理峰值超过了 85,000 tps；某证券交易所号称的处理均（峰）值在 80,000 tps 左右。</p>\n<h3 id=\"扩展性\"><a href=\"#扩展性\" class=\"headerlink\" title=\"扩展性\"></a>扩展性</h3><p>常见的分布式系统，可以通过增加节点来扩展整个系统的处理能力。<br>对于区块链网络系统来说，这个问题并非那么简单。<br>网络中每个参与维护的核心节点都要保持一份完整的存储，并且进行智能合约的处理。因此，整个网络的总存储和计算能力，取决于单个节点。甚至当网络中节点数过多时，可能会因为一致性的达成过程延迟降低整个网络的性能。尤其在公有网络中，由于大量低质量处理节点的存在问题将更明显。<br>比较直接的一些思路，是放松对每个节点都必须参与完整处理的限制（但至少部分节点要能合作完成完整的处理），这个思路已经在超级账本中启用；同时尽量减少核心层的处理工作。<br>在联盟链模式下，还可以专门采用高性能的节点作为核心节点，用相对较弱的节点作为代理访问节点。</p>\n<h3 id=\"系统安全\"><a href=\"#系统安全\" class=\"headerlink\" title=\"系统安全\"></a>系统安全</h3><p>区块链目前最热门的应用前景是金融相关的服务，安全自然是讨论最多、挑战最大的话题。<br>区块链在设计上基于现有的成熟的密码学算法。但这是否就能确保其安全呢？<br>世界上并没有绝对安全的系统。<br>系统是由人设计的，系统也是由人来运营的，只要有人参与的系统，就容易出现漏洞。<br>可以参考，著名黑客米特尼克所著的《反欺骗的艺术——世界传奇黑客的经历分享》，介绍了大量的实际社交工程欺骗场景。<br>有如下几个方面是很难逃避的。<br>首先是立法。对区块链系统如何进行监管？攻击区块链系统是否属于犯罪？攻击银行系统是要承担后果的。但是目前还没有任何法律保护区块链以及基于它的实现。<br>其次是软件实现的潜在漏洞是无法避免的。考虑到使用了几十年的 openssl 还带着那么低级的漏洞（heart bleeding），而且是源代码就在大家眼皮底下。这背后曾经发生过啥，让人遐想连篇。对于金融系统来说，无论客户端还是平台侧，即便是很小的漏洞都可能造成难以估计的损失。<br>另外，公有区块链所有交易记录都是公开可见的。搞大数据的人听了是不是开始激动起来了，确实，这里面能分析的东西还真不少，而且规模够大、影响力够大……实际上，已有文献证明，比特币区块链的交易记录最终是能追踪到用户的。<br>还有就是作为一套完全的分布式系统，公有的区块链缺乏有效的调整机制，一旦运行起来，出现问题也难以修正。即使是让它变得更公平、更完善的修改，只要有部分既得利益者合起来反对，那就无法加入进去。这让比特币本身的价值也蒙上了一层阴影。<br>此外，运行在区块链上的智能合约应用可能是五花八门的，必须要有办法进行安全管控，在注册和运行前需要有机制进行探测，以规避恶意代码的破坏。<br>2016 年 6 月 17 日，发生 DAO 系统漏洞被利用 事件，直接导致价值 6000 万美元的数字货币被利用者获取。尽管对于这件事情的反思还在进行中，但事实再次证明，目前基于区块链技术进行生产应用时，务必要细心谨慎地进行设计和验证。</p>\n<h3 id=\"数据库和存储系统\"><a href=\"#数据库和存储系统\" class=\"headerlink\" title=\"数据库和存储系统\"></a>数据库和存储系统</h3><p>区块链网络中的块信息需要写到数据库中进行存储。<br>观察区块链的应用，大量的写操作、hash 计算和验证操作，跟传统数据库的行为十分不同。<br>当年，人们观察到互联网应用大量非事务性的查询操作，而设计了非关系型（NoSql）数据库。那么，针对区块链应用的这些特点，是否可以设计出一些特殊的针对性的数据库呢？<br>levelDB、RocksDB 等键值数据库，具备很高的随机写和顺序读\\/写性能，以及相对较差随机读的性能，被广泛应用到了区块链信息存储中。但目前来看，面向区块链的数据库技术仍然是需要突破的技术难点之一。<br>笔者认为，未来将可能出现更具针对性的“块数据库（BlockDB）”，专门服务类似区块链这样的新型数据业务，其中每条记录将包括一个完整的区块信息，并天然地跟历史信息进行关联，一旦写入确认无法修改。所有操作的最小单位将是一个块。</p>\n<p>###可集成性</p>\n<p>在相当长的一段时间内，基于区块链的新业务系统将与已有的中心化系统共存。<br>两种系统如何共存，如何分工，彼此的业务交易如何进行传递？<br>这些都是很迫切的问题。这个问题解决不好，将是区块链技术落地的很大阻碍。</p>\n<h3 id=\"智能合约\"><a href=\"#智能合约\" class=\"headerlink\" title=\"智能合约\"></a>智能合约</h3><p>智能合约可视作一段部署在区块链上可自动运行的程序,其涵盖的范 围包括编程语言、编译器、虚拟机、事件、状态机、容错机制等。<br>虚拟机是区块链中智能合约的运行环境。虚拟机不仅被沙箱封装起来, 事实上它被完全隔离。也就是说运行在虚拟机内部的代码不能接触到网络、文件系统或者其他进程。甚至智能合约之间也只能进行有限的调用。<br>智能合约本质上是一段程序,存在出错的可能性,甚至会引发严重问 题或连锁反应。需要做好充分的容错机制,通过系统化的手段,结合运行 环境隔离,确保合约在有限时间内按预期执行。</p>\n<h3 id=\"其它\"><a href=\"#其它\" class=\"headerlink\" title=\"其它\"></a>其它</h3><p>区块链提供的新应用和新的业务场景，也带来了对很多具体的运营问题。<br>例如：</p>\n<p>智能合约的合法性、安全性和可执行性；<br>如何将现实中的合约和条约对应为电子合约；<br>分布式系统的伸缩可靠性和数据迁移；<br>对存储系统新的挑战，特别是性能。</p>\n<h2 id=\"应用场景\"><a href=\"#应用场景\" class=\"headerlink\" title=\"应用场景\"></a>应用场景</h2><p>With smart contracts, for the first time, you can build business process automation software that cuts across different stakeholders, and can be relied on by all. Blockchain technology can get everyone looking at the same core data set.</p>\n<p>未来几年内，可能深入应用区块链的场景将包括：</p>\n<ul>\n<li>金融服务：主要是降低交易成本，减少跨组织交易风险等。该领域的区块链应用将最快成熟起来，银行和金融交易机构将是主力推动者。</li>\n<li>征信和权属管理：这是大型社交平台和保险公司都梦寐以求的，目前还缺乏足够的数据来源、可靠的平台支持和有效的数据分析和管理。该领域创业的门槛极高，需要自上而下的推动。</li>\n<li>资源共享：airbnb 为代表的公司将欢迎这类应用，极大降低管理成本。这个领域创业门槛低，主题集中，会受到投资热捧。</li>\n<li>投资管理：无论公募还是私募基金，都可以应用区块链技术降低管理成本和管控风险。虽然有 DAO 这样的试水，谨慎认为该领域的需求还未成熟。</li>\n<li>物联网与供应链：物联网是很适合的一个领域，短期内会有大量应用出现，特别是租赁、物流等特定场景。但物联网自身的发展局限将导致短期内较难出现规模应用</li>\n</ul>\n<p><img src=\"/14839471054639.png\" alt=\"\"></p>\n<p><img src=\"/14845303553536.jpg\" alt=\"\"></p>\n<h3 id=\"物流供应链\"><a href=\"#物流供应链\" class=\"headerlink\" title=\"物流供应链\"></a>物流供应链</h3><p>供应链行业往往涉及到诸多实体，包括物流、资金流、信息流等，这些实体之间存在大量复杂的协作和沟通。传统模式下，不同实体各自保存各自的供应链信息，严重缺乏透明度，造成了较高的时间成本和金钱成本，而且一旦出现问题（冒领、货物假冒等）难以追查和处理。<br>通过区块链各方可以获得一个透明可靠的统一信息平台，可以实时查看状态，降低物流成本，追溯物品的生产和运送整个过程，从而提高供应链管理的效率。当发生纠纷时，举证和追查也变得更加清晰和容易。<br>该领域被认为是区块链一个很有前景的应用方向。<br>例如运送方通过扫描二维码来证明货物到达指定区域，并自动收取提前约定的费用，可以参考 区块链如何变革供应链金融 和 区块链给供应链带来透明。<br>Skuchain 创建基于区块链的新型供应链解决方案，实现商品流与资金流的同步，同时缓解假货问题。</p>\n<p>Payments in a supply chain can be triggered by a certain, predefined action, occurring at any point in time.<br>In general this works as follows: two parties agree to trade goods, and the selling party receives via his wallet a confirmation that he will be paid at a certain point if time. This guarantee is conditional, based on predefined criteria. The container with the goods contains a QR code, this is linked to a smart contract. When the goods arrive at the agreed point, and the pre-defined criteria are met, the smart contract is executed.<br>This triggers the transfer of ownership to the buyer and payment to the supplier is executed automatically. The great advantage is that when the structure is set up, the costs for a transaction are minimal. They are comparable to physical mail (for example €1 per letter) versus e-mail (a negligible cost per item).</p>\n<p>供应链是一个由物流、信息流、资金流所共同组成的,并将行业内的供应商、制造商、分销商、零售商、用户串联在一起的复杂结构。而区块 链技术作为一种大规模的协作工具,天然地适合运用于供应链管理。</p>\n<p><strong>痛点</strong><br>供应链由众多参与主体构成,不同的主体之间必然存在大量的交互和 协作,而整个供应链运行过程中产生的各类信息被离散地保存在各个环节 各自的系统内,信息流缺乏透明度。这会带来两类严重的问题:一是因为 信息不透明、不流畅导致链条上的各参与主体难以准确了解相关事项的状 况及存在的问题,从而影响供应链的效率;二是当供应链各主体间出现纠 纷时,举证和追责均耗时费力,甚至在有些情况下变得不可行。随着经济 全球化的快速推进,企业必须在越来越大的范围内拓展市场,因此,供应 链管理中的物流环节往往表现出多区域、长时间跨度的特征,使得假冒伪 劣产品这样的难题很难彻底消除。</p>\n<p><strong>基于区块链的解决思路</strong><br>首先,区块链技术能使得数据在交易各方之间公开透明,从而在整个 供应链条上形成一个完整且流畅的信息流,这可确保参与各方及时发现供 应链系统运行过程中存在的问题,并针对性地找到解决问题的方法,进而 提升供应链管理的整体效率。其次,区块链所具有的数据不可篡改和时间 戳的存在性证明的特质能很好地运用于解决供应链体系内各参与主体之间 的纠纷,实现轻松举证与追责。最后,数据不可篡改与交易可追溯两大特 性相结合可根除供应链内产品流转过程中的假冒伪劣问题。</p>\n<p><strong>应用场景1:物流</strong><br>在物流过程中,利用数字签名和公私钥加解密机制,可以充分保证 信息安全以及寄、收件人的隐私。例如,快递交接需要双方私钥签名,每 个快递员或快递点都有自己的私钥,是否签收或交付只需要查一下区块链 即可。最终用户没有收到快递就不会有签收记录,快递员无法伪造签名, 因此可杜绝快递员通过伪造签名来逃避考核的行为,减少用户投诉,防止 货物的冒领误领。而真正的收件人并不需要在快递单上直观展示实名制信 息,由于安全隐私有保障,所以更多人愿意接受实名制,从而促进国家物 流实名制的落实。另外,利用区块链技术,通过智能合约能够简化物流程 序和大幅度提升物流的效率。</p>\n<p><strong>应用场景2:溯源防伪</strong><br>区块链不可篡改、数据可完整追溯以及时间戳功能,可有效解决物品 的溯源防伪问题。例如,可以用区块链技术进行钻石身份认证及流转过程 记录——为每一颗钻石建立唯一的电子身份,用来记录每一颗钻石的属性 并存放至区块链中。同时,无论是这颗钻石的来源出处、流转历史记录、 归属还是所在地都会被忠实的记录在链,只要有非法的交易活动或是欺诈造假的行为,就会被侦测出来。此外,区块链技术也可用于药品、艺术品、收藏品、奢侈品等的溯源防伪。</p>\n<h3 id=\"正在发展的公司\"><a href=\"#正在发展的公司\" class=\"headerlink\" title=\"正在发展的公司\"></a>正在发展的公司</h3><p>已经有一些很有潜力的团队正在这么做，他们正在创造新的协议，有可能让以上那些公司被颠覆掉。一个例子就是 Lazooz，它是一个实时拼车的协议，还有 OpenBazaar 协议，它支持免费的去中心化 p2p 市场</p>\n<h3 id=\"未来区块链生态\"><a href=\"#未来区块链生态\" class=\"headerlink\" title=\"未来区块链生态\"></a>未来区块链生态</h3><p><img src=\"14835824591159.jpg\" alt=\"\"></p>\n<h2 id=\"参考资料：\"><a href=\"#参考资料：\" class=\"headerlink\" title=\"参考资料：\"></a>参考资料：</h2><p><a href=\"http://book.8btc.com/books/1/digital_giant_chain/_book/\">http://book.8btc.com/books/1/digital_giant_chain/_book/</a><br><a href=\"http://8btc.com/doc-view-182.html\">http://8btc.com/doc-view-182.html</a></p>"},{"title":"Rebuild Personal Website and Blog|重新搭建站点和博客","date":"2017-03-11T10:03:02.000Z","comments":1,"toc":true,"thumbnail":null,"banner":null,"_content":"流水账日志\n<!--more -->\n\n### 心路历程：\n1. 之前在Bluehost上买了个域名`yingchi.com`，就直接在它那里买了最基本的Web hosting服务，用的是LAPM stack(Linux, Apache, MySQL, and PHP)，花了半天找了个好看的个人主页模板，修修改改，填上经历技能就放那里没管了。\n2. 现在想添个博客上去，也督促自己把平时的笔记定时整理一下。\n3. 随便一查，发现我去，Bluehost的域名费不便宜啊。马上要续费了，大概 $15 USD一年，然后namecheap上是 $10一年。用GitHub的Student Pack还能白拿一年的`yingchi.me`域名玩。所以就把域名迁移到了namecheap。\n4. 然后又查到Digital Ocean的Web hosting也更便宜，还可以随便安装系统，用VPS。而Bluehost上给的服务是Shared hosting。就买了DO的服务，先把`yingchi.me`搞过去玩一玩。\n5. 想做到：\n    - 在namecheap管理域名\n    - 在DO host `yingchi.com` 并把个人资料页面放在这里\n    - 在`blog.yingchi.com`放基于Hexo平台的个人博客\n\n### 基于现实的计划：\n1. 因为在Bluehost的Web hosting服务还有一年(为什么要买这么久。。。), 所以`yingchi.com`的hosting先不动\n2. 用`yingchi.me`这个域名，**在DO实现个人主页和博客的搭建** （这是个工程比较大的一步）\n3. 把`yingchi.com`域名host到DO，并第二步迁移到`yingchi.com`\n\n\n### 在DO实现个人主页和博客的搭建：\n1. 个人主页计划放在 `yingchi.me` 用普通HTML页面实现。博客放在`blog.yingchi.me`, 用Hexo实现\n2. 在本地搭建完成个人主页（先用原来的）和个人博客。Complete the development for the personal homepage and also the blog locally。流水账和踩坑过程记录在：\n3. 把这两套站点的文件部署到DO上。流水账和踩坑过程记录在：\n\n### 心路历程3.的具体过程\nWhen I log in to my cPanel, under 'performance' tab, there is no 'manage access' option. \n![](14889387685017.jpg)\n\nIt seems that I do not have a dedicated IP address.\nHowever, after looking up the charges for VPS or dedicated IP, it was around $20 per month. I don't want to invest so much for now. So let's try some other approachs:\n\n- host my blog subdomain `blog.peiyingchi.com` on GitHub Pages. This option is free\n- move my hosting service from bluehost to another server provider completely. E.g. Digital Ocean, where they provides VPS server at $4 per month.\n\n如果不想麻烦学习VPS还有花钱去买这些服务，而且只是想简单的搭建一个Blog的话可以用第一种渠道。\n这个渠道搭建Hexo blog已经有很多网上教程可以跟着学。下面是一个比较全面的：\nhttp://blog.fens.me/hexo-blog-github/\n\n经过纠结😖，我没有用github作为服务器，最终选了第二种方，去买了DO的基本版的ubuntu server。\n\n\n### 心路历程4.的具体过程\n这里我选了Digital Ocean, 从GitHub的Student pack里面可以拿到$50的promotion. \n\nCreate a new DigitalOcean Droplets with Ubentu 16.04.2 x64.\nSelect the $5/mo package.\nAdd SSH keys.\n\n> On what is SSH keys and how to add one, refer to this [How To Use SSH Keys with DigitalOcean Droplets](https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets)\n\n\n\n\n不想在这里add shh keys直接点create。 会有邮件给你root的地址和密码，有另一封邮件告诉你怎么做一些简单的server setup。一步步跟着来就好。\n\n**Step 1: The Must-Haves**\n\n- Review the Ubuntu 14.04 server checklist which covers:\n    - [Initial Ubuntu server setup](http://pages.news.digitalocean.com/z0VX3V6001eIXHQ0EYC0D00) tutorial with step-by-step configuration instructions, and\n[Connecting to your Droplet with SSH.](http://pages.news.digitalocean.com/z0VX3V6001eIXIQ0EYD0D00)\n    - Use DigitalOcean’s DNS to [set up your hostname](http://pages.news.digitalocean.com/f00QV060XJ010I3VEXDEY0e) from the Control Panel.\n\n**Step 2: Web Servers**\n\n- Install the powerful [Nginx web server](http://pages.news.digitalocean.com/XV60YHI1X000DQeXV030EM0) on Ubuntu.\n- Use [Nginx virtual hosts](http://pages.news.digitalocean.com/I001NEX06eYIXV3V0Q0ID00) to serve multiple sites on one server. \n\n在设置Domain的过程中可能会碰到下面这些名词：\n>A记录\nA记录是用来指定主机名（或域名）对应的IP地址记录。用户可以将该域名下的网站服务器指向到自己的web server上。同时也可以设置您域名的二级域名。\nCNAME记录\nCNAME记录，即：别名记录。这种记录允许您将多个名字映射到同一台计算机。 通常用于同时提供WWW和MAIL服务的计算机。例如，有一台计算机名为“host.mydomain.com”（A记录）。 它同时提供WWW和MAIL服务，为了便于用户访问服务。可以为该计算机设置两个别名（CNAME）：WWW和MAIL。\n\n#### Install LEMP stack\nFollow this tutorial:\n[How To Install Linux, Nginx, MySQL, PHP (LEMP stack) in Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-in-ubuntu-16-04)\n\nError installing mysql?（安装Mysql出现错误?)\nUninstall mysql completely (按照以下的教程完全卸载Mysql再重新安装):\n[Uninstall MySQL from Ubuntu 16.04](http://askubuntu.com/questions/776845/uninstall-mysql-from-ubuntu-16-04)\n[Uninstall MySQL completely](http://askubuntu.com/questions/640899/uninstall-mysql-completely)\n\n#### Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04\nFollow this tutorial:\n[How To Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04)\n\n**Step One: Set Up New Document Root Directories**\nBy default, Nginx on Ubuntu 16.04 has one server block enabled by default. It is configured to serve documents out of a directory at `/var/www/html`\n\nWe will create a directory structure within `/var/www` for each of our sites. The actual web content will be placed in an `html` directory within these site-specific directories. This gives us some additional flexibility to create other directories associated with our sites as siblings to the html directory if necessary.\n\n```bash\nsudo mkdir -p /var/www/yingchi.me/html\nsudo mkdir -p /var/www/blog.yingchi.me/html\n```\n\nWe can use the `$USER` environmental variable to assign ownership to the account that we are currently signed in on (make sure you're not logged in as root). This will allow us to easily create or edit the content in this directory:\n\n```shell\nsudo chown -R $USER:$USER /var/www/yingchi.me/html\nsudo chown -R $USER:$USER /var/www/blog.yingchi.me/html\n```\n**Step 2: upload your website files to your domains**\nYou can simple create a dummy `index.html` page if you just want to test.\nOtherwise, you can upload your files using SFTP or other file transfer methods.\n\n**Step 3: Create server block files for each domain** \nwe will create our first server block config file by copying over the default file:\n\n```bash\nsudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/yingchi.me\nsudo nano /etc/nginx/sites-available/yingchi.me\n```\nEdit the file, and make it looks like the following:\n\n```javascript\nserver {\n    listen 80;\n    listen [::]:80;\n\n    root /var/www/yingchi.me/html;\n    index index.html index.htm index.nginx-debian.html;\n\n    server_name yingchi.me www.yingchi.me;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n}\n```\nDo the same for the 2nd domain.\n\n**Step 4: Enable your Server Blocks and Restart Nginx**\nNow that we have our server block files, we need to enable them. We can do this by creating symbolic links from these files to the sites-enabled directory, which Nginx reads from during startup.\n\nWe can create these links by typing:\n\n```shell\nsudo ln -s /etc/nginx/sites-available/yingchi.me /etc/nginx/sites-enabled/\nsudo ln -s /etc/nginx/sites-available/blog.yingchi.me /etc/nginx/sites-enabled/\n```\n\n> ### What is symbolic link?\n> A symbolic link, also termed a soft link, is a special kind of file that points to another file, much ==like a shortcut in Windows or a Macintosh alias==. Unlike a hard link, a symbolic link does not contain the data in the target file. It simply points to another entry somewhere in the file system. This difference gives symbolic links certain qualities that hard links do not have, such as the ability to link to directories, or to files on remote computers networked through NFS. Also, when you delete a target file, symbolic links to that file become unusable, whereas hard links preserve the contents of the file.\nTo create a symbolic link in Unix/Linux, at the Unix prompt, enter:\n\n>```\nln -s source_file myfile\n```\n\n> Replace `source_file` with the name of the existing file for which you want to create the symbolic link (this file can be any existing file or directory across the file systems). Replace `myfile` with the name of the symbolic link. The `ln` command then creates the symbolic link. After you've made the symbolic link, you can perform an operation on or execute `myfile`, just as you could with the `source_file`. You can use normal file management commands (e.g., `cp`, `rm`) on the symbolic link.\n\n#### Transfer files Local <==> Remote Server using SFTP\nFollow this tutorial if it's your first time using SFTP:\n[How To Use SFTP to Securely Transfer Files with a Remote Server](https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server)\nYou can also set up SFTP on Cyberduck by providing your server IP, username and password. Put port number as 22.\n\nI encountered the following error when trying to upload files through SFTP.\n![](14890468705671.jpg)\n\nI then tried to upload files from terminal (log in by `sftp yingchi@xx.xx.xx.xx`) and I got\n\n```bash\nremote open(\"/var/www/yingchi.me/html/index.html\"): Permission denied\n```\n\nSo it seems that I did not set the permission for the folder correctly.\n\nAfter some search, here is the solution:\n\n**1. add user \"yingchi\" to group \"www-data\" (below replace yingchi with your username):**\n\n```shell\nsudo usermod -a -G www-data yingchi\n```\n**2. set permissions for user group www-data**\nHere, because I want to upload my files to `/var/www/yingchi.me/...`\nand also `/var/www/blog.yingchi.me/...`, so I opened the permission for `/var/www`. If you just have one domain, and the files are under `/var/www/html`, you can modify the path and only open permission for that folder.\n\n```shell\nsudo chown -R www-data:www-data /var/www\nsudo chmod -R g+w /var/www\n```\n\n#### Nginx server blocks 设置\n\nhttps://fraserxu.me/2013/06/22/Nginx-for-developers/\n\n","source":"_posts/rebuild-personal-website-and-blog.md","raw":"---\ntitle: Rebuild Personal Website and Blog|重新搭建站点和博客\ndate: 2017-03-11 18:03:02\ntags: website dev\ncategories: Website Dev\ncomments: true\ntoc: true\nthumbnail:\nbanner:\n---\n流水账日志\n<!--more -->\n\n### 心路历程：\n1. 之前在Bluehost上买了个域名`yingchi.com`，就直接在它那里买了最基本的Web hosting服务，用的是LAPM stack(Linux, Apache, MySQL, and PHP)，花了半天找了个好看的个人主页模板，修修改改，填上经历技能就放那里没管了。\n2. 现在想添个博客上去，也督促自己把平时的笔记定时整理一下。\n3. 随便一查，发现我去，Bluehost的域名费不便宜啊。马上要续费了，大概 $15 USD一年，然后namecheap上是 $10一年。用GitHub的Student Pack还能白拿一年的`yingchi.me`域名玩。所以就把域名迁移到了namecheap。\n4. 然后又查到Digital Ocean的Web hosting也更便宜，还可以随便安装系统，用VPS。而Bluehost上给的服务是Shared hosting。就买了DO的服务，先把`yingchi.me`搞过去玩一玩。\n5. 想做到：\n    - 在namecheap管理域名\n    - 在DO host `yingchi.com` 并把个人资料页面放在这里\n    - 在`blog.yingchi.com`放基于Hexo平台的个人博客\n\n### 基于现实的计划：\n1. 因为在Bluehost的Web hosting服务还有一年(为什么要买这么久。。。), 所以`yingchi.com`的hosting先不动\n2. 用`yingchi.me`这个域名，**在DO实现个人主页和博客的搭建** （这是个工程比较大的一步）\n3. 把`yingchi.com`域名host到DO，并第二步迁移到`yingchi.com`\n\n\n### 在DO实现个人主页和博客的搭建：\n1. 个人主页计划放在 `yingchi.me` 用普通HTML页面实现。博客放在`blog.yingchi.me`, 用Hexo实现\n2. 在本地搭建完成个人主页（先用原来的）和个人博客。Complete the development for the personal homepage and also the blog locally。流水账和踩坑过程记录在：\n3. 把这两套站点的文件部署到DO上。流水账和踩坑过程记录在：\n\n### 心路历程3.的具体过程\nWhen I log in to my cPanel, under 'performance' tab, there is no 'manage access' option. \n![](14889387685017.jpg)\n\nIt seems that I do not have a dedicated IP address.\nHowever, after looking up the charges for VPS or dedicated IP, it was around $20 per month. I don't want to invest so much for now. So let's try some other approachs:\n\n- host my blog subdomain `blog.peiyingchi.com` on GitHub Pages. This option is free\n- move my hosting service from bluehost to another server provider completely. E.g. Digital Ocean, where they provides VPS server at $4 per month.\n\n如果不想麻烦学习VPS还有花钱去买这些服务，而且只是想简单的搭建一个Blog的话可以用第一种渠道。\n这个渠道搭建Hexo blog已经有很多网上教程可以跟着学。下面是一个比较全面的：\nhttp://blog.fens.me/hexo-blog-github/\n\n经过纠结😖，我没有用github作为服务器，最终选了第二种方，去买了DO的基本版的ubuntu server。\n\n\n### 心路历程4.的具体过程\n这里我选了Digital Ocean, 从GitHub的Student pack里面可以拿到$50的promotion. \n\nCreate a new DigitalOcean Droplets with Ubentu 16.04.2 x64.\nSelect the $5/mo package.\nAdd SSH keys.\n\n> On what is SSH keys and how to add one, refer to this [How To Use SSH Keys with DigitalOcean Droplets](https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets)\n\n\n\n\n不想在这里add shh keys直接点create。 会有邮件给你root的地址和密码，有另一封邮件告诉你怎么做一些简单的server setup。一步步跟着来就好。\n\n**Step 1: The Must-Haves**\n\n- Review the Ubuntu 14.04 server checklist which covers:\n    - [Initial Ubuntu server setup](http://pages.news.digitalocean.com/z0VX3V6001eIXHQ0EYC0D00) tutorial with step-by-step configuration instructions, and\n[Connecting to your Droplet with SSH.](http://pages.news.digitalocean.com/z0VX3V6001eIXIQ0EYD0D00)\n    - Use DigitalOcean’s DNS to [set up your hostname](http://pages.news.digitalocean.com/f00QV060XJ010I3VEXDEY0e) from the Control Panel.\n\n**Step 2: Web Servers**\n\n- Install the powerful [Nginx web server](http://pages.news.digitalocean.com/XV60YHI1X000DQeXV030EM0) on Ubuntu.\n- Use [Nginx virtual hosts](http://pages.news.digitalocean.com/I001NEX06eYIXV3V0Q0ID00) to serve multiple sites on one server. \n\n在设置Domain的过程中可能会碰到下面这些名词：\n>A记录\nA记录是用来指定主机名（或域名）对应的IP地址记录。用户可以将该域名下的网站服务器指向到自己的web server上。同时也可以设置您域名的二级域名。\nCNAME记录\nCNAME记录，即：别名记录。这种记录允许您将多个名字映射到同一台计算机。 通常用于同时提供WWW和MAIL服务的计算机。例如，有一台计算机名为“host.mydomain.com”（A记录）。 它同时提供WWW和MAIL服务，为了便于用户访问服务。可以为该计算机设置两个别名（CNAME）：WWW和MAIL。\n\n#### Install LEMP stack\nFollow this tutorial:\n[How To Install Linux, Nginx, MySQL, PHP (LEMP stack) in Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-in-ubuntu-16-04)\n\nError installing mysql?（安装Mysql出现错误?)\nUninstall mysql completely (按照以下的教程完全卸载Mysql再重新安装):\n[Uninstall MySQL from Ubuntu 16.04](http://askubuntu.com/questions/776845/uninstall-mysql-from-ubuntu-16-04)\n[Uninstall MySQL completely](http://askubuntu.com/questions/640899/uninstall-mysql-completely)\n\n#### Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04\nFollow this tutorial:\n[How To Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04](https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04)\n\n**Step One: Set Up New Document Root Directories**\nBy default, Nginx on Ubuntu 16.04 has one server block enabled by default. It is configured to serve documents out of a directory at `/var/www/html`\n\nWe will create a directory structure within `/var/www` for each of our sites. The actual web content will be placed in an `html` directory within these site-specific directories. This gives us some additional flexibility to create other directories associated with our sites as siblings to the html directory if necessary.\n\n```bash\nsudo mkdir -p /var/www/yingchi.me/html\nsudo mkdir -p /var/www/blog.yingchi.me/html\n```\n\nWe can use the `$USER` environmental variable to assign ownership to the account that we are currently signed in on (make sure you're not logged in as root). This will allow us to easily create or edit the content in this directory:\n\n```shell\nsudo chown -R $USER:$USER /var/www/yingchi.me/html\nsudo chown -R $USER:$USER /var/www/blog.yingchi.me/html\n```\n**Step 2: upload your website files to your domains**\nYou can simple create a dummy `index.html` page if you just want to test.\nOtherwise, you can upload your files using SFTP or other file transfer methods.\n\n**Step 3: Create server block files for each domain** \nwe will create our first server block config file by copying over the default file:\n\n```bash\nsudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/yingchi.me\nsudo nano /etc/nginx/sites-available/yingchi.me\n```\nEdit the file, and make it looks like the following:\n\n```javascript\nserver {\n    listen 80;\n    listen [::]:80;\n\n    root /var/www/yingchi.me/html;\n    index index.html index.htm index.nginx-debian.html;\n\n    server_name yingchi.me www.yingchi.me;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n}\n```\nDo the same for the 2nd domain.\n\n**Step 4: Enable your Server Blocks and Restart Nginx**\nNow that we have our server block files, we need to enable them. We can do this by creating symbolic links from these files to the sites-enabled directory, which Nginx reads from during startup.\n\nWe can create these links by typing:\n\n```shell\nsudo ln -s /etc/nginx/sites-available/yingchi.me /etc/nginx/sites-enabled/\nsudo ln -s /etc/nginx/sites-available/blog.yingchi.me /etc/nginx/sites-enabled/\n```\n\n> ### What is symbolic link?\n> A symbolic link, also termed a soft link, is a special kind of file that points to another file, much ==like a shortcut in Windows or a Macintosh alias==. Unlike a hard link, a symbolic link does not contain the data in the target file. It simply points to another entry somewhere in the file system. This difference gives symbolic links certain qualities that hard links do not have, such as the ability to link to directories, or to files on remote computers networked through NFS. Also, when you delete a target file, symbolic links to that file become unusable, whereas hard links preserve the contents of the file.\nTo create a symbolic link in Unix/Linux, at the Unix prompt, enter:\n\n>```\nln -s source_file myfile\n```\n\n> Replace `source_file` with the name of the existing file for which you want to create the symbolic link (this file can be any existing file or directory across the file systems). Replace `myfile` with the name of the symbolic link. The `ln` command then creates the symbolic link. After you've made the symbolic link, you can perform an operation on or execute `myfile`, just as you could with the `source_file`. You can use normal file management commands (e.g., `cp`, `rm`) on the symbolic link.\n\n#### Transfer files Local <==> Remote Server using SFTP\nFollow this tutorial if it's your first time using SFTP:\n[How To Use SFTP to Securely Transfer Files with a Remote Server](https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server)\nYou can also set up SFTP on Cyberduck by providing your server IP, username and password. Put port number as 22.\n\nI encountered the following error when trying to upload files through SFTP.\n![](14890468705671.jpg)\n\nI then tried to upload files from terminal (log in by `sftp yingchi@xx.xx.xx.xx`) and I got\n\n```bash\nremote open(\"/var/www/yingchi.me/html/index.html\"): Permission denied\n```\n\nSo it seems that I did not set the permission for the folder correctly.\n\nAfter some search, here is the solution:\n\n**1. add user \"yingchi\" to group \"www-data\" (below replace yingchi with your username):**\n\n```shell\nsudo usermod -a -G www-data yingchi\n```\n**2. set permissions for user group www-data**\nHere, because I want to upload my files to `/var/www/yingchi.me/...`\nand also `/var/www/blog.yingchi.me/...`, so I opened the permission for `/var/www`. If you just have one domain, and the files are under `/var/www/html`, you can modify the path and only open permission for that folder.\n\n```shell\nsudo chown -R www-data:www-data /var/www\nsudo chmod -R g+w /var/www\n```\n\n#### Nginx server blocks 设置\n\nhttps://fraserxu.me/2013/06/22/Nginx-for-developers/\n\n","slug":"rebuild-personal-website-and-blog","published":1,"updated":"2017-03-17T07:52:00.000Z","layout":"post","photos":[],"link":"","_id":"cj0dnkbij000d8kkh10khpmc1","content":"<p>流水账日志<br><a id=\"more\"></a></p>\n<h3 id=\"心路历程：\"><a href=\"#心路历程：\" class=\"headerlink\" title=\"心路历程：\"></a>心路历程：</h3><ol>\n<li>之前在Bluehost上买了个域名<code>yingchi.com</code>，就直接在它那里买了最基本的Web hosting服务，用的是LAPM stack(Linux, Apache, MySQL, and PHP)，花了半天找了个好看的个人主页模板，修修改改，填上经历技能就放那里没管了。</li>\n<li>现在想添个博客上去，也督促自己把平时的笔记定时整理一下。</li>\n<li>随便一查，发现我去，Bluehost的域名费不便宜啊。马上要续费了，大概 $15 USD一年，然后namecheap上是 $10一年。用GitHub的Student Pack还能白拿一年的<code>yingchi.me</code>域名玩。所以就把域名迁移到了namecheap。</li>\n<li>然后又查到Digital Ocean的Web hosting也更便宜，还可以随便安装系统，用VPS。而Bluehost上给的服务是Shared hosting。就买了DO的服务，先把<code>yingchi.me</code>搞过去玩一玩。</li>\n<li>想做到：<ul>\n<li>在namecheap管理域名</li>\n<li>在DO host <code>yingchi.com</code> 并把个人资料页面放在这里</li>\n<li>在<code>blog.yingchi.com</code>放基于Hexo平台的个人博客</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"基于现实的计划：\"><a href=\"#基于现实的计划：\" class=\"headerlink\" title=\"基于现实的计划：\"></a>基于现实的计划：</h3><ol>\n<li>因为在Bluehost的Web hosting服务还有一年(为什么要买这么久。。。), 所以<code>yingchi.com</code>的hosting先不动</li>\n<li>用<code>yingchi.me</code>这个域名，<strong>在DO实现个人主页和博客的搭建</strong> （这是个工程比较大的一步）</li>\n<li>把<code>yingchi.com</code>域名host到DO，并第二步迁移到<code>yingchi.com</code></li>\n</ol>\n<h3 id=\"在DO实现个人主页和博客的搭建：\"><a href=\"#在DO实现个人主页和博客的搭建：\" class=\"headerlink\" title=\"在DO实现个人主页和博客的搭建：\"></a>在DO实现个人主页和博客的搭建：</h3><ol>\n<li>个人主页计划放在 <code>yingchi.me</code> 用普通HTML页面实现。博客放在<code>blog.yingchi.me</code>, 用Hexo实现</li>\n<li>在本地搭建完成个人主页（先用原来的）和个人博客。Complete the development for the personal homepage and also the blog locally。流水账和踩坑过程记录在：</li>\n<li>把这两套站点的文件部署到DO上。流水账和踩坑过程记录在：</li>\n</ol>\n<h3 id=\"心路历程3-的具体过程\"><a href=\"#心路历程3-的具体过程\" class=\"headerlink\" title=\"心路历程3.的具体过程\"></a>心路历程3.的具体过程</h3><p>When I log in to my cPanel, under ‘performance’ tab, there is no ‘manage access’ option.<br><img src=\"14889387685017.jpg\" alt=\"\"></p>\n<p>It seems that I do not have a dedicated IP address.<br>However, after looking up the charges for VPS or dedicated IP, it was around $20 per month. I don’t want to invest so much for now. So let’s try some other approachs:</p>\n<ul>\n<li>host my blog subdomain <code>blog.peiyingchi.com</code> on GitHub Pages. This option is free</li>\n<li>move my hosting service from bluehost to another server provider completely. E.g. Digital Ocean, where they provides VPS server at $4 per month.</li>\n</ul>\n<p>如果不想麻烦学习VPS还有花钱去买这些服务，而且只是想简单的搭建一个Blog的话可以用第一种渠道。<br>这个渠道搭建Hexo blog已经有很多网上教程可以跟着学。下面是一个比较全面的：<br><a href=\"http://blog.fens.me/hexo-blog-github/\" target=\"_blank\" rel=\"external\">http://blog.fens.me/hexo-blog-github/</a></p>\n<p>经过纠结😖，我没有用github作为服务器，最终选了第二种方，去买了DO的基本版的ubuntu server。</p>\n<h3 id=\"心路历程4-的具体过程\"><a href=\"#心路历程4-的具体过程\" class=\"headerlink\" title=\"心路历程4.的具体过程\"></a>心路历程4.的具体过程</h3><p>这里我选了Digital Ocean, 从GitHub的Student pack里面可以拿到$50的promotion. </p>\n<p>Create a new DigitalOcean Droplets with Ubentu 16.04.2 x64.<br>Select the $5/mo package.<br>Add SSH keys.</p>\n<blockquote>\n<p>On what is SSH keys and how to add one, refer to this <a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets\" target=\"_blank\" rel=\"external\">How To Use SSH Keys with DigitalOcean Droplets</a></p>\n</blockquote>\n<p>不想在这里add shh keys直接点create。 会有邮件给你root的地址和密码，有另一封邮件告诉你怎么做一些简单的server setup。一步步跟着来就好。</p>\n<p><strong>Step 1: The Must-Haves</strong></p>\n<ul>\n<li>Review the Ubuntu 14.04 server checklist which covers:<ul>\n<li><a href=\"http://pages.news.digitalocean.com/z0VX3V6001eIXHQ0EYC0D00\" target=\"_blank\" rel=\"external\">Initial Ubuntu server setup</a> tutorial with step-by-step configuration instructions, and<br><a href=\"http://pages.news.digitalocean.com/z0VX3V6001eIXIQ0EYD0D00\" target=\"_blank\" rel=\"external\">Connecting to your Droplet with SSH.</a></li>\n<li>Use DigitalOcean’s DNS to <a href=\"http://pages.news.digitalocean.com/f00QV060XJ010I3VEXDEY0e\" target=\"_blank\" rel=\"external\">set up your hostname</a> from the Control Panel.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Step 2: Web Servers</strong></p>\n<ul>\n<li>Install the powerful <a href=\"http://pages.news.digitalocean.com/XV60YHI1X000DQeXV030EM0\" target=\"_blank\" rel=\"external\">Nginx web server</a> on Ubuntu.</li>\n<li>Use <a href=\"http://pages.news.digitalocean.com/I001NEX06eYIXV3V0Q0ID00\" target=\"_blank\" rel=\"external\">Nginx virtual hosts</a> to serve multiple sites on one server. </li>\n</ul>\n<p>在设置Domain的过程中可能会碰到下面这些名词：</p>\n<blockquote>\n<p>A记录<br>A记录是用来指定主机名（或域名）对应的IP地址记录。用户可以将该域名下的网站服务器指向到自己的web server上。同时也可以设置您域名的二级域名。<br>CNAME记录<br>CNAME记录，即：别名记录。这种记录允许您将多个名字映射到同一台计算机。 通常用于同时提供WWW和MAIL服务的计算机。例如，有一台计算机名为“host.mydomain.com”（A记录）。 它同时提供WWW和MAIL服务，为了便于用户访问服务。可以为该计算机设置两个别名（CNAME）：WWW和MAIL。</p>\n</blockquote>\n<h4 id=\"Install-LEMP-stack\"><a href=\"#Install-LEMP-stack\" class=\"headerlink\" title=\"Install LEMP stack\"></a>Install LEMP stack</h4><p>Follow this tutorial:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-in-ubuntu-16-04\" target=\"_blank\" rel=\"external\">How To Install Linux, Nginx, MySQL, PHP (LEMP stack) in Ubuntu 16.04</a></p>\n<p>Error installing mysql?（安装Mysql出现错误?)<br>Uninstall mysql completely (按照以下的教程完全卸载Mysql再重新安装):<br><a href=\"http://askubuntu.com/questions/776845/uninstall-mysql-from-ubuntu-16-04\" target=\"_blank\" rel=\"external\">Uninstall MySQL from Ubuntu 16.04</a><br><a href=\"http://askubuntu.com/questions/640899/uninstall-mysql-completely\" target=\"_blank\" rel=\"external\">Uninstall MySQL completely</a></p>\n<h4 id=\"Set-Up-Nginx-Server-Blocks-Virtual-Hosts-on-Ubuntu-16-04\"><a href=\"#Set-Up-Nginx-Server-Blocks-Virtual-Hosts-on-Ubuntu-16-04\" class=\"headerlink\" title=\"Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04\"></a>Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04</h4><p>Follow this tutorial:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04\" target=\"_blank\" rel=\"external\">How To Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04</a></p>\n<p><strong>Step One: Set Up New Document Root Directories</strong><br>By default, Nginx on Ubuntu 16.04 has one server block enabled by default. It is configured to serve documents out of a directory at <code>/var/www/html</code></p>\n<p>We will create a directory structure within <code>/var/www</code> for each of our sites. The actual web content will be placed in an <code>html</code> directory within these site-specific directories. This gives us some additional flexibility to create other directories associated with our sites as siblings to the html directory if necessary.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo mkdir -p /var/www/yingchi.me/html</div><div class=\"line\">sudo mkdir -p /var/www/blog.yingchi.me/html</div></pre></td></tr></table></figure>\n<p>We can use the <code>$USER</code> environmental variable to assign ownership to the account that we are currently signed in on (make sure you’re not logged in as root). This will allow us to easily create or edit the content in this directory:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo chown -R $USER:$USER /var/www/yingchi.me/html</div><div class=\"line\">sudo chown -R $USER:$USER /var/www/blog.yingchi.me/html</div></pre></td></tr></table></figure>\n<p><strong>Step 2: upload your website files to your domains</strong><br>You can simple create a dummy <code>index.html</code> page if you just want to test.<br>Otherwise, you can upload your files using SFTP or other file transfer methods.</p>\n<p><strong>Step 3: Create server block files for each domain</strong><br>we will create our first server block config file by copying over the default file:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/yingchi.me</div><div class=\"line\">sudo nano /etc/nginx/sites-available/yingchi.me</div></pre></td></tr></table></figure>\n<p>Edit the file, and make it looks like the following:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">    listen <span class=\"number\">80</span>;</div><div class=\"line\">    listen [::]:<span class=\"number\">80</span>;</div><div class=\"line\"></div><div class=\"line\">    root /<span class=\"keyword\">var</span>/www/yingchi.me/html;</div><div class=\"line\">    index index.html index.htm index.nginx-debian.html;</div><div class=\"line\"></div><div class=\"line\">    server_name yingchi.me www.yingchi.me;</div><div class=\"line\"></div><div class=\"line\">    location / &#123;</div><div class=\"line\">        try_files $uri $uri/ =<span class=\"number\">404</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Do the same for the 2nd domain.</p>\n<p><strong>Step 4: Enable your Server Blocks and Restart Nginx</strong><br>Now that we have our server block files, we need to enable them. We can do this by creating symbolic links from these files to the sites-enabled directory, which Nginx reads from during startup.</p>\n<p>We can create these links by typing:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo ln -s /etc/nginx/sites-available/yingchi.me /etc/nginx/sites-enabled/</div><div class=\"line\">sudo ln -s /etc/nginx/sites-available/blog.yingchi.me /etc/nginx/sites-enabled/</div></pre></td></tr></table></figure>\n<blockquote>\n<h3 id=\"What-is-symbolic-link\"><a href=\"#What-is-symbolic-link\" class=\"headerlink\" title=\"What is symbolic link?\"></a>What is symbolic link?</h3><p>A symbolic link, also termed a soft link, is a special kind of file that points to another file, much ==like a shortcut in Windows or a Macintosh alias==. Unlike a hard link, a symbolic link does not contain the data in the target file. It simply points to another entry somewhere in the file system. This difference gives symbolic links certain qualities that hard links do not have, such as the ability to link to directories, or to files on remote computers networked through NFS. Also, when you delete a target file, symbolic links to that file become unusable, whereas hard links preserve the contents of the file.<br>To create a symbolic link in Unix/Linux, at the Unix prompt, enter:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ln -s source_file myfile</div></pre></td></tr></table></figure>\n<p>Replace <code>source_file</code> with the name of the existing file for which you want to create the symbolic link (this file can be any existing file or directory across the file systems). Replace <code>myfile</code> with the name of the symbolic link. The <code>ln</code> command then creates the symbolic link. After you’ve made the symbolic link, you can perform an operation on or execute <code>myfile</code>, just as you could with the <code>source_file</code>. You can use normal file management commands (e.g., <code>cp</code>, <code>rm</code>) on the symbolic link.</p>\n</blockquote>\n<h4 id=\"Transfer-files-Local-lt-gt-Remote-Server-using-SFTP\"><a href=\"#Transfer-files-Local-lt-gt-Remote-Server-using-SFTP\" class=\"headerlink\" title=\"Transfer files Local &lt;==&gt; Remote Server using SFTP\"></a>Transfer files Local &lt;==&gt; Remote Server using SFTP</h4><p>Follow this tutorial if it’s your first time using SFTP:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server\" target=\"_blank\" rel=\"external\">How To Use SFTP to Securely Transfer Files with a Remote Server</a><br>You can also set up SFTP on Cyberduck by providing your server IP, username and password. Put port number as 22.</p>\n<p>I encountered the following error when trying to upload files through SFTP.<br><img src=\"14890468705671.jpg\" alt=\"\"></p>\n<p>I then tried to upload files from terminal (log in by <code>sftp yingchi@xx.xx.xx.xx</code>) and I got</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">remote open(<span class=\"string\">\"/var/www/yingchi.me/html/index.html\"</span>): Permission denied</div></pre></td></tr></table></figure>\n<p>So it seems that I did not set the permission for the folder correctly.</p>\n<p>After some search, here is the solution:</p>\n<p><strong>1. add user “yingchi” to group “www-data” (below replace yingchi with your username):</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo usermod -a -G www-data yingchi</div></pre></td></tr></table></figure>\n<p><strong>2. set permissions for user group www-data</strong><br>Here, because I want to upload my files to <code>/var/www/yingchi.me/...</code><br>and also <code>/var/www/blog.yingchi.me/...</code>, so I opened the permission for <code>/var/www</code>. If you just have one domain, and the files are under <code>/var/www/html</code>, you can modify the path and only open permission for that folder.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo chown -R www-data:www-data /var/www</div><div class=\"line\">sudo chmod -R g+w /var/www</div></pre></td></tr></table></figure>\n<h4 id=\"Nginx-server-blocks-设置\"><a href=\"#Nginx-server-blocks-设置\" class=\"headerlink\" title=\"Nginx server blocks 设置\"></a>Nginx server blocks 设置</h4><p><a href=\"https://fraserxu.me/2013/06/22/Nginx-for-developers/\" target=\"_blank\" rel=\"external\">https://fraserxu.me/2013/06/22/Nginx-for-developers/</a></p>\n","excerpt":"<p>流水账日志<br>","more":"</p>\n<h3 id=\"心路历程：\"><a href=\"#心路历程：\" class=\"headerlink\" title=\"心路历程：\"></a>心路历程：</h3><ol>\n<li>之前在Bluehost上买了个域名<code>yingchi.com</code>，就直接在它那里买了最基本的Web hosting服务，用的是LAPM stack(Linux, Apache, MySQL, and PHP)，花了半天找了个好看的个人主页模板，修修改改，填上经历技能就放那里没管了。</li>\n<li>现在想添个博客上去，也督促自己把平时的笔记定时整理一下。</li>\n<li>随便一查，发现我去，Bluehost的域名费不便宜啊。马上要续费了，大概 $15 USD一年，然后namecheap上是 $10一年。用GitHub的Student Pack还能白拿一年的<code>yingchi.me</code>域名玩。所以就把域名迁移到了namecheap。</li>\n<li>然后又查到Digital Ocean的Web hosting也更便宜，还可以随便安装系统，用VPS。而Bluehost上给的服务是Shared hosting。就买了DO的服务，先把<code>yingchi.me</code>搞过去玩一玩。</li>\n<li>想做到：<ul>\n<li>在namecheap管理域名</li>\n<li>在DO host <code>yingchi.com</code> 并把个人资料页面放在这里</li>\n<li>在<code>blog.yingchi.com</code>放基于Hexo平台的个人博客</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"基于现实的计划：\"><a href=\"#基于现实的计划：\" class=\"headerlink\" title=\"基于现实的计划：\"></a>基于现实的计划：</h3><ol>\n<li>因为在Bluehost的Web hosting服务还有一年(为什么要买这么久。。。), 所以<code>yingchi.com</code>的hosting先不动</li>\n<li>用<code>yingchi.me</code>这个域名，<strong>在DO实现个人主页和博客的搭建</strong> （这是个工程比较大的一步）</li>\n<li>把<code>yingchi.com</code>域名host到DO，并第二步迁移到<code>yingchi.com</code></li>\n</ol>\n<h3 id=\"在DO实现个人主页和博客的搭建：\"><a href=\"#在DO实现个人主页和博客的搭建：\" class=\"headerlink\" title=\"在DO实现个人主页和博客的搭建：\"></a>在DO实现个人主页和博客的搭建：</h3><ol>\n<li>个人主页计划放在 <code>yingchi.me</code> 用普通HTML页面实现。博客放在<code>blog.yingchi.me</code>, 用Hexo实现</li>\n<li>在本地搭建完成个人主页（先用原来的）和个人博客。Complete the development for the personal homepage and also the blog locally。流水账和踩坑过程记录在：</li>\n<li>把这两套站点的文件部署到DO上。流水账和踩坑过程记录在：</li>\n</ol>\n<h3 id=\"心路历程3-的具体过程\"><a href=\"#心路历程3-的具体过程\" class=\"headerlink\" title=\"心路历程3.的具体过程\"></a>心路历程3.的具体过程</h3><p>When I log in to my cPanel, under ‘performance’ tab, there is no ‘manage access’ option.<br><img src=\"14889387685017.jpg\" alt=\"\"></p>\n<p>It seems that I do not have a dedicated IP address.<br>However, after looking up the charges for VPS or dedicated IP, it was around $20 per month. I don’t want to invest so much for now. So let’s try some other approachs:</p>\n<ul>\n<li>host my blog subdomain <code>blog.peiyingchi.com</code> on GitHub Pages. This option is free</li>\n<li>move my hosting service from bluehost to another server provider completely. E.g. Digital Ocean, where they provides VPS server at $4 per month.</li>\n</ul>\n<p>如果不想麻烦学习VPS还有花钱去买这些服务，而且只是想简单的搭建一个Blog的话可以用第一种渠道。<br>这个渠道搭建Hexo blog已经有很多网上教程可以跟着学。下面是一个比较全面的：<br><a href=\"http://blog.fens.me/hexo-blog-github/\">http://blog.fens.me/hexo-blog-github/</a></p>\n<p>经过纠结😖，我没有用github作为服务器，最终选了第二种方，去买了DO的基本版的ubuntu server。</p>\n<h3 id=\"心路历程4-的具体过程\"><a href=\"#心路历程4-的具体过程\" class=\"headerlink\" title=\"心路历程4.的具体过程\"></a>心路历程4.的具体过程</h3><p>这里我选了Digital Ocean, 从GitHub的Student pack里面可以拿到$50的promotion. </p>\n<p>Create a new DigitalOcean Droplets with Ubentu 16.04.2 x64.<br>Select the $5/mo package.<br>Add SSH keys.</p>\n<blockquote>\n<p>On what is SSH keys and how to add one, refer to this <a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets\">How To Use SSH Keys with DigitalOcean Droplets</a></p>\n</blockquote>\n<p>不想在这里add shh keys直接点create。 会有邮件给你root的地址和密码，有另一封邮件告诉你怎么做一些简单的server setup。一步步跟着来就好。</p>\n<p><strong>Step 1: The Must-Haves</strong></p>\n<ul>\n<li>Review the Ubuntu 14.04 server checklist which covers:<ul>\n<li><a href=\"http://pages.news.digitalocean.com/z0VX3V6001eIXHQ0EYC0D00\">Initial Ubuntu server setup</a> tutorial with step-by-step configuration instructions, and<br><a href=\"http://pages.news.digitalocean.com/z0VX3V6001eIXIQ0EYD0D00\">Connecting to your Droplet with SSH.</a></li>\n<li>Use DigitalOcean’s DNS to <a href=\"http://pages.news.digitalocean.com/f00QV060XJ010I3VEXDEY0e\">set up your hostname</a> from the Control Panel.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Step 2: Web Servers</strong></p>\n<ul>\n<li>Install the powerful <a href=\"http://pages.news.digitalocean.com/XV60YHI1X000DQeXV030EM0\">Nginx web server</a> on Ubuntu.</li>\n<li>Use <a href=\"http://pages.news.digitalocean.com/I001NEX06eYIXV3V0Q0ID00\">Nginx virtual hosts</a> to serve multiple sites on one server. </li>\n</ul>\n<p>在设置Domain的过程中可能会碰到下面这些名词：</p>\n<blockquote>\n<p>A记录<br>A记录是用来指定主机名（或域名）对应的IP地址记录。用户可以将该域名下的网站服务器指向到自己的web server上。同时也可以设置您域名的二级域名。<br>CNAME记录<br>CNAME记录，即：别名记录。这种记录允许您将多个名字映射到同一台计算机。 通常用于同时提供WWW和MAIL服务的计算机。例如，有一台计算机名为“host.mydomain.com”（A记录）。 它同时提供WWW和MAIL服务，为了便于用户访问服务。可以为该计算机设置两个别名（CNAME）：WWW和MAIL。</p>\n</blockquote>\n<h4 id=\"Install-LEMP-stack\"><a href=\"#Install-LEMP-stack\" class=\"headerlink\" title=\"Install LEMP stack\"></a>Install LEMP stack</h4><p>Follow this tutorial:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-linux-nginx-mysql-php-lemp-stack-in-ubuntu-16-04\">How To Install Linux, Nginx, MySQL, PHP (LEMP stack) in Ubuntu 16.04</a></p>\n<p>Error installing mysql?（安装Mysql出现错误?)<br>Uninstall mysql completely (按照以下的教程完全卸载Mysql再重新安装):<br><a href=\"http://askubuntu.com/questions/776845/uninstall-mysql-from-ubuntu-16-04\">Uninstall MySQL from Ubuntu 16.04</a><br><a href=\"http://askubuntu.com/questions/640899/uninstall-mysql-completely\">Uninstall MySQL completely</a></p>\n<h4 id=\"Set-Up-Nginx-Server-Blocks-Virtual-Hosts-on-Ubuntu-16-04\"><a href=\"#Set-Up-Nginx-Server-Blocks-Virtual-Hosts-on-Ubuntu-16-04\" class=\"headerlink\" title=\"Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04\"></a>Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04</h4><p>Follow this tutorial:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04\">How To Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04</a></p>\n<p><strong>Step One: Set Up New Document Root Directories</strong><br>By default, Nginx on Ubuntu 16.04 has one server block enabled by default. It is configured to serve documents out of a directory at <code>/var/www/html</code></p>\n<p>We will create a directory structure within <code>/var/www</code> for each of our sites. The actual web content will be placed in an <code>html</code> directory within these site-specific directories. This gives us some additional flexibility to create other directories associated with our sites as siblings to the html directory if necessary.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo mkdir -p /var/www/yingchi.me/html</div><div class=\"line\">sudo mkdir -p /var/www/blog.yingchi.me/html</div></pre></td></tr></table></figure>\n<p>We can use the <code>$USER</code> environmental variable to assign ownership to the account that we are currently signed in on (make sure you’re not logged in as root). This will allow us to easily create or edit the content in this directory:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo chown -R $USER:$USER /var/www/yingchi.me/html</div><div class=\"line\">sudo chown -R $USER:$USER /var/www/blog.yingchi.me/html</div></pre></td></tr></table></figure>\n<p><strong>Step 2: upload your website files to your domains</strong><br>You can simple create a dummy <code>index.html</code> page if you just want to test.<br>Otherwise, you can upload your files using SFTP or other file transfer methods.</p>\n<p><strong>Step 3: Create server block files for each domain</strong><br>we will create our first server block config file by copying over the default file:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo cp /etc/nginx/sites-available/default /etc/nginx/sites-available/yingchi.me</div><div class=\"line\">sudo nano /etc/nginx/sites-available/yingchi.me</div></pre></td></tr></table></figure>\n<p>Edit the file, and make it looks like the following:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">    listen <span class=\"number\">80</span>;</div><div class=\"line\">    listen [::]:<span class=\"number\">80</span>;</div><div class=\"line\"></div><div class=\"line\">    root /<span class=\"keyword\">var</span>/www/yingchi.me/html;</div><div class=\"line\">    index index.html index.htm index.nginx-debian.html;</div><div class=\"line\"></div><div class=\"line\">    server_name yingchi.me www.yingchi.me;</div><div class=\"line\"></div><div class=\"line\">    location / &#123;</div><div class=\"line\">        try_files $uri $uri/ =<span class=\"number\">404</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>Do the same for the 2nd domain.</p>\n<p><strong>Step 4: Enable your Server Blocks and Restart Nginx</strong><br>Now that we have our server block files, we need to enable them. We can do this by creating symbolic links from these files to the sites-enabled directory, which Nginx reads from during startup.</p>\n<p>We can create these links by typing:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo ln -s /etc/nginx/sites-available/yingchi.me /etc/nginx/sites-enabled/</div><div class=\"line\">sudo ln -s /etc/nginx/sites-available/blog.yingchi.me /etc/nginx/sites-enabled/</div></pre></td></tr></table></figure>\n<blockquote>\n<h3 id=\"What-is-symbolic-link\"><a href=\"#What-is-symbolic-link\" class=\"headerlink\" title=\"What is symbolic link?\"></a>What is symbolic link?</h3><p>A symbolic link, also termed a soft link, is a special kind of file that points to another file, much ==like a shortcut in Windows or a Macintosh alias==. Unlike a hard link, a symbolic link does not contain the data in the target file. It simply points to another entry somewhere in the file system. This difference gives symbolic links certain qualities that hard links do not have, such as the ability to link to directories, or to files on remote computers networked through NFS. Also, when you delete a target file, symbolic links to that file become unusable, whereas hard links preserve the contents of the file.<br>To create a symbolic link in Unix/Linux, at the Unix prompt, enter:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">ln -s source_file myfile</div></pre></td></tr></table></figure>\n<p>Replace <code>source_file</code> with the name of the existing file for which you want to create the symbolic link (this file can be any existing file or directory across the file systems). Replace <code>myfile</code> with the name of the symbolic link. The <code>ln</code> command then creates the symbolic link. After you’ve made the symbolic link, you can perform an operation on or execute <code>myfile</code>, just as you could with the <code>source_file</code>. You can use normal file management commands (e.g., <code>cp</code>, <code>rm</code>) on the symbolic link.</p>\n</blockquote>\n<h4 id=\"Transfer-files-Local-lt-gt-Remote-Server-using-SFTP\"><a href=\"#Transfer-files-Local-lt-gt-Remote-Server-using-SFTP\" class=\"headerlink\" title=\"Transfer files Local &lt;==&gt; Remote Server using SFTP\"></a>Transfer files Local &lt;==&gt; Remote Server using SFTP</h4><p>Follow this tutorial if it’s your first time using SFTP:<br><a href=\"https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server\">How To Use SFTP to Securely Transfer Files with a Remote Server</a><br>You can also set up SFTP on Cyberduck by providing your server IP, username and password. Put port number as 22.</p>\n<p>I encountered the following error when trying to upload files through SFTP.<br><img src=\"14890468705671.jpg\" alt=\"\"></p>\n<p>I then tried to upload files from terminal (log in by <code>sftp yingchi@xx.xx.xx.xx</code>) and I got</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">remote open(<span class=\"string\">\"/var/www/yingchi.me/html/index.html\"</span>): Permission denied</div></pre></td></tr></table></figure>\n<p>So it seems that I did not set the permission for the folder correctly.</p>\n<p>After some search, here is the solution:</p>\n<p><strong>1. add user “yingchi” to group “www-data” (below replace yingchi with your username):</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo usermod -a -G www-data yingchi</div></pre></td></tr></table></figure>\n<p><strong>2. set permissions for user group www-data</strong><br>Here, because I want to upload my files to <code>/var/www/yingchi.me/...</code><br>and also <code>/var/www/blog.yingchi.me/...</code>, so I opened the permission for <code>/var/www</code>. If you just have one domain, and the files are under <code>/var/www/html</code>, you can modify the path and only open permission for that folder.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">sudo chown -R www-data:www-data /var/www</div><div class=\"line\">sudo chmod -R g+w /var/www</div></pre></td></tr></table></figure>\n<h4 id=\"Nginx-server-blocks-设置\"><a href=\"#Nginx-server-blocks-设置\" class=\"headerlink\" title=\"Nginx server blocks 设置\"></a>Nginx server blocks 设置</h4><p><a href=\"https://fraserxu.me/2013/06/22/Nginx-for-developers/\">https://fraserxu.me/2013/06/22/Nginx-for-developers/</a></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"cj0dnkbhu00008kkh93ghrz0j","category_id":"cj0dnkbi200048kkhtch1fwmx","_id":"cj0dnkbik000e8kkhmplz4n60"},{"post_id":"cj0dnkbij000d8kkh10khpmc1","category_id":"cj0dnkbi200048kkhtch1fwmx","_id":"cj0dnkbio000i8kkhoxbhz1yv"},{"post_id":"cj0dnkbhz00028kkh5a05dn2k","category_id":"cj0dnkbi200048kkhtch1fwmx","_id":"cj0dnkbiq000m8kkhwzub3ob2"},{"post_id":"cj0dnkbi800068kkhdadf902s","category_id":"cj0dnkbil000f8kkhfxb5bjr5","_id":"cj0dnkbis000o8kkhtnsig6eh"},{"post_id":"cj0dnkbia00088kkhdojdcfz1","category_id":"cj0dnkbil000f8kkhfxb5bjr5","_id":"cj0dnkbiu000s8kkhqd6pyyh1"},{"post_id":"cj0dnkbif00098kkh8h98vek5","category_id":"cj0dnkbis000p8kkhtgw71ro8","_id":"cj0dnkbiv000u8kkhl8gcckhk"}],"PostTag":[{"post_id":"cj0dnkbhu00008kkh93ghrz0j","tag_id":"cj0dnkbi700058kkhfwnzjoqc","_id":"cj0dnkbij000c8kkhpouw34ey"},{"post_id":"cj0dnkbij000d8kkh10khpmc1","tag_id":"cj0dnkbi700058kkhfwnzjoqc","_id":"cj0dnkbim000h8kkhx6r6rzga"},{"post_id":"cj0dnkbhz00028kkh5a05dn2k","tag_id":"cj0dnkbi700058kkhfwnzjoqc","_id":"cj0dnkbip000j8kkhbt1gnf2l"},{"post_id":"cj0dnkbi800068kkhdadf902s","tag_id":"cj0dnkbil000g8kkh7dzsck2v","_id":"cj0dnkbir000n8kkh9kv0gz0u"},{"post_id":"cj0dnkbia00088kkhdojdcfz1","tag_id":"cj0dnkbil000g8kkh7dzsck2v","_id":"cj0dnkbit000r8kkham0ntvxp"},{"post_id":"cj0dnkbif00098kkh8h98vek5","tag_id":"cj0dnkbis000q8kkh93364y8t","_id":"cj0dnkbiu000t8kkhh8yv3zd3"}],"Tag":[{"name":"website dev","_id":"cj0dnkbi700058kkhfwnzjoqc"},{"name":"hexo","_id":"cj0dnkbil000g8kkh7dzsck2v"},{"name":"blockchain","_id":"cj0dnkbis000q8kkh93364y8t"}]}}